2005-10-04 04:29:09  Alain Bench  <veronatif@free.fr>  (brendan)

	* curs_main.c: Piping and printing in IMAP folder index with
	imap_peek=no marks message read immediately.

2005-10-03 07:52:00  TAKAHASHI Tamotsu  <ttakah@lapis.plala.or.jp>  (roessler)

	* curs_lib.c, send.c: fix a problem that appears with signatures
	without newline.

2005-09-30 18:24:17  Brendan Cully  <brendan@kublai.com>  (brendan)

	* doc/devel-notes.txt: Change manual.sgml to manual.xml (noted
	by Alain Bench).

2005-09-30 01:42:50  Roland Rosenfeld  <roland@spinnaker.de>  (brendan)

	* po/de.po: Update.

2005-09-29 23:57:07  Vincent Lefevre  <vincent@vinc17.org>  (brendan)

	* po/fr.po: Update.

2005-09-29 23:52:16  pi  <pi@beobide.net>  (brendan)

	* configure.in, po/eu.po: Basque translation.

2005-09-29 23:02:49  Brendan Cully  <brendan@kublai.com>  (brendan)

	* configure.in, copy.c, sendlib.c: Ensure that Content-Length
	printf format specifier matches off_t size, to avoid mail-losing
	Content-Length: 0 (bug introduced by large file patch a couple
	of days ago). Closes: #2096.

2005-09-27 03:43:24  Johan Svedberg  <johan@svedberg.com>  (brendan)

	* po/sv.po: Update.

2005-09-24 20:03:04  Brendan Cully  <brendan@kublai.com>  (brendan)

	* edit.c: Inflict more needless pain on translators by splitting
	EditorHelp to satisfy -pedantic.

	* mbox.c, mutt.h, configure.in: Use fseeko/ftello when available
	while opening mbox/mmdf. Closes: #2084.

2005-09-24 19:36:35  Alain Bench  <veronatif@free.fr>  (brendan)

	* copy.c, mutt.h, parse.c, sendlib.c, thread.c: Cosmetic fixes to
	MIME headers. Closes: #2086.

2005-09-24 17:51:17  TAKAHASHI Tamotsu  <ttakah@lapis.plala.or.jp>  (brendan)

	* po/ja.po: Update to HEAD.

2005-09-23 18:38:36  TAKAHASHI Tamotsu  <ttakah@lapis.plala.or.jp>  (brendan)

	* configure.in: Quote an error message.

2005-09-22 16:38:08  Takahashi Tamotsu  <ttakah@lapis.plala.or.jp>  (brendan)

	* configure.in, globals.h, hcache.c, init.h: Update QDBM patch to
	the current state of the art. Closes: #2003 (again).

2005-09-22 09:06:13  Thomas Roessler  <roessler@does-not-exist.org>  (roessler)

	* send.c: When composing a reply, there might be degenerate cases
	in which a CC header is created, but no To header.  In this case,
	we now use the auto-generated CC header as the To header.

2005-09-22 04:05:49  Brendan Cully  <brendan@kublai.com>  (brendan)

	* init.c: Refactor mutt var completion so it can be used for
	inline expansions (eg $from). Actual expansion not committed yet.

	* send.c: If ContentType is null, assume text/plain. Stopgap; a
	better mechanism would sanity-check MuttVars assignments before
	allowing them. Closes: #2080.

	* imap/util.c, imap/imap.c: Don't allow imap URLs with empty
	hosts. Also don't attempt to complete on open connections when
	there aren't any (diagnosed by Nico Golde). Closes: #2079.

	* pattern.c: Use ctx instead of Context when checking whether or
	not to do IMAP search. Resolves a possible segfault in color index
	~b operations. I can't remember whether Context vs ctx was
	intentional - I doubt it.

2005-09-21 14:17:14  Adeodato Simo  <asp16@alu.ua.es>  (brendan)

	* curs_main.c: Check for sigwinch in index before calling
	km_dokey, since for unknown reasons km_dokey seems to eat the
	signal in some cases. [Not reproducible in my ncurses environments
	- Brendan]. Closes: #1907.

2005-09-21 13:23:43  Brendan Cully  <brendan@kublai.com>  (brendan)

	* imap/imap.c, pattern.c: Catch empty substring/regexp search
	arguments (precludes a segfault from dereferencing a null string
	pointer later).

2005-09-21 06:04:37  Thomas Glanzmann  <sithglan@stud.uni-erlangen.de>  (roessler)

	* init.h, mutt.h, configure.in, hcache.c: QDBM support for the
	header cache.

2005-09-21 04:50:31  Adeodato Simo  <asp16@alu.ua.es>  (brendan)

	* pgp.c: When using GPG agent in classic mode, set GPG_TTY if it
	isn't already set instead of bailing out. Closes: #2072.

2005-09-21 03:48:38  Takahashi Tamotsu  <ttakah@lapis.plala.or.jp>  (brendan)

	* init.c: Ensure that set doesn't change variables from within the
	help screen. I think this is a gross approach, and probably
	overkill, but it's the fault of the original code design, not
	Tamo's patch. Until a better way falls from the sky, this Closes:
	#2011.

2005-09-21 02:58:07  Brendan Cully  <brendan@kublai.com>  (brendan)

	* curs_main.c: Cancelling <change-folder> from within the pager
	will now keep you in the pager rather than kicking you back to the
	index. Closes: #2075.

2005-09-20 23:41:21  Vincent Lefevre  <vincent@vinc17.org>  (brendan)

	* muttlib.c: Slight improvement on dgc's warning fix in edge cases.

2005-09-20 06:43:39  David Champion  <dgc@uchicago.edu>  (brendan)

	* init.c: Fix a null-pointer-dereference parsing aliases with
	-d3+.

	* muttlib.c: Clear a compiler warning.

2005-09-20 03:56:25  Gero Treuner  <gerotick@faveve.uni-stuttgart.de>  (brendan)

	* contrib/gpg.rc, doc/manual.xml.tail: Update locations of
	gpg-2comp, Gero Treuner.

2005-09-19 06:14:27  Brendan Cully  <brendan@kublai.com>  (brendan)

	* mkchangelog.sh: I just realised what's been happening to the
	changelog: I recently got a new version of 'head' that refuses
	to accept -1 instead of -n 1, but doesn't actually return
	failure. So mkchangelog was feeding nothing to the cvs date
	argument, and instead merrily snarfing down the entire changelog
	every time. I've put in a simple $date != "" check. Thanks,
	textutils!  Thanks for ushering in the future! I'd like to shake
	your hand. Hard.

2005-09-19 05:12:29  Brendan Cully  <brendan@kublai.com>  (brendan)

	* doc/manual.xml.head: Remove mention of obsolete
	--enable-imap-edit-threads configure option.

2005-09-18 17:49:33  Brendan Cully  <brendan@kublai.com>  (brendan)

	* ChangeLog: Somehow the changelog got mangled (multiple copies
	of large parts).

2005-09-18 08:22:49  Vsevolod Volkov  <vvv@mutt.org.ua>  (roessler)

	* po/ru.po: update

2005-09-18 02:53:18  brendan  (brendan)

	* doc/Makefile.in: More cleanups, slightly better dependencies.

2005-09-18 02:35:10  Brendan Cully  <brendan@kublai.com>  (brendan)

	* doc/Makefile.in: Stupid hack to synchronise on makedoc for
	parallel builds. Only works when entered via make all. make
	stamp-doc-xml directly can fail in pathological conditions.

	* doc/Makefile.in: Attempt to work around make -j2
	breakage. Dependencies are still wrong, but I don't have
	the brainpower right now to get it right. People talk about
	imperative, functional, and logic programming, but no one ever
	mentions make programming.

2005-09-17 20:46:14  Brendan Cully  <brendan@kublai.com>  (brendan)

	* po/pt_BR.po, po/ru.po, po/sk.po, po/sv.po, po/tr.po,
	po/uk.po, po/zh_CN.po, po/zh_TW.po, po/ga.po, po/gl.po,
	po/hu.po, po/id.po, po/it.po, po/ja.po, po/ko.po, po/lt.po,
	po/nl.po, po/pl.po, intl/plural.y, intl/ref-add.sin,
	intl/ref-del.sin, intl/textdomain.c, po/bg.po, po/ca.po,
	po/cs.po, po/da.po, po/de.po, po/el.po, po/eo.po, po/es.po,
	po/et.po, po/fr.po, doc/dotlock.man, doc/manual.xml.head,
	doc/mutt.man, doc/muttbug.man, doc/muttrc.man.head,
	imap/auth.c, imap/auth.h, imap/auth_anon.c, imap/auth_cram.c,
	imap/auth_gss.c, imap/auth_login.c, imap/auth_sasl.c,
	imap/browse.c, imap/command.c, imap/imap.c, imap/imap.h,
	imap/imap_private.h, imap/message.c, imap/message.h, imap/utf7.c,
	imap/util.c, intl/COPYING.LIB-2, intl/COPYING.LIB-2.1,
	intl/Makefile.in, intl/bindtextdom.c, intl/config.charset,
	intl/dcgettext.c, intl/dcigettext.c, intl/dcngettext.c,
	intl/dgettext.c, intl/dngettext.c, intl/explodename.c,
	intl/finddomain.c, intl/gettext.c, intl/gettext.h,
	intl/gettextP.h, intl/hash-string.h, intl/intl-compat.c,
	intl/l10nflist.c, intl/libgettext.h, intl/libgnuintl.h,
	intl/libintl.glibc, intl/loadinfo.h, intl/loadmsgcat.c,
	intl/localcharset.c, intl/locale.alias, intl/localealias.c,
	intl/ngettext.c, intl/plural.c, pgpkey.c, pgplib.c, pgplib.h,
	pgpmicalg.c, pgppacket.c, pgppacket.h, pgppubring.c, pop.c,
	pop.h, pop_auth.c, pop_lib.c, postpone.c, protos.h, query.c,
	recvattach.c, recvcmd.c, regex.c, remailer.c, remailer.h,
	resize.c, rfc1524.c, rfc1524.h, rfc2047.c, rfc2047.h, rfc2231.c,
	rfc2231.h, rfc822.c, rfc822.h, score.c, send.c, sendlib.c,
	signal.c, smime.c, smime.h, smime_keys.pl, sort.c, sort.h,
	status.c, system.c, thread.c, url.c, browser.h, buffy.c, buffy.h,
	charset.c, charset.h, color.c, commands.c, complete.c, compose.c,
	config.guess, config.sub, copy.c, copy.h, crypt-gpgme.c,
	crypt-gpgme.h, crypt-mod-pgp-classic.c, crypt-mod-pgp-gpgme.c,
	crypt-mod-smime-classic.c, crypt-mod-smime-gpgme.c, crypt-mod.c,
	crypt-mod.h, crypt.c, cryptglue.c, curs_lib.c, curs_main.c,
	date.c, depcomp, dotlock.c, dotlock.h, edit.c, editmsg.c,
	enter.c, extlib.c, filter.c, flags.c, from.c, functions.h,
	globals.h, gnupgparse.c, handler.c, hash.c, hash.h, hcache.c,
	hdrline.c, headers.c, help.c, history.c, history.h, hook.c,
	init.c, init.h, keymap.c, keymap.h, lib.c, lib.h, mailbox.h,
	main.c, makedoc.c, mapping.h, mbox.c, mbyte.c, menu.c,
	mh.c, mime.h, missing, mutt.h, mutt_crypt.h, mutt_curses.h,
	mutt_idna.c, mutt_idna.h, mutt_menu.h, mutt_regex.h, mutt_sasl.c,
	mutt_sasl.h, mutt_socket.c, mutt_socket.h, mutt_ssl.c, mutt_ssl.h,
	mutt_ssl_gnutls.c, mutt_tunnel.c, mutt_tunnel.h, muttbug.sh.in,
	muttlib.c, mx.c, mx.h, pager.c, pager.h, parse.c, pattern.c,
	pgp.c, pgp.h, pgpinvoke.c, COPYRIGHT, _regex.h, account.c,
	account.h, addrbook.c, alias.c, ascii.c, ascii.h, attach.c,
	attach.h, base64.c, browser.c: Gah, forgot the zip code when
	updating the FSF address...

	* po/zh_CN.po, po/zh_TW.po, po/tr.po, po/uk.po, po/sk.po,
	po/sv.po, po/ru.po, po/pt_BR.po, po/nl.po, po/pl.po, po/ko.po,
	po/lt.po, po/ja.po, po/id.po, po/it.po, po/ga.po, po/gl.po,
	po/hu.po, po/et.po, po/fr.po, po/eo.po, po/es.po, po/de.po,
	po/el.po, po/da.po, imap/imap.h, imap/imap_private.h,
	imap/message.c, imap/message.h, imap/utf7.c, imap/util.c,
	intl/COPYING.LIB-2, intl/Makefile.in, intl/bindtextdom.c,
	intl/config.charset, intl/dcgettext.c, intl/dcigettext.c,
	intl/dcngettext.c, intl/dgettext.c, intl/dngettext.c,
	intl/explodename.c, intl/finddomain.c, intl/gettext.c,
	intl/gettext.h, intl/gettextP.h, intl/hash-string.h,
	intl/intl-compat.c, intl/l10nflist.c, intl/libgettext.h,
	intl/libgnuintl.h, intl/libintl.glibc, intl/loadinfo.h,
	intl/loadmsgcat.c, intl/localcharset.c, intl/locale.alias,
	intl/localealias.c, intl/ngettext.c, intl/plural.c, intl/plural.y,
	intl/ref-add.sin, intl/ref-del.sin, intl/textdomain.c, po/bg.po,
	po/ca.po, po/cs.po, doc/dotlock.man, doc/manual.xml.head,
	doc/mutt.man, doc/muttbug.man, doc/muttrc.man.head, imap/auth.c,
	imap/auth.h, imap/auth_anon.c, imap/auth_cram.c, imap/auth_gss.c,
	imap/auth_login.c, imap/auth_sasl.c, imap/browse.c,
	imap/command.c, imap/imap.c, rfc2047.h, rfc2231.c, rfc2231.h,
	rfc822.c, rfc822.h, score.c, send.c, sendlib.c, signal.c,
	smime.c, smime.h, smime_keys.pl, sort.c, sort.h, status.c,
	system.c, thread.c, url.c, query.c, recvattach.c, recvcmd.c,
	regex.c, remailer.c, remailer.h, resize.c, rfc1524.c,
	rfc1524.h, rfc2047.c, pager.h, parse.c, pattern.c, pgp.c,
	pgp.h, pgpinvoke.c, pgpkey.c, pgplib.c, pgplib.h, pgpmicalg.c,
	pgppacket.c, pgppacket.h, pgppubring.c, pop.c, pop.h,
	pop_auth.c, pop_lib.c, postpone.c, protos.h, mbyte.c, menu.c,
	mh.c, mime.h, missing, mutt.h, mutt_crypt.h, mutt_curses.h,
	mutt_idna.c, mutt_idna.h, mutt_menu.h, mutt_regex.h, mutt_sasl.c,
	mutt_sasl.h, mutt_socket.c, mutt_socket.h, mutt_ssl.c, mutt_ssl.h,
	mutt_ssl_gnutls.c, mutt_tunnel.c, mutt_tunnel.h, muttbug.sh.in,
	muttlib.c, mx.c, mx.h, pager.c, extlib.c, filter.c, flags.c,
	from.c, functions.h, globals.h, gnupgparse.c, handler.c, hash.c,
	hash.h, hcache.c, hdrline.c, headers.c, help.c, history.c,
	history.h, hook.c, init.c, init.h, keymap.c, keymap.h, lib.c,
	lib.h, mailbox.h, main.c, makedoc.c, mapping.h, mbox.c,
	dotlock.h, edit.c, editmsg.c, enter.c, copy.h, crypt-gpgme.c,
	crypt-gpgme.h, crypt-mod-pgp-classic.c, crypt-mod-pgp-gpgme.c,
	crypt-mod-smime-classic.c, crypt-mod-smime-gpgme.c, crypt-mod.c,
	crypt-mod.h, crypt.c, cryptglue.c, curs_lib.c, curs_main.c,
	date.c, depcomp, dotlock.c, COPYRIGHT, GPL, _regex.h, account.c,
	account.h, addrbook.c, alias.c, ascii.c, ascii.h, attach.c,
	attach.h, base64.c, browser.c, browser.h, buffy.c, buffy.h,
	charset.c, charset.h, color.c, commands.c, complete.c, compose.c,
	config.guess, config.sub, copy.c: Update FSF address (via sed,
	I hope nothing got mangled). Closes: #2071.

2005-09-17 17:39:18  Alain Bench  <veronatif@free.fr>  (brendan)

	* Muttrc.head.in: Clean up some Muttrc macros, and add macro
	'y' to jump to the mailboxes view. Closes: #2069.

2005-09-17 17:27:54  Brendan Cully  <brendan@kublai.com>  (brendan)

	* main.c: Some minor cleanups: tell users to go to bugs.mutt.org
	instead of using flea; update copyright year in mutt -v;
	reorganise USE opts a little; break long strings so that -pedantic
	stops complaining. Not sure that last one is worth the trouble
	it causes the po team...

2005-09-17 01:07:54  Vincent Lefevre  <vincent@vinc17.org>  (brendan)

	* po/fr.po: Update.

2005-09-16 23:09:12  Kevin Scannell  <scannell@slu.edu>  (brendan)

	* configure.in, po/ga.po: Irish translation.

2005-09-16 15:20:59  Brendan Cully  <brendan@kublai.com>  (brendan)

	* build-release, po/Makefile.in.in: Move update-po out of make
	dist, into build-release. It seems to me that make dist should do
	as little as possible beyond putting the right files in a tarball.

2005-09-16 13:43:58  Ronny Haryanto  <ronnylist@haryan.to>  (roessler)

	* po/id.po: update

2005-09-16 11:02:00  Ivan Vilata i Balaguer  <ivan@selidor.net>
(roessler)

	* po/ca.po: update

2005-09-16 10:20:20  TAKAHASHI Tamotsu	<ttakah@lapis.plala.or.jp>
(roessler)

	* po/ja.po: update

2005-09-16 10:19:46  René Clerc  <rene@clerc.nl>  (roessler)

	* po/nl.po: update

2005-09-16 02:15:45  Brendan Cully  <brendan@kublai.com>  (brendan)

	* doc/Makefile.in: Add stamp-doc-xml to "all".

	* doc/Makefile.in: stamp-doc-man is pointless as far as I can
	tell. Removed.

	* doc/Makefile.in: Tweak makefile so that the dist tarball
	doesn't always try to build docs.

	* configure.in: VERSION should go into CONFIG_STATUS_DEPENDENCIES,
	not CONFIGURE_DEPENDENCIES. Slap ma fro.

2005-09-15 23:18:48  Brendan Cully  <brendan@kublai.com>  (brendan)

	* Makefile.am, build-release: Move changelog target to
	update-changelog so that dist won't automatically invoke it,
	and have commit and build-release call it.

	* build-release: Now that 1.5.11 is out, previous versions won't
	be x.y.zi: adjust diff.

2005-09-15 14:24:39  roessler  (roessler)

	* po/zh_TW.po, po/ca.po, po/cs.po, po/da.po, po/de.po, po/el.po,
	po/eo.po, po/es.po, po/et.po, po/fr.po, po/gl.po, po/hu.po,
	po/id.po, po/it.po, po/ja.po, po/ko.po, po/lt.po, po/nl.po,
	po/pl.po, po/pt_BR.po, po/ru.po, po/sk.po, po/sv.po, po/tr.po,
	po/uk.po, po/zh_CN.po, VERSION, po/bg.po, reldate.h: automatic
	post-release commit for mutt-1.5.11

2005-09-14 14:15:06  TAKAHASHI Tamotsu	<ttakah@lapis.plala.or.jp>
(brendan)

	* init.h: Refer to $use_envelope_from rather than old
	$envelope_from in description of $envelope_from_address.

2005-09-14 02:45:44  Brendan Cully  <brendan@kublai.com>  (brendan)

	* globals.h, init.h, sendlib.c: Add new $envelope_from_address
	variable for manually specifying the envelope sender. Rename (with
	compatibility synonym) $envelope_from to $use_envelope_from. Make
	$envelope_from subordinate to $use_e_f, as $from is to
	$use_from. From a discussion with TLR.

2005-09-13 20:36:17  Brendan Cully  <brendan@kublai.com>  (brendan)

	* doc/Makefile.in: Put chunked HTML manual in top doc directory
	instead of HTML subdirectory.  Solves a weird $distdir
	absolute/relative path nuisance.

2005-09-12 06:22:21  Brendan Cully  <brendan@kublai.com>  (brendan)

	* curs_lib.c, pop.c, pop.h, pop_lib.c: Teach pop driver about
	mutt_progress_bar. Allow progress bar to omit total size if zero
	(=unknown).

2005-09-10 18:47:17  TAKAHASHI Tamotsu	<ttakah@lapis.plala.or.jp>
(brendan)

	* menu.c: Correct some inconsistencies introduced by
	$menu_context. Closes: #2019?

2005-09-10 06:02:04  Brendan Cully  <brendan@kublai.com>  (brendan)

	* imap/imap.c, curs_lib.c: A pair of small optimisations to the
	progress bar.

2005-09-08 16:37:59  Brendan Cully  <brendan@kublai.com>  (brendan)

	* pager.c: Revert bogus change to last message detection in
	mutt_pager.

	* pager.c: Forget line number when resolving in pager. This
	is beginning to get messy - maybe it would be better to only
	remember on specific operations like sync.

	* mutt_socket.c: Set CLOEXEC on sockets in IPv4 code path like
	we do in IPv6.

	* pattern.c: Make stringmatch pattern detection stateless.

	* curs_lib.c: ifdef USE_SOCKET around mutt_progress_bar.

2005-09-08 07:09:46  Bernd Ahlers  <bernd@ba-net.org>  (brendan)

	* po/sk.po, po/sv.po, po/tr.po, po/uk.po, po/zh_CN.po,
	po/zh_TW.po, po/it.po, po/ja.po, po/ko.po, po/lt.po, po/nl.po,
	po/pl.po, po/pt_BR.po, po/ru.po, po/da.po, po/de.po, po/el.po,
	po/eo.po, po/es.po, po/et.po, po/fr.po, po/gl.po, po/hu.po,
	po/id.po, po/ca.po, po/cs.po: Correct some S/MIME po entries.

2005-09-07 08:01:59  Brendan Cully  <brendan@kublai.com>  (brendan)

	* curs_lib.c: Ensure progress bar rounds to $net_inc.

	* curs_lib.c, globals.h, imap/imap.c, imap/imap_private.h,
	imap/message.c, init.h, mutt_curses.h: Display progress meter
	when uploading/fetching IMAP data. Closes: #1772.

	* pager.c: Adjust gross hack to return to the same line in the
	pager after an index operation so that it doesn't shoot past the
	end of the file if there are fewer lines on return (eg when weed
	is set).

	* mx.c, pgp.c: Silence some GCC warnings about uninitialized
	variables.

	* build-release, configure.in, mutt.h: Remove international
	vs. U.S. distribution distinction. build-release expects the
	previous version to be x.y.zi and should be updated again
	for 1.5.12.

2005-09-06 16:46:44  Brendan Cully  <brendan@kublai.com>  (brendan)

	* doc/manual.xml.head: More documentation cosmetics (newlines
	between Usage: lines).

	* pager.c: Gross hack to return to the same line in the pager
	after executing an index function. Closes: #1210.

	* doc/manual.xml.head, imap/command.c, imap/imap.c, imap/imap.h,
	init.c, mutt.h, pattern.c: Extend pattern language to do simple
	string matches as well as regular expressions when the pattern
	is invoked with = instead of ~. And, when possible, perform
	full body searches on the IMAP server instead of locally, for
	an enormous speed boost.

	* imap/utf7.c, init.c, main.c, protos.h: Fix a memory leak in
	imap_utf7_decode and do a little cleanup on shutdown.  Get a
	high five from valgrind.

	* curs_main.c, main.c: Move SASL and IMAP shutdown hooks into
	main where they belong.

	* init.c: Release pwent after extracting data from it.

	* mutt_sasl.h, curs_main.c, mutt_sasl.c: Release global SASL
	state when quitting.

2005-09-05 04:22:45  Brendan Cully  <brendan@kublai.com>  (brendan)

	* doc/manual.xml.head: Documentation cosmetics (add some line
	breaks).

2005-09-04 20:10:25  Brendan Cully  <brendan@kublai.com>  (brendan)

	* init.h: Point $hide_top_limited to $hide_limited instead of
	$hide_missing. Likewise for $hide_top_missing. Closes: #2039.

	* init.h: Mention $sort_re in $strict_threads
	documentation. Closes: #2052.

	* doc/manual.xml.head: Add a push example. Closes: #1591.

2005-09-04 19:46:26  Rupert Levene  <rupert@levene.dyndns.org>	(brendan)

	* doc/manual.xml.head: Mention $include when describing how mutt
	prepares message replies. Closes: #1471.

2005-09-04 19:28:19  Dale Woolridge  (brendan)

	* pattern.c, protos.h, parse.c: Unfold message headers before
	performing ~h search. Closes: #1865.

2005-09-04 18:01:57  Zardoz@users.sourceforge.net  (brendan)

	* keymap.c: Teach keymap.c about KEY_NEXT. Closes: #1588.

2005-09-04 06:57:04  Alain Bench  <veronatif@free.fr>  (brendan)

	* doc/manual.xml.head, doc/manual.xml.tail: Note that <Tab>
	is bound to next-new-then-unread by default, rather than
	next-new. Closes: #1637.

	* curs_main.c, pattern.c: Allow empty limits, and limits in
	empty mailboxes. Closes: #1853, #1906.

2005-09-03 23:22:31  Brendan Cully  <brendan@kublai.com>  (brendan)

	* send.c, attach.c: Note when mutt_edit_attachment fails and
	display error instead of prompting to abort an unmodified
	file. Closes: #2051.

2005-09-03 19:41:53  Alain Bench  <veronatif@free.fr>  (brendan)

	* contrib/gpg.rc: One should let GnuPG charset be automatically
	infered from whatever current locale, without hardcoding.

2005-09-03 04:34:25  Brendan Cully  <brendan@kublai.com>  (brendan)

	* doc/manual.xml.head: Just use EXPR as a place holder for regular
	expressions, instead of any of EXPR, USER, ID and SUBJECT. Noted
	by Vincent Lefevre.

2005-09-02 18:50:34  Brendan Cully  <brendan@kublai.com>  (brendan)

	* doc/manual.sgml.head, doc/manual.sgml.tail, doc/manual.xml.head,
	doc/manual.xml.tail, doc/Makefile.in: Rename manual.sgml.*
	to manual.xml.*.

2005-09-02 18:18:19  Alain Bench  <veronatif@free.fr>  (brendan)

	* keymap.c: Allow non-ascii characters in push arguments. Closes:
	#2023.

	* doc/manual.sgml.head, doc/muttrc.man.head, mutt.h, pattern.c:
	Adjust ~l to match all known lists, add ~u to match only
	subscribed lists.  Normalise pattern ordering in docs. Closes:
	#2050.

2005-09-01 17:07:14  Brendan Cully  <brendan@kublai.com>  (brendan)

	* configure.in, imap/auth_sasl.c, main.c, mutt_sasl.c,
	mutt_sasl.h, pop_auth.c: Remove obsolete Cyrus SASL 1.5 support.

	* doc/chunk.xsl, doc/html.xsl: Docbook support files, dropped
	in the initial commit.

	* doc/manual.sgml.tail, configure.in, doc/Makefile.in,
	doc/manual.sgml.head, makedoc.c: Convert documentation from
	linuxdoc to docbook format. Let the bug avalanche begin.

2005-08-30 21:34:36  Lars Hecking  <lhecking@users.sourceforge.net>
(brendan)

	* configure.in: Don't define domain="no" when configured
	--without-domain. Closes: #2046.

2005-08-24 15:17:43  Brendan Cully  <brendan@kublai.com>  (brendan)

	* pgp.c: Don't treat PGP inline signature verification errors
	as fatal.

2005-08-22 20:30:11  Brendan Cully  <brendan@kublai.com>  (brendan)

	* pgp.c: Pause after error message if PGP decode fails, in case
	mutt_copy_message overwrites.  Real error handling cleanup will
	have to wait...

	* pgp.c: Don't attempt to manipulate null pgp output file handles.

2005-08-16 18:10:11  Paul Walker  <paul@black-sun.demon.co.uk>	(brendan)

	* doc/manual.sgml.head, doc/mutt.man, main.c: -D dumps to stdout,
	not stderr.

2005-08-15 08:10:48  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* po/id.po: Fix \n mismatch.

2005-08-15 08:07:36  Ronny Haryanto  <ronnylist@haryan.to>  (roessler)

	* po/id.po: update

2005-08-15 08:06:40  Vsevolod Volkov  <vvv@mutt.org.ua>  (roessler)

	* po/ru.po: update

2005-08-14 21:32:17  TAKAHASHI Tamotsu	<ttakah@lapis.plala.or.jp>
(brendan)

	* attach.c, send.c: Don't pass an empty filename to the default
	text editor when editing non-plain text. Also don't clobber
	$content_type when parsing it.	Closes: #2038.

2005-08-14 12:28:52  Roland Rosenfeld  <roland@spinnaker.de>  (roessler)

	* po/de.po: update

2005-08-14 02:22:47  Bernd Ahlers  <bernd@ba-net.org>  (brendan)

	* cryptglue.c, mutt_sasl.c, smime.c: Fix some S/MIME spelling
	inconsistencies.

2005-08-12 23:06:25  Brendan Cully  <brendan@kublai.com>  (brendan)

	* mutt_ssl_gnutls.c: Turn off input buffering for gnutls SSL
	certificate menu, as we do in the openssl version.

	* imap/auth_sasl.c: Override SASL initial response if the server
	spoke first in its continuation response. Closes: #2034.

	* doc/Makefile.in: Degnuify mutt.1 make rule. Imagining a world
	in which gnu documentation flagged any extensions to standard
	utilities almost makes me cry.

2005-08-12 12:52:11  TAKAHASHI Tamotsu	<ttakah@lapis.plala.or.jp>
(roessler)

	* po/ja.po: update

2005-08-12 07:49:37  Vincent Lefevre  <vincent@vinc17.org>  (roessler)

	* po/fr.po: Update.

2005-08-12 03:57:16  Brendan Cully  <brendan@kublai.com>  (brendan)

	* configure.in: Force configure to depend on VERSION. That's
	been bugging me for a while.

2005-08-11 21:46:26  roessler  (roessler)

	* po/pl.po, po/pt_BR.po, po/ru.po, po/sk.po, po/sv.po, po/tr.po,
	po/uk.po, po/zh_CN.po, po/zh_TW.po, po/bg.po, po/ca.po, po/cs.po,
	po/da.po, po/de.po, po/el.po, po/eo.po, po/es.po, po/et.po,
	po/fr.po, po/gl.po, po/hu.po, po/id.po, po/it.po, po/ja.po,
	po/ko.po, po/lt.po, po/nl.po: automatic post-release commit
	for mutt-1.5.10

2005-08-11 21:22:41  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* Makefile.am, VERSION, reldate.h: Fix Makefile.am.

2005-08-11 21:16:38  Brendan Cully  <brendan@kublai.com>  (brendan)

	* copy.c, crypt-gpgme.c, crypt-gpgme.h, crypt-mod-pgp-classic.c,
	crypt-mod-pgp-gpgme.c, crypt-mod-smime-classic.c,
	crypt-mod-smime-gpgme.c, crypt-mod.h, crypt.c, cryptglue.c,
	handler.c, mutt_crypt.h, pgp.c, pgp.h, protos.h, smime.c, smime.h:
	Add error results to mutt_body_handlers, and check them when
	doing decode-save. Closes: #1919.

2005-08-11 21:08:55  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* pgp.c: Fix verification of clearsigned PGP messages.
	(debugged on IRC, mostly by Brendan)

2005-08-11 02:15:14  Thomas Glanzmann  <sithglan@stud.uni-erlangen.de>
(brendan)

	* configure.in: Don't test against nonexistent cache
	variable. Spotted by Torsten Veller.

2005-08-11 01:44:49  Brendan Cully  <brendan@kublai.com>  (brendan)

	* mutt_sasl.c: Silence some compiler warnings.

2005-08-09 20:13:03  Brendan Cully  <brendan@kublai.com>  (brendan)

	* doc/Makefile.in, doc/manual.sgml.tail: Replace raw latin1
	characters with entities, and enable latin output for
	manual.txt. I'm not sure this is ideal for non-latin (eg
	utf8) environments, but hopefully docbook will resolve this
	anyway. Closes: #2029.

	* doc/manual.sgml.head: Replace free ~ with &tilde;. Closes:
	#2030.

	* pgp.c: Move pgp failure check inside the if (invoke pgp)
	block. Should really Close: 2032.

	* pgp.c: Don't ftell pgp output file if there isn't one. Closes:
	#2032.

2005-08-09 16:24:15  TAKAHASHI Tamotsu	<ttakah@lapis.plala.or.jp>
(brendan)

	* crypt-gpgme.c: Improve translatability of crypt-gpgme. Closes:
	#2020.

2005-08-09 16:10:40  Mads Martin Joergensen  <mmj@suse.de>  (brendan)

	* copy.c: Remove an unneeded cast, which introduces
	type-punning. Modified to use FREE instead of safe_free, since
	that seems to be the convention. I personally don't see the point.

2005-08-08 18:59:43  Brendan Cully  <brendan@kublai.com>  (brendan)

	* mutt_socket.c: Pause for a moment when a hostname fails to
	resolve. Closes #1942.	There are a number of cases where mutt
	cascades error messages. It might be nice if there were an error
	stack so that low level functions could push_error instead of
	displaying it right away, and the higher level ones could eg
	mutt_message(_("Failed to write FCC: %s"), pop_error ())...

	* main.c: Document -d option in mutt -h output. Closes #2027.

	* init.h: Remove undefined reference to unmailboxes
	command. Closes #2028.

	* imap/imap.c: Fix edge case where we might have to wait two
	timeouts to check for IMAP mail.

	* imap/command.c, imap/imap.c, init.h: Fix bug just introduced
	in lsub parsing that could cause mutt to loop indefinitely.
	Don't recheck subscriptions at every mailbox change, just the
	initial connection.

	* imap/imap.c: If imap_check_subscribed is set, mailbox or
	unmailbox folders in response to subscribe/unsubscribe commands
	in the browser.

2005-08-07 23:52:08  Brendan Cully  <brendan@kublai.com>  (brendan)

	* imap/browse.c, imap/command.c, imap/imap.c, init.h, mutt.h:
	New option: $imap_check_subscribed. If set, mutt will fetch the
	set of subscribed mailboxes from the server and add them to the
	buffy list.

	* browser.c: Avoid a segfault attempting to browse an invalid
	IMAP URL.

	* imap/imap.c: Extend IMAP host completion to complete over open
	connections. Next up: account and folder hooks.

	* imap/imap.c: Allow IMAP tab-completion to complete over
	defined mailboxes, saving a bunch of typing for the hostname
	part of the URL. Should probably be extended to complete over
	open connections and possibly also folder/account hooks.

	* account.c, curs_lib.c, protos.h: Reuse mutt_get_field for
	mutt_get_field_unbuffered.

2005-08-07 06:20:37  Anders Helmersson
<anders.helmersson.utsikt@wasadata.net>  (brendan)

	* pager.c: Certain versions of libc may segfault during regex
	processing if given incomplete multibyte characters. Work around
	this by manually trimming the display buffer. I modified it
	somewhat to only check when the situation is most likely to occur:
	fgets has read all the way to the capacity of the buffer. Thanks
	also to Tamo for his comments.

2005-08-07 04:58:12  Brendan Cully  <brendan@kublai.com>  (brendan)

	* account.c, curs_lib.c, protos.h: Make username prompts
	unbuffered like password prompts are (no more folder-hook push
	garbage)

2005-08-06 22:20:55  Brendan Cully  <brendan@kublai.com>  (brendan)

	* imap/imap.c, lib.c, lib.h, mutt.h, mutt_tunnel.c, sendlib.c:
	Report non-zero exit status of tunnel command. Closes: #1749.

	* imap/imap.c, imap/util.c, init.h, mutt.h, pop_lib.c: Replace
	pointless imap_force_ssl option with ssl_force_tls, which
	requires any connection (POP or IMAP) to a remote server to
	be encrypted, and attempts to negotiate encryption even if the
	capability isn't advertised (this last bit is of dubious utility,
	but essentially harmless since the connection would otherwise
	fail anyway). Closes: #1284.

	* imap/browse.c: Kill a warning.

	* init.c: Use isalnum instead of isalpha when parsing unbraced
	environment variable names, per tamo's suggestion. Closes #2022.

2005-08-05 02:16:46  Brendan Cully  <brendan@kublai.com>  (brendan)

	* attach.c, attach.h, browser.c, curs_main.c, mutt.h, mutt_menu.h,
	pager.h, protos.h: Move some attachment-related prototypes and
	structures into attach.h from the global headers. A small step
	towards sane dependency tracking and code cleanliness.

2005-08-04 01:15:52  brendan  (brendan)

	* compose.c: Don't unlink non-mutt files that would have been
	unlinked on send if the message is cancelled.

2005-08-03 15:34:14  Brendan Cully  <brendan@kublai.com>  (brendan)

	* account.c: Fix C precedence buglet in getlogin preventing it
	from actually calling getuser.

	* mutt_ssl.c: Don't double-free X509 certificates. This patch
	looks wrong, but it isn't.

2005-08-02 18:15:33  Brendan Cully  <brendan@kublai.com>  (brendan)

	* Makefile.am, po/Makefile.in.in, po/POTFILES.in: Remove
	mutt_ssl_nss.c from POTFILES.in. Also hack the makefiles to build
	keymap_alldefs.h in $(top_srcdir), since that's where xgettext
	looks. Not super clean I guess - the other alternative is to
	sed POTFILES.

	* globals.h, init.c, init.h, mutt.h, mutt_sasl.c, mutt_socket.c,
	mutt_ssl.h, mutt_ssl_nss.c, pop_lib.c, configure.in: Put moribund
	NSS support out to pasture.

	* compose.c, mutt.h: In compose menu, detach should be able to
	unlink files generated by mutt, but not files that existed before.

	* commands.c, pgp.c: More fiddling with PGP results. When
	rerunning PGP on a message, clear old security result bits to
	avoid confusing messages like 'decrypt failed; PGP signature
	successfully verified'.

	* pgp.c: Forget passphrase on PGP/inline decryption error,
	and improve status line messages.

	* configure.in: Make $docdir relative to $prefix, like the
	other prefixes.

	* contrib/Makefile.in, doc/Makefile.in: Be more selective about
	what to remove during uninstall. (closes #1625)

	* pgp.c: Also forget passphrase when encrypt fails, if
	signing. (closes #1025 again)

	* imap/message.c: Check that the entire message downloaded
	successfully on fetch, and don't treat a disappearing cache file
	as fatal. (closes #1483)

	* compose.c: Don't unlink attachments that you've decided not
	to send. (closes #1328)

	* pgp.c: Bump up size of PgpPass to 1024 from 256. Seems crazy,
	but it's harmless and it (closes #1207).

	* account.c: Fix password prompt for POP (more authentication
	ID fallout).

2005-08-01 22:37:22  Brendan Cully  <brendan@kublai.com>  (brendan)

	* doc/manual.sgml.head: Document <backtab> key.

	* pgp.c: Automatically forget PGP passphrase on sign or decrypt
	error. (closes #1025)

	* pgp.c: Display "successfully decrypted" message instead of
	nothing. Superseded by signature verification.

	* commands.c, pgp.c: Don't report PGP signature could not be
	verified unless there really is a signature verification problem
	(not some other PGP error).

	* Makefile.am: Install system muttrc from the build directory,
	not the source directory.

	* mbox.c: Restore Sort immediately after sorting by mailbox
	order in mbox_sync_mailbox.  (closes #972)

	* doc/Makefile.in, doc/mutt.man: Insert compile-time paths to
	system resources into mutt.man. (closes #854)

	* commands.c, protos.h: Report errors occuring in
	_mutt_save_message. (closes #847)

	* globals.h, mutt.h, mutt_ssl.c, muttlib.c: Cache SSL certificates
	that have been accepted but not saved until mutt exits. (closes
	#643).	Create mutt_add_list_n for adding non-character data to
	lists, have mutt_add_list call it.

	* mx.c: Report error creating FCC when writing to IMAP
	server. Addresses #423.

	* init.c: complete :set mbox_type=<tab>. (closes #1649)

2005-07-30 04:40:45  TAKAHASHI Tamotsu	<ttakah@lapis.plala.or.jp>
(brendan)

	* pager.c: The builtin pager tries to wrap a line for ever if:
	0) the line contains a space or a tab character
	 followed by a very long word, and 1) M_PAGER_NSKIP flag is
	passed to it, and 2) $smart_wrap is set. (default)

2005-07-30 04:13:07  Vincent Lefevre  <vincent@vinc17.org>  (brendan)

	* curs_main.c, pager.c: When using colors, the status line of
	the index is displayed in a >bright color, even when the prefix
	"bright" is *not* given in the foreground color. The problem
	occurs when I have the following additional line:
	  color normal brightwhite black The problem is that BKGDSET's
	are missing.

2005-07-30 03:59:04  TAKAHASHI Tamotsu	<ttakah@lapis.plala.or.jp>
(brendan)

	* recvattach.c: Don't refuse to delete attachments just because a
	message has been checked for "traditional" PGP encoding. (closes
	#2013)

2005-07-29 18:05:50  TAKAHASHI Tamotsu	<ttakah@lapis.plala.or.jp>
(brendan)

	* init.c: "nospam foo" causes a segv if you have not set any
	"spam", because of a null pointer dereference.

2005-07-29 06:45:14  Brendan Cully  <brendan@kublai.com>  (brendan)

	* mutt_ssl_gnutls.c: Tweak a poorly-worded error message in the
	gnutls glue, pointed out by Vincent Lefevre.

	* imap/imap.c: Fix bug added in revision 3.26, where
	imap_sync_mailbox failed to check whether it was supposed to
	expunge before issuing a CLOSE.

2005-07-28 20:42:45  ttakah@lapis.plala.or.jp  (roessler)

	* crypt-gpgme.c: Fix mutt/2004; S/MIME user interface differences
	between GPGME and classic.

2005-07-28 19:47:40  Brendan Cully  <brendan@kublai.com>  (brendan)

	* imap/auth_cram.c, imap/auth_login.c: Use mutt_account_getlogin
	instead of getuser for authentication methods that only support
	an authentication ID. As a side-effect, don't display a dangling
	authentication name pointer in getpass.

2005-07-27 15:08:43  Vincent Lefevre  <vincent@vinc17.org>  (brendan)

	* crypt-gpgme.c: Correct two typos in GPGME error messages.

2005-07-27 05:53:27  Brendan Cully  <brendan@kublai.com>  (brendan)

	* po/tr.po, po/uk.po, po/zh_CN.po, po/zh_TW.po, po/es.po,
	po/et.po, po/gl.po, po/lt.po, po/pt_BR.po, po/sk.po: Update
	Thomas' address in several out-of-date PO files. (closes #990)

	* mutt_ssl_gnutls.c: Silence some harmless warnings. Also,
	one day -pedantic is going to get held up on the causeway.

	* imap/command.c: More fiddling with fatal state handling. Not
	tested, and probably as wrong as what was already there.

	* muttlib.c: Rework mutt_save_confirm to support confirmappend
	with IMAP mailboxes.  I hope I got all cases right.

2005-07-26 23:57:38  Brendan Cully  <brendan@kublai.com>  (brendan)

	* imap/imap.c: Adjust imap_access so that it doesn't issue STATUS
	on the selected mailbox, and have imap_open_mailbox_append use
	imap_access instead of rolling its own.

2005-07-26 18:45:01  TAKAHASHI Tamotsu	<ttakah@lapis.plala.or.jp>
(brendan)

	* crypt-gpgme.c, mutt_ssl_gnutls.c, po/POTFILES.in: Partial
	application of Tamo's translation patch for gpgme and gnutls.

2005-07-26 16:44:20  Brendan Cully  <brendan@kublai.com>  (brendan)

	* imap/imap.c: Don't check for the existence of a mailbox we're
	already in when appending.  (closes #1842)

2005-07-26 16:40:16  Thomas Glanzmann  <sithglan@stud.uni-erlangen.de>
(roessler)

	* init.h: Return $menu_move_off default to status quo ante.

	* init.h: hcache spelling fixes

2005-07-26 16:37:28  Tamotsu Takahashi	<ttakah@lapis.plala.or.jp>
(roessler)

	* enter.c: Introduce fall-back from complete-query to complete
	for the edit menu, so 'bind editor <tab> complete-query'
	becomes possible.

2005-07-26 06:14:34  "Brent J. Nordquist"  <brent@nordist.net>	(brendan)

	* doc/manual.sgml.head: Correct a couple of typos (and change
	&hyphen; to -: although the text version of the manual renders
	&hyphen;, the web version does not).

2005-07-26 05:58:29  TAKAHASHI Tamotsu	<ttakah@lapis.plala.or.jp>
(brendan)

	* pattern.c: Interpret an empty limit as a request to cancel
	the current limit.  (Closes #1854)

2005-07-26 05:28:02  Brendan Cully  <brendan@kublai.com>  (brendan)

	* mutt_ssl.c: Don't offer to save expired or not-yet-valid
	certificates. Closes #1943 as a side-effect.

	* imap/imap.c, imap/imap_private.h: Rework IMAP CLOSE handling
	to avoid expunging messages when exiting without saving
	changes. (closes #1899)

2005-07-26 03:09:55  Ralf Wildenhues  <wildenhues@ins.uni-bonn.de>
(brendan)

	* mbyte.c, mutt_socket.c: There are some functions without ANSI
	prototypes left in mutt-owned sources.

2005-07-25 20:07:23  Brendan Cully  <brendan@kublai.com>  (brendan)

	* init.h: Update _MAKEDOC macro so that the documentation includes
	all variables.

2005-07-25 15:48:36  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* copy.c, imap/imap.c, mh.c, mutt.h, muttlib.c, thread.c: Get rid
	of IMAP-related special casing all over the thread editing code.

2005-07-25 04:56:38  brendan  (brendan)

	* imap/message.c: Indentation, mostly

2005-07-25 04:37:20  Brendan Cully  <brendan@kublai.com>  (brendan)

	* imap/message.c: Minor cosmetic cleanup (fewer #ifdef HCACHE
	blocks)

2005-07-25 04:31:51  brendan  (brendan)

	* muttlib.c: Suppress a printf format warning

2005-07-24 18:33:31  Brendan Cully  <brendan@kublai.com>  (brendan)

	* muttlib.c: Typo in last commit.

	* imap/message.c, muttlib.c, protos.h: Merge full envelope from
	message fetch into original sparse envelope, instead of replacing
	it. This should be gentler on the various threading hashes and may
	(knock on wood) fix the threading segfault. Threading behaviour
	is observably better.

2005-07-24 18:18:29  brendan  (brendan)

	* imap/util.c: Revert Glanzmann's imap_parse_mailbox patch.

2005-07-24 16:53:59  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* thread.c: Try to fix threading bug triggered by duplicate
	references.

2005-07-24 16:51:38  Cedric Duval  <cedricduval+web@free.fr>  (brendan)

	* OPS, copy.c, curs_main.c, doc/manual.sgml.head, functions.h,
	imap/imap.c, mh.c, mutt.h, mx.c, pager.c, protos.h, thread.c:
	Add thread editing commands.

2005-07-24 16:12:12  Paul Walker  <paul@black-sun.demon.co.uk>	(roessler)

	* doc/manual.sgml.head, main.c, protos.h, init.c: This patch
	adds an option -D to dump mutt's configuration after all
	configuration files have been read.  Changes against PW's version:
	(1) curses isn't initialized; (2) variables are dumped to stdout,
	not to stderr.

2005-07-24 15:46:26  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* hash.c, imap/message.c, imap/util.c: This patch includes (1)
	a rewrite of hash_delete_hash, and (2) some changes to the IMAP
	code that Thomas Glanzmann made during an attempt to squash some
	segmentation fault in May.  There is no guarantee that this patch
	doesn't break things.  If it does, please complain to mutt-dev.

	* recvattach.c, smime.c: Fix S/MIME segmentation fault.  Bug
	reported by Mads Martin Joergensen; part fixed by Brendan Cully.

2005-07-24 08:59:44  Brendan Cully  <brendan@kublai.com>  (brendan)

	* copy.c: Don't assume messages in MMDF mailboxes have From
	separators when copying them.  Spotted by William Lovas. Initial
	patch by TAKAHASHI Tamotsu.

2005-07-23 23:35:17  Byrial Jensen  <byrial@image.dk>  (brendan)

	* curs_main.c, doc/manual.sgml.head, globals.h, main.c, muttlib.c:
	This is the current shortcut patch patch by Byrial Ole Jensen
	<byrial@image.dk>, updated by Christoph Berg <cb@df7cb.de>.

2005-07-17 00:43:05  Brendan Cully  <brendan@kublai.com>  (brendan)

	* account.c: Don't dereference null ImapUser in new getlogin
	function.

2005-07-15 07:29:37  Vincent Lefevre  <vincent@vinc17.org>  (brendan)

	* po/fr.po: PO update 20050613.

2005-07-06 23:49:08  Thomas Glanzmann  <sithglan@stud.uni-erlangen.de>
(brendan)

	* BEWARE: this fixes a little typo.

2005-07-06 21:03:00  Brendan Cully  <brendan@kublai.com>  (brendan)

	* hcache.c: Apply Aaron Crane's function pointer bandaid to the
	db4 open calls.

2005-06-28 19:26:54  Brendan Cully  <brendan@kublai.com>  (brendan)

	* account.c, account.h, globals.h, init.h, mutt_sasl.c: Add
	$imap_login variable to specify which user to authenticate as
	($imap_user controls which user's mail gets accessed). Currently
	this can't be specified interactively, since I can't think of
	a way to do it that wouldn't annoy users where login == user
	(the default value of $imap_login).

2005-06-24 22:32:38  SÃ©bastien Hinderer
<Sebastien.Hinderer@libertysurf.fr>  (brendan)

	* crypt.c: Remove a warning about unused variable 'now' in
	crypt_valid_passphrase

2005-06-22 01:46:49  Sébastien Hinderer
<Sebastien.Hinderer@libertysurf.fr>  (brendan)

	* doc/devel-notes.txt: This patch fixes two small typos in
	dev notes.

2005-06-18 04:54:39  Brendan Cully  <brendan@kublai.com>  (brendan)

	* main.c: Update copyright dates according to latest activity
	in ChangeLog.

2005-06-12 18:28:29  Tamotsu Takahashi	<ttakah@lapis.plala.or.jp>
(roessler)

	* menu.c: Fix background colors for $arrow_cursor.

2005-06-12 18:24:31  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* curs_main.c, init.h, menu.c, mutt.h: Add $braille_friendly.
	Behavior originally suggested by Sébastien Hinderer
	<Sebastien.Hinderer@libertysurf.fr>.

2005-04-10 09:37:51  Johan Svedberg  <johan@svedberg.pp.se>  (roessler)

	* po/sv.po: update

2005-04-03 00:14:51  Daniel Jacobowitz	<dan@debian.org>  (brendan)

	* imap/imap.c, imap/imap_private.h, imap/message.c: Synchronise
	message flags before moving messages.

2005-03-31 04:55:09  Thomas Glanzmann  <sithglan@stud.uni-erlangen.de>
(brendan)

	* mh.c: Another hcache cygwin portability fix.

2005-03-23 10:51:11  Thomas Glanzmann  <sithglan@stud.uni-erlangen.de>
(roessler)

	* init.h, mh.c, mutt.h: Maildir header cache.

2005-03-22 19:58:15  Horst Schirmeier  <horst@schirmeier.com>  (roessler)

	* Makefile.am: Use install-exec-hook install of
	install-exec-local.

2005-03-22 19:53:49  Ronny Haryanto  <ronnylist@haryan.to>  (roessler)

	* po/id.po: update

2005-03-22 19:49:31  René Clerc  <rene@clerc.nl>  (roessler)

	* po/nl.po: update

2005-03-22 19:48:35  Roland Rosenfeld  <roland@spinnaker.de>  (roessler)

	* po/de.po: update

2005-03-22 19:46:59  Paul Walker  <paul@black-sun.demon.co.uk>	(roessler)

	* init.c, init.h: remove some unused functions.

2005-03-22 19:43:13  Vsevolod Volkov  <vvv@mutt.org.ua>  (roessler)

	* po/ru.po: update

2005-03-22 03:40:54  Thomas Glanzmann  <sithglan@stud.uni-erlangen.de>
(brendan)

	* hcache.c, imap/imap.c, imap/imap_private.h, imap/message.c,
	protos.h: Thomas graces us with this patch that resolves a
	type-size inconsistency in the UIDVALIDITY parser.

	Edited for correctness.

2005-03-17 09:30:06  Pawel Dziekonski  <pawel.dziekonski@pwr.wroc.pl>
(roessler)

	* po/pl.po: update

2005-03-16 07:01:59  Brendan Cully  <brendan@kublai.com>  (brendan)

	* doc/Makefile.in: As Ralf Wildenhues noted, the cygwin EXEEXT
	patch was incomplete. Note to self: avoid patching on short
	sleep. Starting tomorrow.

	* configure.in, doc/Makefile.in, hcache.c, Makefile.am: Various
	cygwin portability fixes

2005-03-15 04:40:40  Brendan Cully  <brendan@kublai.com>  (brendan)

	* crypthash.h: Don't define uint32_t anywhere but in
	config.h. Spotted by Alain Bench.

2005-03-13 16:35:35  roessler  (roessler)

	* po/sv.po, po/tr.po, po/uk.po, po/zh_CN.po, po/zh_TW.po,
	po/id.po, po/it.po, po/ja.po, po/ko.po, po/lt.po, po/nl.po,
	po/pl.po, po/pt_BR.po, po/ru.po, po/sk.po, VERSION, po/bg.po,
	po/ca.po, po/cs.po, po/da.po, po/de.po, po/el.po, po/eo.po,
	po/es.po, po/et.po, po/fr.po, po/gl.po, po/hu.po, reldate.h:
	automatic post-release commit for mutt-1.5.9

2005-03-13 16:29:09  Morten Bo Johansen  <mojo@mbjnet.dk>  (roessler)

	* po/da.po: update

2005-03-05 18:15:20  Christoph Ludwig
<cludwig@cdc.informatik.tu-darmstadt.de>  (roessler)

	* crypt.c: The attached patch fixes a segfault I observed
	today: mutt failed to check for a possible null pointer in
	mutt_is_application_smime(Body*).

2005-03-05 07:10:57  brendan  (brendan)

	* mutt_sasl.c, mutt_sasl.h, mutt_socket.c, mutt_socket.h,
	mutt_ssl.c, mutt_ssl_gnutls.c, mutt_ssl_nss.c, mutt_tunnel.c:
	Rename open/close/read/write function pointers to avoid problems
	with systems where standard open/close/read/write functions are
	implemented with macros.  Thanks to Aaron Crane and others for
	their input about the problem.

2005-03-01 15:53:25  Vsevolod Volkov  <vvv@mutt.org.ua>  (roessler)

	* po/ru.po: update

2005-03-01 15:52:33  Thomas Glanzmann  <sithglan@stud.uni-erlangen.de>
(roessler)

	* init.h: This is a spelling fix supplied by Cameron Simpson.

2005-02-28 18:33:45  Mads Martin Joergensen  <mmj@suse.de>  (roessler)

	* curs_main.c: Fix a crash.

2005-02-28 15:15:23  Christoph Berg  <cb@df7cb.de>  (roessler)

	* init.h, menu.c, mutt.h: I've updated the menu_context patch to
	reintroduce the menu_move_off variable that hasn't made it into
	1.5.8. The patch fixes menu_prev_line and menu_next_line which
	didn't work with menu_context > 0 and also makes <current-middle>
	work even if there are less messages than screen lines (thanks
	to René Clerc and Vincent Lefevre for spotting these issues).

2005-02-28 14:37:09  Udo Schweigert  <mutt@cert.siemens.de>  (roessler)

	* smime.c: As pointed out in a separate thread, here is a patch
	which fixes the problem of a failing openssl after interactively
	selecting a recipient's key.

2005-02-27 03:18:23  Brendan Cully  <brendan@kublai.com>  (brendan)

	* imap/message.c: Turn brain back on before committing patches
	(that modification I made to APPEND was bogus).

2005-02-27 02:44:45  Dan Hopper  <ku4nf@austin.rr.com>	(brendan)

	* imap/message.c: Don't lose N flag when uploading a message to
	an IMAP mailbox.  (Slightly modified from the original patch to
	prevent spurious space characters).

2005-02-21 04:42:34  Alain Bench  <messtic@oreka.com>  (roessler)

	* parse.c, pgp.c, sendlib.c: Bcc should be RFC2047-encoded, too.

2005-02-19 16:00:24  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* sendlib.c: Fix Debian 295528.

2005-02-17 03:33:00  Brendan Cully  <brendan@kublai.com>  (brendan)

	* OPS, browser.c, doc/manual.sgml.head, functions.h,
	imap/browse.c, imap/imap.c, imap/imap.h, imap/imap_private.h:
	New function: rename-mailbox (bound to 'r' by default).

	The lack of a rename-mailbox command for IMAP finally got too
	annoying.  It's a bit of a cut-and-paste job, but I've put my
	dreams of cleaning up the IMAP codebase on hold. Gotta grow up
	some time.

2005-02-16 09:34:06  ta_panta_rei  <7vvtch802@sneakemail.com>  (roessler)

	* po/el.po: update

2005-02-16 08:48:41  Ronny Haryanto  <ronnylist@haryan.to>  (roessler)

	* po/id.po: update

2005-02-15 19:28:24  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* doc/Makefile.in: Fix linuxdoc invocation.  Thanks to
	Tamotsu Takahashi for tracking this down to an idiotic
	non-backwards-compatible change to the way groff works.

2005-02-15 19:03:51  Ivan Vilata i Balaguer  <ivan@selidor.net>
(roessler)

	* po/ca.po: update

2005-02-14 08:48:43  Vincent Lefevre  <vincent@vinc17.org>  (roessler)

	* po/fr.po: update

2005-02-13 17:37:31  Roland Rosenfeld  <roland@spinnaker.de>  (roessler)

	* po/de.po: update

2005-02-13 09:53:07  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* Makefile.am: Include crypt-gpgme.h with the distribution.

2005-02-13 00:25:37  Brendan Cully  <brendan@kublai.com>  (brendan)

	* configure.in, m4/gettext.m4, m4/iconv.m4: Use AC_HELP_STRING
	to pretty print configure --help screen, with mixed results.

2005-02-12 21:04:22  Brendan Cully  <brendan@kublai.com>  (brendan)

	* Makefile.am, imap/Makefile.am: Require at least automake 1.6

2005-02-12 20:56:36  roessler  (roessler)

	* po/zh_TW.po, po/sk.po, po/sv.po, po/tr.po, po/uk.po,
	po/zh_CN.po, po/pt_BR.po, po/ru.po, po/lt.po, po/nl.po, po/pl.po,
	po/et.po, po/fr.po, po/gl.po, po/hu.po, po/id.po, po/it.po,
	po/ja.po, po/ko.po, po/da.po, po/de.po, po/el.po, po/eo.po,
	po/es.po, Makefile.am, VERSION, po/bg.po, po/ca.po, po/cs.po,
	reldate.h: automatic post-release commit for mutt-1.5.8

2005-02-12 20:46:48  Vincent Lefevre  <vincent@vinc17.org>  (roessler)

	* po/fr.po: update

2005-02-12 20:45:36  Vsevolod Volkov  <vvv@mutt.org.ua>  (roessler)

	* po/ru.po: update

2005-02-12 20:20:42  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* configure.in: Give people more time to profile the inode
	sorting code; disabled by default for now.

	* globals.h, init.h, menu.c: Christoph Berg's menu_context,
	and a version of menu_move_off where that's not optional,
	but where mutt will just try to avoid moving off the bottom.
	Complain to mutt-dev if you want this to be optional.

2005-02-12 19:54:51  TAKAHASHI Tamotsu	<ttakah@lapis.plala.or.jp>
(brendan)

	* imap/message.c, imap/util.c: Fix debian bug #275060 (editing
	on an imap server loses its flags).  Remove trailing delimiter
	from IMAP folder names.

2005-02-12 19:52:28  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* charset.c, mbyte.c: Recognize euc-jp-ms.  MORIYAMA Masayuki
	by way of TAKAHASHI Tamotsu.

2005-02-12 19:38:14  TAKAHASHI Tamotsu	<ttakah@lapis.plala.or.jp>
(roessler)

	* doc/manual.sgml.head, doc/manual.sgml.tail, init.h, main.c:
	Trivial documentation fixes (TAKAHASHI Tamotsu, Brendan Cully,
	Paul Walker, Derek Martin).

	* editmsg.c: Partially fix debian bug #275060 (editing a message
	in a mbox loses its flags).

	* TODO: We have $include_onlyfirst.

2005-02-12 19:28:26  TAKIZAWA Takashi  <taki@luna.email.ne.jp>	(roessler)

	* muttlib.c, pager.c: column-length and byte-length are different

2005-02-12 19:19:25  Derek Martin  <invalid@pizzashack.org>  (roessler)

	* mutt.h, commands.c, curs_main.c, init.h: pgp-auto-decode: When
	$pgp_auto_decode is set, then mutt will check for traditional
	pgp on certain operations.  This is similar (but NOT identical)
	to the behavior known from PGP/MIME messages.

2005-02-12 19:12:40  TAKAHASHI Tamotsu	<ttakah@lapis.plala.or.jp>
(roessler)

	* alias.c, doc/manual.sgml.head, globals.h, hdrline.c, init.c,
	init.h: unalternates now also adds to a list of exceptions;
	same behavior for unlists, and unsubscribe.  With some changes
	from tlr.

2005-02-11 04:12:03  Brendan Cully  <brendan@kublai.com>  (brendan)

	* configure.in, m4/libgnutls.m4, mutt_ssl_gnutls.c: autoconf
	support for gnutls using a slightly modified version of gnutls'
	own libgnutls.m4

	* globals.h, init.h: Only enable ssl_client_cert for openssl
	(spotted by Adeodato).

2005-02-09 09:05:38  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* pattern.c: Don't crash in mutt_pattern_exec when h->env is NULL.

2005-02-08 17:23:50  TAKAHASHI Tamotsu	<tamo@momonga-linux.org>
(roessler)

	* init.h, mutt.h, mutt_idna.c: Make IDN decoding optional.

2005-02-05 14:11:36  Thomas Roessler   <roessler@does-not-exist.org>
(roessler)

	* crypthash.h, imap/util.c, lib.h, mbyte.h, mutt_idna.h,
	patchlist.sh, remailer.h, rfc822.h: Remove a number of unnecessary
	config.h includes, and add some missing ones.  May fix some bugs.

2005-02-04 16:54:13  Brendan Cully  <brendan@kublai.com>  (brendan)

	* Makefile.am: Add smime_keys to EXTRA_SCRIPTS (for make dist).

2005-02-04 12:56:28  Tamotsu Takahashi	<ttakah@lapis.plala.or.jp>
(roessler)

	* Makefile.am: http://bugs.guug.de/db/17/1769.html This is
	necessary for FreeBSD.

2005-02-03 19:46:53  Thomas Glanzmann  <sithglan@stud.uni-erlangen.de>
(roessler)

	* hcache.c: this is a fix for hcache.c infrastructure which is
	about wrongly calculate unique id

2005-02-03 18:44:27  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* pgp.c: Fix PGP clear signature handling.

2005-02-03 17:01:44  Brendan Cully  <brendan@kublai.com>  (brendan)

	* imap/auth.c, imap/auth_anon.c, imap/auth_cram.c,
	imap/auth_gss.c, imap/auth_login.c, imap/auth_sasl.c,
	imap/browse.c, imap/command.c, imap/imap.c, imap/message.c,
	imap/utf7.c, pgpkey.c, pgplib.c, pgpmicalg.c, pgppacket.c,
	pgppubring.c, pop.c, pop_auth.c, pop_lib.c, postpone.c,
	query.c, recvattach.c, recvcmd.c, regex.c, remailer.c,
	resize.c, rfc1524.c, rfc2047.c, rfc2231.c, rfc822.c, score.c,
	send.c, sendlib.c, sha1.c, signal.c, smime.c, snprintf.c,
	sort.c, status.c, system.c, thread.c, url.c, utf8.c,
	wcwidth.c, crypt-mod-pgp-classic.c, crypt-mod-pgp-gpgme.c,
	crypt-mod-smime-classic.c, crypt-mod-smime-gpgme.c, crypt-mod.c,
	crypt.c, cryptglue.c, curs_lib.c, curs_main.c, date.c,
	dotlock.c, edit.c, editmsg.c, enter.c, extlib.c, filter.c,
	flags.c, from.c, getdomain.c, gnupgparse.c, handler.c, hash.c,
	hdrline.c, headers.c, help.c, history.c, hook.c, init.c, keymap.c,
	lib.c, main.c, makedoc.c, mbox.c, mbyte.c, md5c.c, menu.c, mh.c,
	mutt.h, mutt_idna.c, mutt_sasl.c, mutt_socket.c, mutt_ssl.c,
	mutt_ssl_gnutls.c, mutt_ssl_nss.c, mutt_tunnel.c, muttlib.c,
	mx.c, pager.c, parse.c, pattern.c, pgp.c, pgpinvoke.c, account.c,
	addrbook.c, alias.c, ascii.c, attach.c, base64.c, browser.c,
	buffy.c, charset.c, color.c, commands.c, complete.c, compose.c,
	copy.c, crypt-gpgme.c: Add config.h to the top of every C file
	that could possibly want it.  Remove it from mutt.h

2005-02-01 03:36:39  Brendan Cully  <brendan@kublai.com>  (brendan)

	* imap/auth.c, imap/auth_anon.c, imap/auth_cram.c,
	imap/auth_gss.c, imap/auth_login.c, imap/auth_sasl.c,
	imap/browse.c, imap/command.c, imap/imap.c, imap/message.c,
	imap/utf7.c, protos.h: Pull config.h out of protos.h, add to
	top of every IMAP C file. This should probably be done to every
	C file, but the results need testing in case some files depend
	on the current (broken) includes.

2005-01-31 02:40:14  brendan  (brendan)

	* acconfig.h, configure.in, hcache.c, imap/imap_private.h,
	imap/message.c, m4/types.m4, protos.h: Begin removing deprecated
	autoconf 2.13 backward compatibility code.  Add AC_CHECK_TYPES
	macros for uin32/64 types, use uint64_t instead of long long in
	hcache code.

2005-01-29 19:15:07  Thomas Glanzmann  <sithglan@stud.uni-erlangen.de>
(roessler)

	* hcache.c: - make hcache.c conform to mutt codingstyle - use $Id$
	CVS keyword instead of %K% BitKeeper keyword

2005-01-28 16:40:33  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* pgp.c: Adeotato points out that feof() only works after a read.
	So, we now check for an unsuccessful fgetc().

2005-01-28 14:50:31  Paul Walker  <paul@black-sun.demon.co.uk>	(roessler)

	* signal.c: Trigger window resizing code when waking up from
	suspension.

2005-01-28 14:09:08  René Clerc  <rene@clerc.nl>  (roessler)

	* po/nl.po: update

2005-01-28 13:17:22  Werner Koch  <wk@gnupg.org>  (roessler)

	* Makefile.am, configure.in, crypt-gpgme.c, crypt-gpgme.h,
	crypt-mod-pgp-gpgme.c, crypt-mod-smime-gpgme.c, cryptglue.c,
	functions.h: gpgme integration.  See documentation for
	$crypt_use_gpgme, and http://www.gnupg.org/aegypten2/.

2005-01-28 13:00:36  Adeodato Simó  <asp16@alu.ua.es>  (roessler)

	* mutt_ssl_gnutls.c: The attached mini-patch from David Mosberger
	<davidm@napali.hpl.hp.com> seems to fix a segfault in the ia64
	architecture. Via Debian Bug#285001.

2005-01-28 10:01:30  roessler  (roessler)

	* po/tr.po, po/uk.po, po/zh_CN.po, po/zh_TW.po, po/lt.po,
	po/nl.po, po/pl.po, po/pt_BR.po, po/ru.po, po/sk.po, po/sv.po,
	po/el.po, po/eo.po, po/es.po, po/et.po, po/fr.po, po/gl.po,
	po/hu.po, po/id.po, po/it.po, po/ja.po, po/ko.po, VERSION,
	po/bg.po, po/ca.po, po/cs.po, po/da.po, po/de.po, reldate.h:
	automatic post-release commit for mutt-1.5.7

2005-01-27 20:52:13  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* main.c: Add USE_INODESORT to main.c's option dump.

2005-01-27 20:38:02  TAKAHASHI Tamotsu	<ttakah@lapis.plala.or.jp>
(roessler)

	* commands.c: 0. In compose mode, press Ctrl-t to change
	Content-Type.  1. Type "application/octet-stream" for example.
	2. Press Ctrl-t again.	3. Type "text/plain; charset=us-ascii"
	4. You will be asked "Convert to us-ascii upon sending?"
	5. Press y or n.  6. You will see a strange message:
	 "Content-Type changed to Convert to us-ascii upon sending?."

2005-01-27 20:26:52  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* pgp.c: Return an error in pgp_decrypt_part when the PGP output
	file is empty.

2005-01-27 20:17:46  Thomas Glanzmann  <sithglan@stud.uni-erlangen.de>
(roessler)

	* curs_main.c: this patch doesn't raise an error if you try
	to sync an empty mailbox which makes it possible to use such a
	macro as this on an empty mailbox:

	macro index y "<sync-mailbox><change-folder>?"	macro pager y
	"<sync-mailbox><change-folder>?"

2005-01-27 19:34:50  David Shaw  <dshaw@jabberwocky.com>  (roessler)

	* pgp.c: Detect end of PGP armor header when a line is
	whitespace-only.

2005-01-27 19:18:15  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* smime.c: Void the S/MIME passphrase before prompting
	the user to re-enter it.  Noted by TAKAHASHI Tamotsu
	<ttakah@lapis.plala.or.jp>, but with memset replaced by
	smime_void_passphrase().

2005-01-27 19:00:59  TAKAHASHI Tamotsu	<ttakah@lapis.plala.or.jp>
(roessler)

	* curs_lib.c: Add terminal newline when it lacks after editing
	a message.  Originally from TAKIZAWA Takashi.

2005-01-27 18:58:14  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* Makefile.am: Include mutt_ssl_gnutls.c with the distribution.

2005-01-27 18:54:24  Marco d'Itri  <md@Linux.IT>  (roessler)

	* globals.h, imap/imap.c, imap/util.c, init.c, init.h, main.c,
	mutt.h, mutt_sasl.c, mutt_socket.c, mutt_ssl.h, mutt_ssl_gnutls.c,
	pop_lib.c: GNUTLS support.  Used in Debian since Nov. 2001.

2005-01-27 18:48:41  Bill Nottingham  <notting@redhat.com>  (roessler)

	* mutt_sasl.c: With SASL, expect the server to prompt for
	additional auth data if we have some to send (#129961, upstream
	#1845)

	* contrib/sample.muttrc: Changes the sample.muttrc highlight to
	catch https URLs as well.

	* color.c, main.c: Support for the "default" color in Slang.

2005-01-27 18:45:37  Florian Weimer   <fw@deneb.enyo.de>  (roessler)

	* mh.c, configure.in: Read files in maildir folders in inode
	order; this seems to reduce seek overhead on Linux.  Enabled by
	default; to disable, run configure with --disable-inodesort.
	(By way of Mario d'Itri.)

2005-01-27 18:28:42  Marco d'Itri  <md@Linux.IT>  (roessler)

	* pgp.c: Improved good signature check.

	* contrib/gpg.rc, pgpinvoke.c: Make the default Muttrc work
	out the box for people using gnupg-agent.  Wrote and applied a
	one-line patch to make the %?p? conditional escape work correctly,
	patch forwarded upstream. (Closes: #277646)

	* pgpewrap.c: Don't segfault when invoked without any arguments.

	* contrib/gpg.rc, pgp.c: Evaluate gpg's machine-parseable status
	messages.

	* smime_keys.pl: Add some sanity checks to smime_keys.pl.

	* contrib/gpg.rc: A gpg command line contains both --verbose
	and --no-verbose, remove the first.

2005-01-26 14:33:08  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* status.c: And, thinking about it further, this should just be
	an empty string, not "(null)".

	* status.c: The last Context->pattern fix was still crap.
	Ooooops. (Thanks Ralf.)

2005-01-26 13:36:44  Thomas Glanzmann  <sithglan@stud.uni-erlangen.de>
(roessler)

	* Makefile.am, configure.in, globals.h, hcache.c, imap/imap.c,
	imap/imap_private.h, imap/message.c, init.h, main.c, protos.h:
	IMAP header cache.

2005-01-26 12:37:38  Ralf Wildenhues  <wildenhues@ins.uni-bonn.de>
(roessler)

	* addrbook.c, browser.c, commands.c, compose.c, imap/utf7.c:
	Make some functions static.

	* imap/command.c, imap/message.c: Fix some printf arguments.

2005-01-26 12:21:46  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* status.c: * status.c: A variant of
	<http://marc.theaimsgroup.com/?l=mutt-dev&m=110053165002362&w=2>.
	Spotted by Ralf Wildenhues <wildenhues@ins.uni-bonn.de>.

2005-01-17 02:24:49  Brendan Cully  <brendan@kublai.com>  (brendan)

	* cvslog2changelog.pl: cvs log emits a timezone after the hour,
	at least here. Adjust date regexp to handle that case.

2005-01-15 17:45:01  Adeodato SimÃ³   <asp16@alu.ua.es>  (brendan)

	* po/cs.po: Major translation updates forgotten in mutt-po.
	(I missed cs in the last commit).

2005-01-15 08:01:35  Brendan Cully  <brendan@kublai.com>  (brendan)

	* Makefile.am: Update commit targets to work when builddir !=
	srcdir.

2005-01-15 07:43:30  Adeodato SimÃ³  <asp16@alu.ua.es>	(brendan)

	* po/sv.po, po/ca.po, po/de.po, po/it.po: i18n updates.

	* doc/manual.sgml.head, doc/mutt.man, doc/muttrc.man.head,
	init.h: Sundry documentation nits fixed.  Debian #210679, #254294,
	#258621, #272579

2005-01-11 12:15:13  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* doc/manual.sgml.head, doc/muttrc.man.head: Document send2-hook.

	* send.c: send2-hook should also be executed after the first
	time the message is edited by the user.

2005-01-09 15:35:51  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* doc/muttbug.man, muttbug.sh.in: Replace muttbug and its
	documentation by a note that acknowledges the shut down of the
	bug tracking system.

2004-12-21 09:46:24  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* pgp.c: Fix Debian #275188.

2004-12-07 19:50:04  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* compose.c, hook.c, init.c, init.h, mutt.h, send.c: Add
	send2-hook and fix alternates handling.

2004-11-19 16:16:51  René Clerc  <rene@clerc.nl>  (roessler)

	* doc/manual.sgml.tail, doc/manual.sgml.head: Document
	tag-prefix-cond.

2004-11-08 08:43:17  Ralf Wildenhues  <wildenhues@ins.uni-bonn.de>
(roessler)

	* imap/imap_private.h: Having a signed one-bit bitfield is quite
	odd -- its value is either 0 or -1.  Although the current code
	is not broken because it doesn't test equality to 1, IMHO it's
	better not to use that.

	* imap/message.c: There's a size_t in imap_append_message not
	printed out portably.

2004-11-02 13:30:58  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* copy.h: Fix flag confusion.  Noted by Vincent Lefevre.

2004-10-30 21:59:00  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* browser.c, buffy.c, check_sec.sh, commands.c, edit.c,
	imap/auth_cram.c, imap/auth_gss.c, imap/imap.c, imap/message.c,
	lib.c, lib.h, mutt_ssl.c, muttlib.c, recvcmd.c, url.c:
	safe_strcat, safe_strncat.  Thanks to Ulf H. for noting the
	wrong use of strncat in part of the mutt code base.

	* smime.c: Fix bad code in smime_get_field_from_db.  Problem noted
	by Ulf Härnhammar <Ulf.Harnhammar.9485@student.uu.se>.

2004-09-29 11:27:33  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* lib.c: Fix mutt_unlink race condition for systems without
	O_NOFOLLOW.  Noted by Jarno Huuskonen <Jarno.Huuskonen@uku.fi>.

2004-09-07 08:09:39  Matthias Andree  <matthias.andree@gmx.de>	(roessler)

	* prepare: Fix parameter passing.

2004-08-31 15:41:03  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* configure.in: Add AC_GNU_SOURCE.

	* recvattach.c: Remove *two* layers of S/MIME from messages
	before building the attachment tree.  A generic solution would
	remove intransparent encodings all the way down the tree.

2004-08-30 20:10:10  Brendan Cully  <brendan@kublai.com>  (roessler)

	* compose.c: Only print additional information related to PGP
	in case the current message is indeed to be encrypted/signed
	with PGP.

	* globals.h, init.h, mutt_sasl.c, mutt_ssl.c: Here's a patch
	to allow mutt to use SSL client certificates to authenticate
	itself. To use, set ssl_client_cert to the path to your
	certificate file (containing both the certificate and the private
	key). It works with the SASL EXTERNAL authentication mechanism,
	so you'll need to have SASL enabled as well.

2004-08-30 20:03:35  Thomas Glanzmann  <sithglan@stud.uni-erlangen.de>
(roessler)

	* init.c: Fix a memory leak in the generic spam detection code.

	* muttlib.c, protos.h: This wipes duplicated code, which I
	introduced a while ago.

2004-08-30 19:47:47  TAKAHASHI Tamotsu	<ttakah@lapis.plala.or.jp>
(roessler)

	* po/ja.po: update

2004-08-21 07:35:16  Ivan Vilata i Balaguer  <ivan@selidor.net>
(roessler)

	* po/ca.po: update

2004-08-17 16:06:48  René Clerc  <rene@clerc.nl>  (roessler)

	* po/nl.po: update

2004-08-17 15:56:23  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* configure.in, configure.in: Check for ssize_t.

2004-08-17 15:25:31  Ronny Haryanto  <ronnylist@haryan.to>  (roessler)

	* po/id.po: Corrected update.

	* po/id.po: update

2004-08-17 15:22:25  Vincent Lefevre  <vincent@vinc17.org>  (roessler)

	* po/fr.po: update

2004-08-17 13:42:01  Johan Svedberg  <johan@svedberg.pp.se>  (roessler)

	* po/sv.po: update

2004-08-16 21:37:43  Adeodato Simó  <asp16@alu.ua.es>  (roessler)

	* headers.c: as of current cvs, setting "PGP: E" (or similar)
	when header-editing a message does not work. the OP is set
	(ENCRYPT, SIGN, whatever) but APPLICATION_PGP is missing.

2004-08-16 21:36:38  Brendan Cully  <brendan@kublai.com>  (roessler)

	* imap/imap.c: If STARTTLS fails to complete the SSL handshake,
	the error is not propagated and mutt will attempt to log in
	anyway, probably causing an infinite block on read. The attached
	patch closes the socket in this case, and propagates the error
	properly.

	* imap/auth_sasl.c: The attached patch causes mutt to attempt
	the next method in imap_authenticators if the previous method
	failed, even if the server reported that the method was
	available. Previously mutt would give up if any authentication
	method failed.

2004-08-16 21:34:22  Moritz Schulte   <moritz@g10code.com>  (roessler)

	* compose.c: Only print "Encrypt with" field in case the used
	S/MIME modules supports this feature.

2004-08-16 21:33:35  Pawel Dziekonski  <dzieko@pwr.wroc.pl>  (roessler)

	* po/pl.po: update

2004-08-11 12:31:21  Thomas Glanzmann  <sithglan@stud.uni-erlangen.de>
(roessler)

	* imap/imap.c: Fix two IMAP memory leaks.

	* imap/imap.c, imap/imap.h: Remove imap_close_connection.

	* menu.c: Fix a memory leak in mutt_menuDestroy.

2004-08-08 16:21:16  Thomas Glanzmann  <sithglan@stud.uni-erlangen.de>
(roessler)

	* ChangeLog, muttlib.c, protos.h: Fix a memory leak.

2004-08-08 16:19:15  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* pgp.c, smime.c: Fix the PGP and S/MIME menus. Complaints
	and suggestions of many lead to these changes.	See mutt-dev
	discussions around this time for details.

	* Makefile.am, crypthash.h, md5.h, sha1.h: Fix uint32_t
	portability problem. Reported by Steve Kennedy.

2004-08-07 05:23:33  Johan Svedberg  <johan@svedberg.pp.se>  (roessler)

	* po/sv.po: update

2004-08-02 08:03:46  Nathan Dushman  <nhd+mutt@andrew.cmu.edu>	(roessler)

	* imap/command.c: Fix the improvement to address #1655.

2004-07-22 01:10:55  Brendan Cully  <brendan@kublai.com>  (roessler)

	* imap/message.c: Quick fix for IMAP breakage.

2004-07-21 22:15:40  Nathan Dushman  <nhd+mutt@andrew.cmu.edu>	(roessler)

	* imap/command.c: This is a one-line patch that increases the
	speed at which mutt opens IMAP mailboxes, and addresses bug #1655.

2004-07-20 09:00:50  Pawel Dziekonski  <dzieko@pwr.wroc.pl>  (roessler)

	* po/pl.po: update

2004-07-20 08:17:21  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* imap/message.c, mutt.h, parse.c, send.c, url.c: Use List-Post
	headers when doing list-reply.

2004-07-19 21:44:23  TAKAHASHI Tamotsu	<ttakah@lapis.plala.or.jp>
(roessler)

	* globals.h, imap/message.c, init.h: Fix #1548.  (The first
	variant, with $imap_headers specifying headers that are downloaded
	in addition to the set required for mutt to work properly.)

2004-07-19 21:41:43  David Champion  <dgc@uchicago.edu>  (roessler)

	* mbox.c, mh.c, pgp.c, sendlib.c: Fix some compiler warnings.

2004-07-19 21:39:28  Adeodato Simó  <asp16@alu.ua.es>  (roessler)

	* doc/manual.sgml.head: Fixing a missing newline.

2004-07-19 21:36:46  Thomas Glanzmann  <sithglan@stud.uni-erlangen.de>
(roessler)

	* Makefile.am: Fix IMAP breakage.

2004-07-15 08:08:32  David Champion  <dgc@uchicago.edu>  (roessler)

	* doc/manual.sgml.head, init.c, init.h, mutt.h: v3 of the generic
	spam detection patch.

2004-07-14 05:58:30  Moritz Schulte   <moritz@g10code.com>  (roessler)

	* pgp.c: Do not forget to handle special-case for gpg-agent.

2004-07-14 05:55:40  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* ChangeLog: Fix an earlier commit message.

2004-07-14 05:45:18  TAKAHASHI Tamotsu	<ttakah@lapis.plala.or.jp>
(roessler)

	* browser.c: Fix Debian#237426.  (Experimental.)

2004-07-14 05:39:23  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* compose.c: Don't invoke "builtin" as an external editor.  Note:
	It's not clear to me that this is really the right approach.
	Revisit Editor/Visual some time.

2004-07-14 05:19:15  Elmar Hoffmann  <mutt-dev-ml@elho.net>  (roessler)

	* init.h, mutt.h, thread.c: By default Mutt hides the subject
	of messages in the thread tree that have the same subject as
	their parent or closest previously displayed sibling. This patch
	makes this optional, introducing the hide_thread_subject boolean
	setting which defaults to the old behaviour.

2004-07-14 05:07:18  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* mh.c: Some eye-candy during the delayed parsing of maildir
	folders.

2004-07-14 04:50:19  TAKAHASHI Tamotsu	<ttakah@lapis.plala.or.jp>
(roessler)

	* init.h, sort.h: Hack to fix $sort_browser documentation.

	* copy.c, copy.h, handler.c, init.h, mutt.h, send.c:
	$include_onlyfirst, again.

2004-07-14 04:34:07  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* copy.c, copy.h, handler.c, init.h, mutt.h, send.c: Fix a cvs
	commit SNAFU: This commit undoes the include_onlyfirst patch,
	but leaves the generic spam detection by David Champion in place
	(which, erroneously, hadn't been committed automatically).

2004-07-14 04:16:58  ttakah@lapis.plala.or.jp  (roessler)

	* commands.c, copy.c, copy.h, doc/manual.sgml.head,
	doc/muttrc.man.head, globals.h, handler.c, hdrline.c, init.c,
	init.h, mutt.h, muttlib.c, parse.c, pattern.c, protos.h, send.c,
	sort.c, sort.h: Introduce $include_onlyfirst.

2004-07-12 13:35:27  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* pager.c: The limitations for OP_MAIL and OP_RECALL should
	be identical.

	* init.c, sendlib.c: Add some debugging code, and rewrite the
	previously-ununderstandable mutt_remove_duplicates.  (All this
	done on the search for a problem that ultimately turned out to
	be a configuration issue. Still, the changed code could come in
	handy some day.)

2004-07-11 16:25:00  TAKAHASHI Tamotsu	<ttakah@lapis.plala.or.jp>
(roessler)

	* pager.c: Fix #1882.

2004-06-27 13:54:51  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* postpone.c: Experimental code for #1910.

2004-06-26 08:45:29  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* commands.c: Fix #1909.

2004-06-23 08:09:43  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* pgp.c: Zero out the PGP passphrase before asking for a new one.

2004-06-17 20:39:20  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* smime.c: Change S/MIME send menu behavior to xor instead of or,
	so it behaves the same way as the PGP send menu.

2004-06-17 20:36:13  Moritz Schulte  <moritz@g10code.com>  (roessler)

	* Makefile.am, compose.c, configure.in, crypt-mod-pgp-classic.c,
	crypt-mod-smime-classic.c, crypt-mod.c, crypt-mod.h, crypt.c,
	cryptglue.c, curs_lib.c, init.h, keymap.c, keymap.h, main.c,
	mutt.h, mutt_crypt.h, mutt_curses.h, pgp.c, pgp.h, smime.c,
	smime.h: This is the sequel to the crypto modularization changes
	I did on 2003-01-21.  Moritz added another abstraction layer
	which cleans up the code and allows the crypto modules to use
	their own option menu.	Everything should work as it used to
	but is now in a really good shape for part III, the Return of
	the GnuPG Easy Makers. -wk

	* crypt-mod-pgp-classic.c, crypt-mod-smime-classic.c, crypt-mod.c,
	crypt-mod.h: New files.

	* smime.c (smime_valid_passphrase, smime_send_menu): New
	functions.  * smime.h: Removed macro: smime_valid_passphrase.
	Declared: smime_valid_passphrase, smime_send_menu.  * pgp.c:
	Include "mutt_menu.h".	(pgp_valid_passphrase, pgp_send_menu):
	New functions.	* pgp.h: Removed macro: pgp_valid_passphrase.
	Declared: pgp_valid_passphrase, pgp_send_menu.	*
	mutt_curses.h: Declare: mutt_need_hard_redraw.	* mutt_crypt.h:
	Declare: crypt_pgp_valid_passphrase, crypt_pgp_send_menu,
	crypt_smime_valid_passphrase, crypt_smime_send_menu, crypt_init.
	Adjust WithCrypto definition since the GPGME backend does not
	exclude anymore the other `classic' backends.  (KEYFLAG_ISX509):
	New symbol.  * mutt.h (enum): New symbol: OPTCRYPTUSEGPGME.
	(struct body): New member: is_signed_data, warnsig.  * main.c
	(main): Call crypt_init.  * keymap.c (km_get_table): Support for
	MENU_KEY_SELECT_PGP and MENU_KEY_SELECT_SMIME.	(Menus): Added
	entries fuer MENU_KEY_SELECT_PGP and MENU_KEY_SELECT_SMIME.
	(km_init): Create bindings for MENU_KEY_SELECT_PGP and
	MENU_KEY_SELECT_SMIME.	* keymap.h (enum): New enum symbols:
	MENU_KEY_SELECT_PGP, MENU_KEY_SELECT_SMIME.  * init.h:
	New configuration variable: crypt_use_gpgme.  * compose.c
	(pgp_send_menu, smime_send_menu): Removed functions, they are now
	contained in the crypto backend modules.  (mutt_compose_menu):
	Use crypt_pgp_send_menu and crypt_smime_send_menu instead
	pgp_send_menu and smime_send_menu.  * cryptglue.c: Slightly
	rewritten in order to make use of the module mechanism used to
	access crypto backends.  * curs_lib.c (mutt_need_hard_redraw):
	New function.  * crypt.c (crypt_forget_passphrase): Adjust
	for new crypto backend interface.  (crypt_valid_passphrase):
	Stripped, use calls to crypt_pgp_valid_passphrase and
	crypt_smime_valid_passphrase.

2004-06-02 17:55:34  Alain Bench  <veronatif@free.fr>  (roessler)

	* parse.c: Fix #1759.

2004-04-30 06:49:37  Urs Janßen  <urs@tin.org>	(roessler)

	* doc/Makefile.in, doc/mbox.man, doc/mmdf.man: mmdf(5), new mbox
	(5).  (These changes have been sitting in my inbox for ages, tlr.)

2004-04-13 15:10:38  Brendan Cully  <brendan@kublai.com>  (roessler)

	* imap/message.c: Fix #1795

2004-04-13 08:02:12  David Shaw  <dshaw@jabberwocky.com>  (roessler)

	* crypt.c, init.h, mutt.h: Rename pgp_mime_ask to pgp_mime_auto;
	change the default; change the error message given if that
	variable is set to "no."

2004-04-12 21:43:33  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* lib.c, attach.c: Don't open a file for writing that we have
	unlinked before. Reported embarassingly long ago by Jarno
	Huuskonen <Jarno.Huuskonen@uku.fi>.

2004-04-12 21:19:31  Dale Woolridge  <dale-list-mutt-dev-2@woolridge.org>
(roessler)

	* po/uk.po, po/zh_CN.po, po/zh_TW.po, po/pt_BR.po, po/ru.po,
	po/sk.po, po/sv.po, po/tr.po, po/gl.po, po/hu.po, po/id.po,
	po/it.po, po/ja.po, po/ko.po, po/lt.po, po/nl.po, po/pl.po,
	po/cs.po, po/da.po, po/de.po, po/el.po, po/eo.po, po/es.po,
	po/et.po, po/fr.po, compose.c, crypt.c, init.h, mutt.h,
	mutt_crypt.h, po/ca.po, postpone.c, send.c, sendlib.c: See:
	http://does-not-exist.org/mail-archives/mutt-dev/msg00843.html

2004-04-12 20:37:19  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* copy.c: Fix #1804.

	* commands.c, curs_main.c, mutt.h, mutt_crypt.h, pager.c,
	recvattach.c: A belated fix for #1808 (Debian #233106): Make
	sure check-traditional-pgp doesn't leave the pager context
	unnecessarily.	This makes message-hooks like this one safe:

	  message-hook '!(~g|~G) ~b"^-----BEGIN\ PGP\ (SIGNED\ )?MESSAGE"'
		\ "exec check-traditional-pgp"

2004-04-12 19:53:29  TAKAHASHI Tamotsu	<ttakah@lapis.plala.or.jp>
(roessler)

	* doc/manual.sgml.head, init.h: Various documentation fixes,
	#1790.

2004-04-12 19:47:59  Alain Bench  <veronatif@free.fr>  (roessler)

	* doc/mbox.man, doc/muttbug.man: Fix #1831, Debian#237827.

2004-04-12 19:42:10  Joël Riou	<joel.riou@normalesup.org>  (roessler)

	* globals.h, init.c, init.h: Introduce config_charset.

2004-04-12 19:37:59  Vsevolod Volkov  <vvv@mutt.org.ua>  (roessler)

	* po/ru.po: update

2004-04-12 19:37:23  Im Eunjea	<eunjea@koru.org>  (roessler)

	* po/ko.po: update

2004-04-12 19:34:45  Holger Weiss  <lists@jhweiss.de>  (roessler)

	* doc/manual.sgml.head, doc/muttrc.man.head, mutt.h, pattern.c:
	Unreferenced messages pattern: ~$

2004-04-12 19:20:13  Paul WALKER  <paul.walker@st.com>	(roessler)

	* mutt_sasl.c: SASL2 needs errno.h.

2004-04-12 19:17:32  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* muttlib.c: Include the user ID with temporary file names.
	Suggested by eravin@panix.com in #1833.

	* doc/Makefile.in: Fix #1708 the brutal way, by installing
	multiple copies of the muttbug (pardon, flea) manual page.

2004-04-12 18:56:18  Neil Brown  <neilb@cse.unsw.edu.au>  (roessler)

	* imap/auth_sasl.c: Fix Debian #206078, #214758; patch submitted
	by Artur Czechowski as #1845.

2004-03-21 16:02:10  Ivan Vilata i Balaguer  <ivan@selidor.net>
(roessler)

	* po/ca.po: update

2004-02-12 08:51:07  roessler  (roessler)

	* po/uk.po, po/zh_CN.po, po/zh_TW.po, po/sk.po, po/sv.po,
	po/tr.po, po/pt_BR.po, po/ru.po, po/nl.po, po/pl.po, po/ja.po,
	po/ko.po, po/lt.po, po/id.po, po/it.po, po/gl.po, po/hu.po,
	po/es.po, po/et.po, po/fr.po, po/el.po, po/eo.po, po/da.po,
	po/de.po, VERSION, po/bg.po, po/ca.po, po/cs.po, reldate.h,
	ChangeLog: automatic post-release commit for mutt-1.4.2.1

2004-02-12 08:46:17  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* Makefile.am: (stable) Include regex.c and snprintf.c with
	the distribution.

2004-02-11 14:03:38  roessler  (roessler)

	* po/zh_TW.po, po/uk.po, po/zh_CN.po, po/tr.po, po/sv.po,
	po/ru.po, po/sk.po, po/pt_BR.po, po/pl.po, po/nl.po, po/ko.po,
	po/lt.po, po/ja.po, po/it.po, po/id.po, po/hu.po, po/gl.po,
	po/et.po, po/fr.po, po/eo.po, po/es.po, po/el.po, po/de.po,
	po/cs.po, po/da.po, po/ca.po, VERSION, po/bg.po, reldate.h,
	ChangeLog: automatic post-release commit for mutt-1.4.2

2004-02-11 10:07:17  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* configure.in, menu.c: Backport an old bug fix, and make sure
	configure can be created on recent systems.

2004-02-11 08:20:25  Mads Martin Joergensen  <mmj@suse.de>  (roessler)

	* init.c: Fix some warnings.

2004-02-08 11:41:31  Edmund GRIMLEY EVANS  <edmundo@rano.org>  (roessler)

	* charset.c: Fix a CP1255/8-related problem that's caused by a
	glibc/iconv bug.

2004-02-08 09:38:38  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* muttlib.c: Change the logic in mutt_open_read to only
	catch directories -- mutt may legitimately read devices (think
	/dev/null) or named pipes. Also delegate error reporting to the
	calling function by setting errno.

2004-02-07 21:40:11  TAKAHASHI Tamotsu	<ttakah@lapis.plala.or.jp>
(roessler)

	* po/ja.po: update

2004-02-07 21:38:32  Juan Altmayer Pizzorno  <juan@altmayer.com>
(roessler)

	* mbox.c: Hi, off_t is a 64-bit number (like on Mac OS X/darwin),
	the percentages don't show right while mutt is reading/parsing
	a mailbox.  Here's a patch (against 1.5.6i) to fix that.

2004-02-07 21:36:41  David Yitzchak Cohen
<lists+mutt_devs@bigfatdave.com>  (roessler)

	* init.c, muttlib.c: Looking at the code, the problem is pretty
	obvious.  A recent patch to init.c (the one that was supposed
	to prevent Mutt from silently failing to read nonexistant RC
	files, IIRC) changed source_rc() to stat(2) the RC "file" before
	trying to mutt_open_read() it.	There's only one problem here:
	source_rc() has no way of knowing whether or not its "file"
	is a file or a command.  I'm attaching a patch that fixes the
	problem in what I believe is the right way.

2004-02-05 14:17:25  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* menu.c: Back out the patch for #1697.

2004-02-02 18:17:46  Roland Rosenfeld  <roland@spinnaker.de>  (roessler)

	* po/de.po: update

2004-02-02 10:26:14  Pawel Dziekonski  <dzieko@pwr.wroc.pl>  (roessler)

	* po/pl.po: update

2004-02-02 10:24:32  Im Eunjea	<eunjea@koru.org>  (roessler)

	* po/ko.po: update

2004-02-02 10:22:56  Vincent Lefevre  <vincent@vinc17.org>  (roessler)

	* po/fr.po: update

2004-02-01 18:26:13  roessler  (roessler)

	* po/pt_BR.po, po/ru.po, po/sk.po, po/sv.po, po/tr.po, po/uk.po,
	po/zh_CN.po, po/zh_TW.po, po/id.po, po/it.po, po/ja.po, po/ko.po,
	po/lt.po, po/nl.po, po/pl.po, VERSION, po/bg.po, po/ca.po,
	po/cs.po, po/da.po, po/de.po, po/el.po, po/eo.po, po/es.po,
	po/et.po, po/fr.po, po/gl.po, po/hu.po, reldate.h: automatic
	post-release commit for mutt-1.5.6

2004-02-01 18:00:16  Mike Schiraldi  <1074468571@schiraldi.org>
(roessler)

	* init.c: As you all know, running "mutt -F foo.rc" will have
	mutt read foo.rc as its config file. However, there is a bug --
	if you specify a directory (like accidentally typing "mutt -F
	/etc/mutt") mutt will silently ignore the flag and leave you
	wondering why it isn't working.

	Emil Sit posted a patch for this in March of 2002, but it seems
	to have slipped through the cracks. Here's the patch again;
	please consider it for inclusion.

2004-02-01 17:50:43  Luke Mewburn  <luke@mewburn.net>  (roessler)

	* buffy.c: Put a zero byte into the string, not into the pointer.

2004-02-01 17:48:25  Dan Ohnesorg  <Dan@ohnesorg.cz>  (roessler)

	* po/cs.po: update

2004-02-01 17:45:33  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* doc/manual.sgml.head: A cross-reference was missing.

	* doc/manual.sgml.head: Improve documentation of alterantes.

	* alias.c, doc/manual.sgml.head, doc/muttrc.man.head, globals.h,
	hdrline.c, init.c, init.h, mutt.h, mutt_regex.h, muttlib.c,
	protos.h: Turn alternates, lists, and subscribe into regular
	expression lists.

2004-01-12 22:56:58  Christoph Ludwig
<cludwig@cdc.informatik.tu-darmstadt.de>  (roessler)

	* smime_keys.pl: Avoid a Perl warning.

2004-01-12 20:24:09  Matt Kraai  <kraai@ftbfs.org>  (roessler)

	* doc/manual.sgml.head: Thanks.  The patch is committed to
	the CVS.

2004-01-12 19:59:38  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* crypt.c: Retainable PGP signatures were broken badly.  #1757.

2004-01-05 11:55:14  Robert Schiele  <robert.schiele@t-online.de>
(roessler)

	* mutt_sasl.c: Back out part of the previous SASL/IPv6 patch
	due to portability issues.

2004-01-04 11:10:21  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* init.c: Strike that.

	* init.c: Fix a memory management error.  Ouch.

2004-01-04 10:55:20  René Clerc  <rene@clerc.nl>  (roessler)

	* init.h: Fix hide_missing / hide_limited documentation.

2004-01-04 10:51:49  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* hdrline.c: Permit list patterns that match the domain name of
	an address; these patterns begin with '@'.  Example:  subscribe
	@bugs.guug.de matches all messages sent to the bug tracking
	system.

	* po/ru.po: Argh, I shouldn't replace files by patches.

2004-01-04 10:25:13  Cameron Patrick  <cameron@patrick.wattle.id.au>
(roessler)

	* menu.c: Fix #1697 (Debian  #219594.)

2004-01-04 10:21:19  Roland Rosenfeld  <roland@spinnaker.de>  (roessler)

	* po/de.po: update

2004-01-04 10:19:45  TAKAHASHI Tamotsu	<ttakah@lapis.plala.or.jp>
(roessler)

	* po/ja.po: update

2004-01-04 10:08:02  Pawel Dziekonski  <dzieko@pwr.wroc.pl>  (roessler)

	* po/pl.po: update

2004-01-04 10:03:46  Michael Elkins  <me@sigpipe.org>  (roessler)

	* send.c: Fix #1488 (Debian#1882526): Honor Reply-To while
	generating Mail-Followup-To headers.

2004-01-04 09:59:42  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* init.h: Fix #1738; documentation issue re $from, $use_from.

2004-01-04 09:52:55  Michael Elkins  <me@sigpipe.org>  (roessler)

	* hook.c, send.c: Fix #1724, cannot use ~h pattern match with
	reply-hook.

2004-01-04 09:49:23  Vsevolod Volkov  <vvv@mutt.org.ua>  (roessler)

	* pop.h, pop_lib.c: Attached patch provides support of STLS
	(STARTTLS) command in POP3 protocol.

	* po/ru.po: update

2004-01-04 09:45:05  Brendan Cully  <brendan@kublai.com>  (roessler)

	* imap/imap.c: Fix #1703.

2004-01-04 09:42:35  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* smime.c: Fix a NULL pointer deference noted by Will Fiveash
	<william.fiveash@sun.com>.

2003-12-30 13:04:20  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* commands.c, crypt.c, mutt.h, mutt_crypt.h, smime.c: Handle
	partially signed messages more reasonably.  See #1743.

2003-12-29 11:44:35  Alain Bench  <veronatif@free.fr>  (roessler)

	* commands.c: Fix #844.

2003-12-29 11:37:41  Patrick Welche  <prlw1@newn.cam.ac.uk>  (roessler)

	* m4/gssapi.m4, mutt_sasl.c: A while ago I posted a similar
	patch which is necessary as when mutt tries to connect to an
	imap server over ipv6 it stores the address in a sockaddr which
	may not be large enough to hold the ipv6 address.

2003-12-17 17:42:02  Scott Koranda  <skoranda@gravity.phys.uwm.edu>
(roessler)

	* crypt.c: pkcs7-signature wasn't recognized properly in one
	more place.

2003-12-17 08:46:50  Michael Elkins  <me@sigpipe.org>  (roessler)

	* rfc1524.c: Fix possible core dump in mailcap nametemplate
	handling.

2003-12-10 00:48:57  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* thread.c: Avoid NULL pointer deference in threading code.

2003-12-03 08:19:11  Alain Bench  <veronatif@free.fr>  (roessler)

	* pager.c: Fix 1716.

2003-11-15 09:32:30  Velko Hristov  <hristov@informatik.hu-berlin.de>
(roessler)

	* po/bg.po: updat

2003-11-12 22:31:51  Edmund GRIMLEY EVANS  <edmundo@rano.org>  (roessler)

	* po/eo.po: update

2003-11-12 14:01:03  René Clerc  <rene@clerc.nl>  (roessler)

	* po/nl.po: update

2003-11-12 13:49:32  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* configure.in, mutt_idna.c, mutt_idna.h, mutt_socket.c: Fix
	IDN API incompatibility problems.

2003-11-12 11:47:46  duvall@emufarm.org  (roessler)

	* configure.in: Fix 1515, 1693.

2003-11-12 11:40:27  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* mh.c, sort.c: Fix dangling pointer problems in threading code.
	Noted and tracked down by q4xk3j002@sneakemail.com who also
	provided the initial fix.

2003-11-11 10:19:22  Ronny Haryanto  <ronnylist@haryan.to>  (roessler)

	* po/id.po: update

2003-11-10 18:02:26  Rudy Taraschi  <rudy@cae.com>  (roessler)

	* mutt_socket.c: Fix double-free problems related to IDN support.

2003-11-10 10:37:10  Vincent Lefevre  <vincent@vinc17.org>  (roessler)

	* po/fr.po: update

2003-11-09 21:41:28  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* mh.c: Fix #1692.

	* send.c: Commit the fix for #1509. This must have been lost
	earlier this year.

2003-11-05 20:09:36  roessler  (roessler)

	* po/ja.po, po/ko.po, po/lt.po, po/nl.po, po/pl.po, po/pt_BR.po,
	po/ru.po, po/sk.po, po/sv.po, po/tr.po, po/uk.po, po/zh_CN.po,
	po/zh_TW.po, ChangeLog, VERSION, po/bg.po, po/ca.po, po/cs.po,
	po/da.po, po/de.po, po/el.po, po/eo.po, po/es.po, po/et.po,
	po/fr.po, po/gl.po, po/hu.po, po/id.po, po/it.po: automatic
	post-release commit for mutt-1.5.5.1

2003-11-05 12:17:10  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* Makefile.am: Include regex.c and snprintf.c with the
	distribution.  Noted by Lars Hecking.

	* build-release: Ups, we don't upload the CVS any more.

2003-11-05 09:51:10  roessler  (roessler)

	* po/pl.po, po/pt_BR.po, po/ru.po, po/sk.po, po/sv.po, po/tr.po,
	po/uk.po, po/zh_CN.po, po/zh_TW.po, ChangeLog, VERSION, po/bg.po,
	po/ca.po, po/cs.po, po/da.po, po/de.po, po/el.po, po/eo.po,
	po/es.po, po/et.po, po/fr.po, po/gl.po, po/hu.po, po/id.po,
	po/it.po, po/ja.po, po/ko.po, po/lt.po, po/nl.po, reldate.h:
	automatic post-release commit for mutt-1.5.5

2003-11-05 09:27:43  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* build-release: Use gpg for signing releases.

2003-11-03 10:30:58  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* attach.c: Fix a logic flaw in attachment saving.

2003-10-08 19:55:39  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* pgpkey.c: KeyTable is pgp_uid_t **, not pgp_key_t *.	Fix some
	sizeof statements accordingly.	Note that pgp_key_t is also a
	pointer, though, so this should not have broken things.

2003-10-06 09:58:35  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* query.c: Fiy memory corruption. (# 1659)

2003-10-04 22:12:10  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* lib.c: mutt_basename() was garbage.

	* doc/manual.sgml.head: Fix some tags.	Noted by Todd
	<Freedom_Lover@pobox.com>.

	* recvattach.c, attach.h, commands.c, compose.c, keymap.h, lib.c,
	lib.h, menu.c, mutt.h, mutt_menu.h, muttlib.c, pager.c, protos.h:
	This patch fixes various aspects of the attachment-saving user
	interface.  Changes include:

	* When tagging and saving multiple attachments, you can now use
	  the same target directory for multiple attachments.

	* When you can't save an attachment, you get an opportunity to
	  enter a new file name.

	* The menu cursor will highlight the attachment that you are
	  currently discussing with mutt.

	* Various bug fixes.

	This does, in particular, address #1619 (Debian#208430).

	* menu.c: Fix #1656.

2003-09-29 16:34:32  René Clerc  <rene@clerc.nl>  (roessler)

	* doc/muttrc.man.head: Fix typo.

2003-09-29 15:05:52  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* doc/dotlock.man, doc/mutt.man, doc/muttrc.man.head: Fix #1652
	(Debian #213007), noted by Jens Seidel <tux-master@web.de>.

2003-09-20 06:24:10  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* muttbug.sh.in: Adapt to new GNU coreutils by not using head (1).

2003-09-19 13:09:59  René Clerc  <rene@clerc.nl>  (roessler)

	* po/nl.po: update

2003-09-19 13:05:13  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* imap/utf7.c: Fix remaining (void **) casts.

2003-09-19 13:03:26  Mads Martin Joergensen  <mmj@suse.de>  (roessler)

	* imap/browse.c, imap/command.c, parse.c, pgp.c, pgpkey.c,
	pop_lib.c, query.c, recvattach.c, remailer.c, rfc1524.c,
	rfc2047.c, rfc2231.c, sendlib.c, smime.c, thread.c, addrbook.c,
	browser.c, color.c, compose.c, copy.c, crypt.c, curs_lib.c,
	edit.c, enter.c, handler.c, lib.c, lib.h, mh.c, mutt_idna.c, mx.c,
	pager.c: As the ones of you who compile with new gcc's probably
	have noticed, there's a lot of type-punning in Mutt. With help
	from Philipp Thomas, I've fixed all I could find in CVS (please
	double-check, one might have slipped through the cracks), I can
	make one for 1.4 CVS branch as well if wanted.

2003-09-19 12:56:49  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* send.c: Change abort_unmodified so it doesn't abort a message
	that has an attachment.  Catches the "send a file from the
	command line, quickly" case.

2003-09-11 16:59:54  Brendan Cully  <brendan@kublai.com>  (roessler)

	* mutt_sasl.c: This trivial patch closes #1516 (NI_WITHSCOPEID
	undefined). Thanks to Mads for the initial patch.

2003-09-11 07:27:23  Velko Hristov  <hristov@informatik.hu-berlin.de>
(roessler)

	* po/bg.po: Bulgarian translation.  (Seems like I screwed up an
	earlier commit.  -tlr)

2003-09-10 13:20:49  Jon Miles	<jon@zetnet.net>  (roessler)

	* pop_auth.c: In pop_auth.c:pop_auth_sasl(), if the main loop
	received anything back from the server that didnt begin with '+
	', it was bailing out and skipping the checks to see if there
	was a +OK response.

2003-09-07 10:11:49  Im Eunjea	<eunjea@koru.org>  (roessler)

	* po/ko.po: update.

2003-09-04 15:10:09  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* init.h: Fix some formatting glitches that lead to error messages
	when viewing the muttrc(5) manual page.

2003-09-04 14:59:57  Christoph Ludwig
<cludwig@cdc.informatik.tu-darmstadt.de>  (roessler)

	* smime.c: Fix verification bug when messages are S/MIME signed
	& encrypted.

2003-09-03 17:22:09  Dan Born  <dan@danborn.net>  (roessler)

	* postpone.c: I've attached a patch for bug number 1036, as
	reported at http://bugs.guug.de/db/pa/lmutt.html ("segfault
	when more than one msg is postponed").	This is a patch against
	mutt 1.4.1.

	As it was previously left, no one could reproduce it.  The problem
	occurs because sorting is disabled when opening the postponed
	folder, but the Sort global variable still tells mutt to use
	whatever sorting algorithm the $sort config option indicates.
	Eventually, the code would get to mutt_messages_in_thread and
	try to dereference a NULL thread object, causing the segfault.

2003-09-03 17:20:56  Pawel Dziekonski  <dzieko@pwr.wroc.pl>  (roessler)

	* po/pl.po: update.

2003-09-03 17:15:20  TAKAHASHI Tamotsu	<ttakah@lapis.plala.or.jp>
(roessler)

	* po/ja.po: New ja.po.

2003-09-03 17:12:52  Velko Hristov  <hristov@informatik.hu-berlin.de>
(roessler)

	* configure.in: Bulgarian translation.

2003-09-03 17:10:37  Brendan Cully  <brendan@kublai.com>  (roessler)

	* mutt_ssl.c: Fix a segmentation fault which occurs
	when a certificate is rejected.  Bug noted by Rob Latham
	<rob@terizla.org>.

2003-09-03 17:09:09  Anatoly Vorobey  <mellon@pobox.com>  (roessler)

	* curs_main.c: The commands "read-thread" (^R) and
	"read-subthread" (Esc-R) do not honor the resolve variable (don't
	advance cursor after marking the thread/subthread as read),
	which, to me at least, is a nuisance.

2003-08-11 14:06:08  Brendan Cully  <brendan@kublai.com>  (roessler)

	* imap/imap.c: 1595: My guess is this bug is caused by
	mlarson@verisign.com's patch to check for UNSEEN rather than
	RECENT messages. This means that as long as there are messages
	in a mailbox either new or old, mutt will think it has new mail.

	The attached patch reverts that change. Let me know if it solves
	the problem.

2003-08-11 14:05:13  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* doc/muttrc.man.head: Fix a formatting bug.

2003-08-05 13:55:47  Brendan Cully  <brendan@kublai.com>  (roessler)

	* attach.c, buffy.c, commands.c, copy.c, editmsg.c, init.c,
	mbox.c, mx.c, mx.h, sendlib.c: This patch removes the Kendra
	format from mutt.  (The support was broken anyways.)

2003-08-02 11:01:09  Horvath Szabolcs  <horvaths@fi.inf.elte.hu>
(roessler)

	* po/hu.po: update

2003-07-29 10:11:05  Edmund GRIMLEY EVANS  <edmundo@rano.org>  (roessler)

	* pager.c: It seems that Solaris has an incorrect implementation
	of mbrtowc: when there is an encoding error and mbrtowc returns
	(size_t)(-1) no value should be stored in *pwc (the first
	argument), as I understand it, but here mbrtowc is storing 8
	when presented with the bytes "\xc8\x4d".

	However, relying on mbrtowc not to store anything in *pwc when
	there is an error is a bit silly; it makes sense to look at
	the return value. So, the following patch should be applied if
	Pawel can confirm that it fixes the problem. I've tested it and
	it worked for me with glibc's mbrtowc.

2003-07-24 18:40:50  Vincent Lefevre  <vincent@vinc17.org>  (roessler)

	* alias.c, copy.c, handler.c, imap/command.c, imap/imap.c,
	imap/message.c, imap/util.c, init.c, intl/l10nflist.c,
	intl/loadmsgcat.c, intl/localealias.c, keymap.c, lib.c,
	makedoc.c, muttlib.c, pattern.c, rfc2047.c, rfc2231.c, rfc822.c,
	strcasecmp.c, url.c: Some functions/macros like isspace take an
	int and require the argument to have the value of an unsigned char
	(or EOF). Under Solaris, gcc complains when the argument is a char
	(as this is a possible bug, on platforms where char is signed,
	like Solaris). The attached patch fixes such problems (well,
	perhaps I've changed more than necessary, but this doesn't hurt).

2003-07-22 12:56:38  dshaw@jabberwocky.com  (roessler)

	* gnupgparse.c: When encrypting a message to a user that has more
	than one subkey, at least one of which is revoked or expired,
	mutt treats the entire key as unusable rather than just the
	subkey(s) in question.

2003-07-16 11:18:12  Brendan Cully  <brendan@kublai.com>  (roessler)

	* account.c, account.h, imap/auth_sasl.c, imap/imap.c: I noticed
	that my mutt hung when I tried SASL DIGEST-MD5 authentication
	(I'm not sure when this started). I believe this patch should
	solve that problem in a reliable way.

	This patch also attempts to reuse connections even when
	authentication fails, instead of just throwing away a perfectly
	good socket.

	* curs_lib.c, enter.c, keymap.c, keymap.h, mutt.h, mutt_curses.h,
	mutt_ssl.c: This patch redoes yesterday's unbuffered input
	patch. Now it uses a pseudo-option, which means less mess to carry
	down the call stack.  It also made it much easier to have the SSL
	certificate menu be unbuffered, which it is now. So push commands
	won't annoy you when entering passwords or accepting certificates.

2003-07-15 11:41:32  Brendan Cully  <brendan@kublai.com>  (roessler)

	* curs_main.c, globals.h, imap/command.c, imap/imap.c,
	imap/imap.h, imap/imap_private.h, imap/util.c, mx.c: The attached
	patch should keep all opened IMAP connections alive, no matter
	what mailbox you are currently in. With the patch that got
	committed yesterday, this should close bug 1523.

	(There was a typo in that patch. This one supersedes it.)

	* configure.in, .cvsignore: autoconf 2.5 compatibility.

2003-07-14 12:40:03  Hugo Haas	<hugo@larve.net>  (roessler)

	* send.c: Fix #1520.

2003-07-14 12:20:27  Pawel Dziekonski  <dzieko@pwr.wroc.pl>  (roessler)

	* po/pl.po: small fix.

2003-07-14 12:19:07  Brendan Cully  <brendan@kublai.com>  (roessler)

	* imap/command.c, imap/imap.c: On Sunday, 13 July 2003 at 18:09,
	Brendan Cully wrote:

	> The attached patch should help when the connection to your
	postponed > folder times out and you can't reconnect without
	restarting mutt. I'd > like anyone who has that problem to try
	it and let me know how it > works.

	I dug a little deeper. The attached patch seems to work better. It
	complains the first time you try to recall a message, but works
	the second.

	* account.c, curs_lib.c, enter.c, keymap.c, keymap.h, mutt.h,
	mutt_curses.h: The attached patch prevents mutt from reading the
	push buffer when asking for passwords. This is a proper fix for
	bug 1312. I think it's uncontroversial.

2003-07-04 17:15:34  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* imap/auth_sasl.c: Increase a buffer's size.

2003-07-04 17:07:22  Nicolas Rachinsky	<nr@rachinsky.de>  (roessler)

	* OPS, curs_lib.c, curs_main.c, functions.h, menu.c: Introduce
	tag-prefix-cond and end-cond.  This makes simple conditional
	execution of parts of macros possible.

2003-07-04 17:03:51  Bruno Postle  <bruno@postle.net>  (roessler)

	* curs_main.c, pattern.c: Display an empty index when no messages
	match search criteria.

2003-07-04 16:57:56  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* init.h, muttlib.c: Add a ':' flag to % expandos.  This will
	make sure that any dots are converted into underscores.  (_
	is already used for lowercasing the result of an expando.)

2003-06-04 14:01:39  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* muttlib.c: Don't colorize empty lines generated with
	state_attach_puts();

2003-05-29 17:48:28  David Shaw  <dshaw@jabberwocky.com>  (roessler)

	* imap/imap.c, pgp.c, po/eo.po, po/id.po: Fix part of #1564.

2003-05-29 17:47:10  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* init.c: Fix a segmentation fault which would occur when
	pgp_sort_keys is set in a configuration file, but mutt is compiled
	without PGP support.

	* gnupgparse.c: Fix PGP subkey handling when looking at key
	capabilities.  This should take care of the recent "mutt does
	not see all keys" problems.

2003-05-13 13:06:16  Dale Woolridge  <dale-list-mutt-dev-2@woolridge.org>
(roessler)

	* crypt.c: Fix gpg-agent use.

2003-05-13 12:53:20  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* doc/manual.sgml.head: Remove useless examples about treating
	text/enriched externally.  #1549; Debian #190309.

2003-05-13 12:50:04  Juan Altmayer Pizzorno  <juan@altmayer.com>
(roessler)

	* recvattach.c: view-attachments does not extract the message
	within a x-pkcs7-mime if it's only signed, but not encrypted.
	Such a message results, for example, from a decrypt-save if the
	message was previously encrypted and signed.

2003-05-13 12:45:35  Thomas Glanzmann  <sithglan@stud.uni-erlangen.de>
(roessler)

	* doc/manual.sgml.head: Fix an inconsistency between manual
	and code.

2003-05-13 12:43:45  David Shaw  <dshaw@jabberwocky.com>  (roessler)

	* gnupgparse.c, pgppubring.c: Currently, mutt uses the OpenPGP key
	algorithm to determine the capabilities of the key.  For example,
	in mutt, a key of type 1 (RSA) can both encrypt & sign.  This is
	not correct as per OpenPGP, however, where the capabilities of
	the key are determined by both the algorithm and key capability
	flags that are set on the key.	This can lead to user confusion
	when their RSA encrypt-only or sign-only key is listed for both
	signing and encryption in mutt.

	GnuPG lists these flags in key listings, so it is easy to take
	advantage of them.  Here is a patch to use the flags, as well
	as provide the flags in pgpring.  Note that the pgp+pgpring
	users won't see any change since the flags there are based on
	the key algorithm as they are now, but the GnuPG users will see
	an improvement.

2003-05-12 16:21:26  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* enter.c: Fix alias completion when the alias is entered as
	part of a group.  (E.g., The Tea Party: alias1, alias2, alias3;)

2003-05-03 20:07:40  Dan Nelson  <dnelson@allantgroup.com>  (roessler)

	* mutt.h, muttlib.c: Fix #1558.  (mutt_expand_fmt rewrite;
	OPT_MAX wasn't maximal.)

2003-04-15 13:17:05  René Clerc  <rene@clerc.nl>  (roessler)

	* compose.c: Fix two more cases in which ctrl-G is interpreted
	as M_YES.

2003-04-15 09:52:06  Dale Woolridge  <dale-flea-mutt-bug@woolridge.org>
(roessler)

	* compose.c: The "sign (a)s" code strips the pgp application
	bit causing drawing issues in redraw_crypt_lines().  Other bits
	(well bit = encrypt) are ignored as a result.  I've only tested
	with pgp, but the same problem exists in the smime code too.
	This inline patch (against cvs head revision) fixes the problem.

2003-04-14 09:09:53  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* init.h, mutt.h, send.c: Fix the PGP / S/MIME selection mess
	in send.c.  This patch adds two new configuration variables,
	$crypt_autopgp and $crypt_autsmime.  Both are set to "yes"
	by default.  By turning them off, you can disable the automatic
	selection of one or both mechanisms.  (Useful when your mutt is
	PGP- and S/MIME enabled, but you only use, say S/MIME.)

2003-04-11 15:15:04  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* send.c: Backing out the previous change. It was nonsense.

2003-04-11 11:56:58  Lars Hecking  <lhecking@nmrc.ucc.ie>  (roessler)

	* config.guess, config.sub, depcomp, install-sh, missing,
	mkinstalldirs: updates.

2003-04-11 11:56:22  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* send.c: Try to fix a PGP / S/MIME-related problem.  Found by
	Matt Larson <mlarson@verisign.com>, tracekd down by René Clerc
	<rene@clerc.nl>.

	* thread.c: Fix a segmentation fault.

2003-04-09 08:21:59  Zardoz@users.sourceforge.net  (roessler)

	* recvcmd.c: Fix #1531.  (recvcmd.c duplicate of #1528)

2003-04-08 22:32:56  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* lib.c: Avoid a division by zero.

	* color.c: Make sure has_colors() is only invoked when OPTNOCURSES
	is unset.  This fixes a segmentation fault on RH 8.0 which was
	observed by Matt Larson <mlarson@verisign.com>.

	* browser.c, enter.c, imap/imap.c, lib.c, mutt_idna.c, mx.c,
	sendlib.c, smime.c, thread.c: Try to catch a couple of cases
	in which parameters for malloc calls could overflow.  Thanks to
	Timo Sirainen for the heads-up.

	* po/es.po: Mark a translation as fuzzy in order to fix #1522.

2003-04-07 20:08:10  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* commands.c: Fix #1528.

2003-04-07 07:57:49  René Clerc  <rene@clerc.nl>  (roessler)

	* po/nl.po: update

2003-04-06 11:00:59  Ivan Vilata i Balaguer  <ivan@selidor.net>
(roessler)

	* po/ca.po: update

2003-04-02 09:05:19  Bjoern Jacke  <muttbug@j3e.de>  (roessler)

	* smime_keys.pl: - add a missing filehandle closure - some
	cleanups of unused/bogous code

2003-04-02 08:47:28  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* contrib/Makefile.in, contrib/colors.default,
	contrib/colors.linux: sample.muttrc-tlr would try to include
	my color configurations, which weren't distrubted.  Fix that.
	(Bug noted while helping someone else to configure mutt during
	a conference.)

	* contrib/sample.muttrc: Fix sample.muttrc.

2003-04-02 08:40:50  Gary Johnson  <garyjohn@spk.agilent.com>  (roessler)

	* curs_main.c: Here is the patch to fix the bug I reported
	earlier in this thread, that sometimes when changing folders,
	mutt would generate an error message and stop the further
	processing of folder-hooks.

2003-04-02 08:38:13  Vincent Lefevre  <vincent@vinc17.org>  (roessler)

	* po/fr.po: update

2003-04-02 08:34:49  TAKAHASHI Tamotsu	<ttakah@lapis.plala.or.jp>
(roessler)

	* po/ja.po: update

2003-04-02 08:31:00  Roland Rosenfeld  <roland@spinnaker.de>  (roessler)

	* po/de.po: update

2003-04-02 08:28:24  David Shaw  <dshaw@jabberwocky.com>  (roessler)

	* init.h, mutt.h, pgp.c: Here is the pgp_check_exit patch
	updated for 1.5.4.  This patch adds the pgp_check_exit option
	(enabled by default) that causes mutt to check the exit code
	of the PGP subprocess.	A non-zero exit code means that the
	subprocess failed and mutt will not continue to send the message.

	This is needed as in certain cases, PGP or GnuPG can fail to
	completely process a document (say, if the gpg.conf file is
	mangled, which is how I discovered the problem).  Without an
	exit code check, mutt will continue anyway and send the half
	processed file.

2003-04-02 08:21:09  Vsevolod Volkov  <vvv@mutt.org.ua>  (roessler)

	* po/ru.po: update.

2003-03-19 22:43:08  roessler  (roessler)

	* po/pl.po, po/pt_BR.po, po/ru.po, po/sk.po, po/sv.po, po/tr.po,
	po/uk.po, po/zh_CN.po, po/zh_TW.po, po/et.po, po/fr.po, po/gl.po,
	po/hu.po, po/id.po, po/it.po, po/ja.po, po/ko.po, po/lt.po,
	po/nl.po, ChangeLog, Makefile.am, VERSION, po/Makefile.in.in,
	po/ca.po, po/cs.po, po/da.po, po/de.po, po/el.po, po/eo.po,
	po/es.po, reldate.h: automatic post-release commit for mutt-1.5.4

	* po/tr.po, po/uk.po, po/zh_CN.po, po/zh_TW.po, po/sk.po,
	po/sv.po, po/pl.po, po/pt_BR.po, po/ru.po, po/ja.po, po/ko.po,
	po/lt.po, po/nl.po, po/gl.po, po/hu.po, po/id.po, po/it.po,
	po/et.po, po/fr.po, po/da.po, po/de.po, po/el.po, po/eo.po,
	po/es.po, VERSION, po/bg.po, po/ca.po, po/cs.po, reldate.h,
	ChangeLog: automatic post-release commit for mutt-1.4.1

2003-03-19 21:56:29  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* pgppubring.c: Fix some memory management calls. (Stable branch.)

2003-03-19 21:33:30  Edmund GRIMLEY EVANS  <edmundo@rano.org>  (roessler)

	* imap/utf7.c: Fix a buffer overflow in utf8_to_utf7. (Stable
	branch.)

	* imap/utf7.c: Fix a buffer overflow in utf8_to_utf7.

2003-03-18 14:51:52  Andrew W. Nosenko	<awn@bcs.zp.ua>  (roessler)

	* buffy.c, parse.c: - buffy.c (test_last_status_new): Fix memory
	  leak.  Envelope structure allocated by mutt_read_rfc822_header()
	  was never deallocated.

	- parse.c (mutt_read_rfc822_header): Comment added about
	  needing deallocate envelope structure returned by
	  mutt_read_rfc822_header().

	* mutt_idna.c: (mutt_addr_for_display): Fix memory leak.  `user'
	and `domain' buffers was never deallocated.

	(mbox_to_udomain): Fix memory leak.  `scratch' buffer was not
	deallocated when `mbx' doesn't contain '@'. Also rewritten for
	allocating memory only when needed and only how many as needed.

2003-03-12 13:00:03  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* copy.c, sendlib.c: We need to re-format address headers instead
	of just decoding them.

2003-03-07 14:55:53  Brendan Cully  <brendan@kublai.com>  (roessler)

	* mutt_sasl.c: The global callbacks set up in sasl_client_init
	are not copied by the SASL library, so they can't be allocated
	on the stack. This is the case with both versions of the SASL
	library, and I frankly don't understand why it hasn't caused
	problems before. Since it segfaults reliably on OS X for me now,
	I thought a patch would be in order.

2003-03-07 08:23:27  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* crypt.c, pgp.h: Don't use functions without importing the
	corresponding prototype.

	* mutt_idna.c: It seems like libidn doesn't like to translate
	NULL pointers.

2003-03-07 07:52:49  Jim Mock  <mij@soupnazi.org>  (roessler)

	* globals.h: globals.h is looking for crypt.h instead of
	mutt_crypt.h.

2003-03-06 21:23:53  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* send.c: Fixing a segmentation fault.	Here's how to reproduce
	it: Start mutt.  Compose a new message, with an attachment.
	Turn on PGP signing.  Press C-G on the pass phrase prompt.
	Turn off PGP signing.  Try to send the message.

2003-03-05 21:18:24  Andrew W. Nosenko	<awn@bcs.zp.ua>  (roessler)

	* protos.h, sort.c: Fix a warning.

	* mutt_idna.c: Fix tlr's pre-processor screw-up.

2003-03-04 09:51:07  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* mutt_idna.c, mutt_socket.c: Unset UseSTD3ASCIIRules, and set
	AllowUnassigned.  (Just reading some standards.)

2003-03-04 09:31:19  Edmund GRIMLEY EVANS  <edmundo@rano.org>  (roessler)

	* handler.c: Be more friendly about bad multipart/alternative
	bodies; #1478. Note that the relevant standards explicitly
	*forbid* nested MIME encodings.

2003-03-04 09:27:21  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* copy.c: Fix another stupid error, and decode IDNs in the
	CC header.

	* init.h: Fix two typos in one line.  Noted by Thomas Glanzmann
	and Steve Kennedy.

	* addrbook.c, alias.c, send.c: Fixing more IDN bugs.

2003-03-03 14:25:14  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* copy.c, sort.c: Fixing some nits.

	* mutt_socket.c: IDNA support for the socket back-end.

	* Makefile.am, addrbook.c, alias.c, charset.h, commands.c,
	compose.c, configure.in, copy.c, edit.c, hdrline.c, headers.c,
	init.c, main.c, mutt_idna.c, mutt_idna.h, pgpinvoke.c,
	protos.h, query.c, recvcmd.c, rfc822.c, rfc822.h, send.c,
	sendlib.c: IDN support for e-mail messages.  Things should work
	automagically once you have the GNU IDN library available from
	ftp://alpha.gnu.org/pub/gnu/libidn/ installed.	For IDN's which
	can't be losslessly recoded to your local character set, mutt
	should automatically fall back to using the ASCII representation.
	There's probably a considerable number of bugs in this, and the
	code may, at this point, not even compile on machines without
	libidn.  Will start working on that ASAP.

	* contrib/sample.muttrc, doc/manual.sgml.head, recvcmd.c,
	commands.c, init.h, mutt.h: Introduce a new option named
	$bounce, and fix some inconsistencies in the messages created
	when bouncing.	Based on work done by Thomas Glanzmann
	<sithglan@stud.uni-erlangen.de>.

2003-02-25 22:00:38  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* commands.c, recvcmd.c: Fix some (too lazy and tired to do all)
	of the inconsistencies between message and attachment bouncing.

	* crypt.c: I should test-compile things before committing.
	Stupid typo.

2003-02-25 21:41:32  Michael Elkins  <me@sigpipe.org>  (roessler)

	* query.c: Use mutt_strwidth for query response formatting.
	(#1477)

2003-02-25 21:37:59  Christian Vogel  <vogelchr@vogel.cx>  (roessler)

	* mx.c: Recognize MH folders used by sylpheed.

2003-02-25 21:35:24  jesus.climent@hispalinux.es  (roessler)

	* po/es.po: Fix a typo. (#1482)

2003-02-25 21:33:16  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* doc/manual.sgml.head: Remove some ftp.guug.de URLs from the
	manual. (#1485)

	* crypt.c: Fix #1486; noted by Jeroen Coekaerts
	<jeroen@coekaerts.be>.

2003-02-19 21:33:43  David Shaw  <dshaw@jabberwocky.com>  (roessler)

	* pgpmicalg.c: 3156 defined several micalg values (pgp-md5,
	pgp-sha1, etc.)  Since then, three more hashes have been assigned
	numbers in 2440bis.  Here is a patch to add values for pgp-sha256,
	pgp-sha384, and pgp-sha512 so mutt can properly handle them.

2003-02-19 21:31:19  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* parse.c: Fix a memory leak observed by Vineet Kumar
	<mutt-dev@virtual.doorstop.net>.

2003-02-13 09:55:02  David Shaw  <dshaw@jabberwocky.com>  (roessler)

	* init.h: Here are some updates to the muttrc docs (spell check,
	language tweaks, etc).	No functional changes - this is just
	language stuff.

2003-02-13 09:50:00  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* pgp.c: Fix #1444, Debian #178563.  The details of this problem
	were tracked down by Steven Barker <steve@blckknght.org>.

2003-01-31 00:15:03  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* init.h: Change the default for crypt_replyencrypt back to "yes".
	Noted by Thomas Poindessous in Debian bug #178899; also #1448.

	* pgp.c: Fix #1442 (thanks, Dale); properly initialize some
	pointers which could otherwise lead to crashes.

2003-01-30 23:54:30  David Shaw  <dshaw@jabberwocky.com>  (roessler)

	* crypt.c, init.h, mutt.h, mutt_crypt.h, send.c: Introduce
	$pgp_auto_traditional.

2003-01-30 23:48:36  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* flags.c: The IMAP ACL patch broke things.

2003-01-23 22:05:02  Nathan Dushman  <nhd+mutt@andrew.cmu.edu>	(roessler)

	* pop_auth.c: SASL2 support for popo_auth.c.

	* curs_main.c, flags.c, imap/imap.c, pager.c: The attached
	patch provides improved support for IMAP ACLs (on servers that
	support them).	This means that mutt will now write the Seen
	flag in mailboxes that allow it, even if the mailbox doesn't
	allow other changes.

2003-01-23 22:01:03  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* handler.c: Automatically use the text/plain handler for text/*
	body parts which don't have a handler of their own.

2003-01-21 18:56:10  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* cryptglue.c: Fix a typo which broke pgp-extract-traditional.

	* mutt_crypt.h: Fix an #ifdef.

2003-01-21 12:33:41  Werner Koch  <wk@gnupg.org>  (roessler)

	* Makefile.am, acconfig.h, attach.c, commands.c, compose.c,
	 configure.in, copy.c, copy.h, crypt.c, cryptglue.c, curs_main.c,
	 functions.h, globals.h, gnupgparse.c, handler.c, hdrline.c,
	 headers.c, hook.c, init.c, init.h, keymap.c, keymap.h,
	 main.c, mutt.h, mutt_crypt.h, muttlib.c, mx.c, pager.c,
	 parse.c, pattern.c, pgp.c, pgp.h, pgpkey.c, pgplib.c, pgplib.h,
	 pgppubring.c, pop.c, postpone.c, protos.h, recvattach.c, send.c,
	 sendlib.c, smime.c, smime.h, sort.h:  - To cleanup the pgp/smime
	 code and prepare for other backends.  - Support gpg-agent by
	 not asking for a passphrase - autconf cleanups.

	This is just a start and probably we need a couple of other things
	to do. One drawback is that the help menu does always list all
	crypto realted stuff even when configured for no crypto at all.
	Same goes for the configure options but I consider thsi a feature:
	It allows to use the same .muttrc for different versions of mutt -
	at least during development, this is an advantage.  This all might
	be fixed but requires some changes to the configuration system.

	Note, the use of the WithCrypto macro - it enables the compiler
	to do dead-code-elimination depending on the configured backend.
	This is better readable than all the nested ifdefs.  I did some
	short tests and it seems to work, althoug mutt's size does not
	change largely when compiled w/o crypto.

	cryptglue.c is new as a warpper to all crypto calls; some are
	still in crypt.c but they should eventually also be wrapped.
	We don't use function pointers to keep a path to use dlopen or
	runtime configured backends.  crypt.h is also new and replaces
	pgp.h and smime.h in most files (except for the backend).



	2003-01-06  Werner Koch  <wk@gnupg.org>

		* crypt.c (crypt_valid_passphrase): Detect gpg-agent and
		don't ask for the passphrase.  * pgp.c (pgp_decrypt_part,
		pgp_application_pgp_handler) (pgp_sign_message,
		pgp_encrypt_message) (pgp_traditional_encryptsign):
		Make sure that we never ever send the passphrase if the
		gpg-agent has been detected.  Likewise.

		* acconfig.h: Removed all remaining stuff as AC_TEMPLATEs
		to configure.in. BTW, we should consider to rename
		configure.in to configure.ac.

	2003-01-04  Werner Koch  <wk@gnupg.org>

		Replaced the use of HAVE_PGP and HAVE_SMIME by a more
		readable and extendable solution.

		* pgplib.h: Moved enum pgp_ring and KEYFLAGS_* to *
		crypt.h: here.	* smime.c (mutt_is_application_smime):
		Moved to * crypt.c (mutt_is_application_smime):
		here.  * pgp.c (mutt_is_application_pgp): Moved to
		* crypt.c (mutt_is_application_pgp): here.  * pgp.c
		(pgp_is_multipart_encrypted): Removed. Merged code with *
		crypt.c (mutt_is_multipart_encrypted): this.

		* mutt.h: Protect against double inclusion.

		* pgplib.h (struct pgp_keyinfo): Remove the typedef to
		pgp_key_t.  * crypt.h (pgp_key_t): Declare the typedef
		here.  NOTE:  This is now a pointer.  Changed all usages
		accordingly.

		* configure.in: Replace HAVE_PGP and HAVE_SMIME by the
		new CRYPT_BACKEND macros.  Always include all OPS.*.
		(LIBOBJ): Replaced by AC_LIBOBJ as required by newer
		autoconfs.  * Makefile.am (EXTRA_mutt_SOURCES): Move
		crypt.c to mutt_SOURCES.  (mutt_SOURCES): Add cryptglue.c
		(EXTRA_DIST): Add crypt.h

		* pgp.h, pgplib.h, smime.h: Use the header only
		when the approriate backend has been configured.  *
		pgp.c, pgpkey.c, smime.c: Build only if the approriate
		CRYPT_BACKEND_ macro is defined.  * pgp.h, smime.h,
		global.h: Moved all variable declarations to global.h
		because they are now always defined.

		* sort.h: Always define PgpSortKey, although it does
		not belong to here.

		* keymap.h: Unconditionally include all PGP and SMIME
		stuff.	* mutt.h: Ditto.  * protos.h: Ditto.

		* init.h (HAVE_SMIME): Unconditionally include all
		crypto related definitions.  Mark the doc entries with
		"(Crypto/PGP/SMIME only)".

		* globals.h: Replace gpg.h and smime.h by crypt.h.

		* functions.h: Always include all crypto commands.

		* copy.h: Unconditionally define the crypto related M_CM_

		* pgplib.h: Move APPLICATION_PGP and PGP* to crypt.h
		and include it.  * smime.h: Move APPLICATION_SMIME
		and SMIME* to crypt.h and include it.  * mutt_crypt.h
		(ENCRYPT,SIGN,GOODSIGN, BADSIGN): Move to crypt.h.

		* crypt.c: Replaced pgp.h and smime.h header by crypt.h.
		Always include all functions but shortcut them depending
		on WITHCRYPTO.	All over the place use WITHCRYPTO
		instead of ifdefs.  Replaced all direct calls of the
		backend fucntions by twrapper functions defined in
		cryptglue.c (crypt_get_keys): Removed prototypes.
		* pgp.h (pgp_findKeys): New prototype.	* smime.h
		(smime_findKeys): New prototype.  * cryptglue.c: New.
		* crypt.h: New.  * mutt_crypt.h: Moved all crypt_*
		prototypes to gcrypt.h.  Unconditionally use this file.

		* init.c: Replaced pgp.h and smime.h header by crypt.h.
		(parse_set): Use WITHCRYPTO instead of ifdefs.
		(mutt_var_value_complete): Ditto.

		* sendlib.c: Replaced pgp.h and smime.h header by crypt.h.
		(write_as_text_part): Now one macro using WITHCRYPTO.
		(mutt_write_mime_body): Use WITHCRYPTO instead of ifdefs.
		(mutt_make_message_attach): Ditto.  (mutt_write_fcc):
		Ditto.

		* send.c: Replaced pgp.h and smime.h header by crypt.h.
		(include_forward): Use WITHCRYPTO and validate
		passphrases for pgp and smime.	(include_reply): Ditto.
		(generate_body): Use WITHCRYPTO instead of ifdefs.
		(ci_send_message): Ditto.

		* recvattach.c: Replaced pgp.h and smime.h header
		by crypt.h.  (mutt_gen_attach_list): Use WITHCRYPTO
		instead of ifdefs.  (mutt_attach_display_loop): Ditto
		(mutt_view_attachments): Ditto.

		* postpone.c: Replaced pgp.h and smime.h header by
		crypt.h.  (mutt_get_postponed): Use WITHCRYPTO instead
		of ifdefs.  (mutt_parse_crypt_hdr): Always include and use
		WITHCRYPTO instead of ifdefs.  (mutt_prepare_template):
		Use WITHCRYPTO instead of ifdefs.

		* pop.c: Removed pgp.h and smime.h.  (pop_fetch_message):
		Use WITHCRYPTO instead of ifdefs.

		* pattern.c: Replaced pgp.h and smime.h header by crypt.h.
		(Flags): Always include the crypto flags.  (msg_search):
		Use WITHCRYPTO instead of ifdefs.  (mutt_pattern_exec):
		Ditto.

		* parse.c: Removed pgp.h and smime.h.
		(mutt_parse_mime_message): Use WITHCRYPTO instead
		of ifdefs.

		* pager.c: Replaced pgp.h and smime.h header by crypt.h.
		(mutt_pager): Use WITHCRYPTO instead of ifdefs.

		* mx.c: Removed smime.h and pgp.h.  (mx_update_context):
		Use WITHCRYPTO instead of ifdefs.

		* muttlib.c: Replaced pgp.h and smime.h header by crypt.h.
		(mutt_needs_mailcap): Use WITHCRYPTO. Note, that there
		used to be an error when PGP was not configured so
		that TYPEAPPLICATION was not recognized for SMIME.
		(mutt_is_text_part): Use WITHCRYPTO instead of ifdefs.

		* main.c: Include crypt.h.  (show_version): Remove
		HAVE_PGP and HAVE_SMIME.  Add CRYPT_BACKEND_CLASSIC_PGP,
		CRYPT_BACKEND_CLASSIC_SMIME.

		* keymap.c: Include crypt.h so that we can test
		WITHCRYPTO.  (Menus): Always include pgp and smime.
		(km_init): Create smime and pgp bindings depending
		on WITHCRYPTO.	(km_get_table): Return OpPgp depending
		on WITHCRYPTO.

		* hook.c (mutt_parse_hook): Use WITHCRYPTO instead
		of ifdefs.  (mutt_crypt_hook): Always include.

		* headers.c: Replaced pgp.h and smime.h header by crypt.h.
		(mutt_edit_headers): Use WITHCRYPTO instead of ifdefs

		* hdrline.c: Replaced pgp.h and smime.h header by crypt.h.
		(hdr_format_str): Use WITHCRYPTO.

		* handler.c: Replaced pgp.h and smime.h header by crypt.h.
		(mutt_can_decode): Use WITHCRYPTO instead of ifdefs.
		(mutt_can_decode): Application/smime is now also checked
		when PGP support is not configured.  (mutt_body_handler):
		Use WITHCRYPTO

		* curs_main.c: Replaced pgp.h and smime.h header
		by crypt.h.  (mutt_index_menu): Shortcut crypto only
		operations depending on WITHCRYPTO.

		* copy.c: Replaced pgp.h and smime.h header by crypt.h.
		(_mutt_copy_message):

		* compose.c: Replaced pgp.h and smime.h header by crypt.h.
		(enum): Always include HDR_CRYPT and HDR_CRYPTINFO.
		(redraw_crypt_lines): Always include this fnc but shortcut
		it depending on WITHCRYPT.  Draw lines depending on
		the configured crypto support.	(pgp_send_menu):
		Always include this one.  Call wrapper functions.
		(smime_send_menu): Likewise.  (draw_envelope): Use
		WITHCRYPTO instead of ifdefs.  (mutt_compose_menu):
		Allow pgp/smime commands only when configured.

		* commands.c: Replaced pgp.h and smime.h header
		by crypt.h.  (mutt_display_message,pipe_msg,
		_mutt_pipe_message) (set_copy_flags, mutt_save_message,
		mutt_edit_content_type) (_mutt_check_traditional_pgp):
		Use pgp wrapper.

		* attach.c (mutt_view_attachment): Removed HAVE_GPG and
		HAVE_SMIME and replaced by global variable WITHCRYPTO.
		Replaced pgp and smime header by crypt.h.x

2003-01-09 17:27:25  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* pgppubring.c: Don't make a "hard" transition to the new GnuPG
	syntax in pgpring.  This change undoes one of David Shaw's
	changes which were just committed.

2003-01-09 17:24:41  David Shaw  <dshaw@jabberwocky.com>  (roessler)

	* gnupgparse.c, pgppubring.c: The latest GnuPG has new abilities
	to work with disabled keys.  Part of this change will eventually
	involve moving the 'd' that indicates a disabled key to a
	different part of the key listing.

	To smooth this transition, as of version 1.2.2, GnuPG will
	start giving the 'd' in both places (and will do this for a good
	long time).

	Here is a patch so mutt will accept either the old or new syntax.

2003-01-09 17:23:23  dshaw@jabberwocky.com  (roessler)

	* curs_lib.c: A recent change causes all mutt_yesorno prompts
	to come out as [yes]/yes or [no]/no.  Here's a fix.

2003-01-05 22:16:02  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* smime_keys.pl: Error checking for the creation of the temporary
	directory; also, use file mode 0700.

2003-01-05 22:08:25  Bjoern Jacke  <bjoern@j3e.de>  (roessler)

	* smime_keys.pl: Improve temporary file handling.

2003-01-05 22:02:37  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* commands.c: Another mutt_yesorno() change, in order to correctly
	interpret a C-g.

2003-01-05 22:00:00  Armin Wolfermann  <aw@osn.de>  (roessler)

	* recvcmd.c, send.c, alias.c, attach.c, commands.c, curs_lib.c,
	main.c, muttlib.c, mx.c, pgpkey.c: Fix a number of invocations
	of mutt_yesorno(): Always explicitly use the M_YES and M_NO
	constants.  Fixes a couple of cases in which C-g would be
	mis-interpreted.

2003-01-03 18:07:36  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* pgp.c: Detect in-line key material when checking for traditional
	PGP messages.

2002-12-22 20:04:51  René Clerc  <rene@clerc.nl>  (roessler)

	* po/nl.po: update

2002-12-22 20:01:32  Bjoern Jacke  <bjoern@j3e.de>  (roessler)

	* smime_keys.pl: Remove an unnecessary invocation of "cat";
	call openssl with the full path.

2002-12-22 11:20:00  Vincent Lefevre  <vincent@vinc17.org>  (roessler)

	* po/fr.po: Another fr.po update for the CVS (taking into account
	the change in pgpkey.c:486)...

2002-12-22 11:17:24  Martin Michlmayr  <tbm@cyrius.com>  (roessler)

	* hdrline.c, init.h: Add %A to the format strings, which expands
	to the reply-to address (if present) or to the author's address
	when there's no Reply-To header.

2002-12-21 20:32:13  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* ChangeLog: ok, gotos suck.

	* curs_main.c: OK, Michael is right: Gotos suck. ;-)

2002-12-21 13:25:11  Vsevolod Volkov  <vvv@mutt.org.ua>  (roessler)

	* po/ru.po: update

2002-12-20 09:37:59  David Shaw  <dshaw@jabberwocky.com>  (roessler)

	* pgpkey.c: Minor tweak to an error message.

2002-12-20 09:29:12  Pawel Dziekonski  <dzieko@pwr.wroc.pl>  (roessler)

	* po/pl.po: update

2002-12-19 11:48:58  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* doc/manual.sgml.head, doc/muttrc.man.head: Improve the
	documentation of pgp-hook/crypt-hook.

	* pgpkey.c: Don't bother the user with weak keys when there's
	a strong one.  Experimental, based on discussions on mutt-dev.

	* cvslog2changelog.pl: Identify both the author of a change and
	the one who committed it to the CVS in the changelog.

2002-12-19 07:42:36  Vincent Lefevre  <vincent@vinc17.org>  (roessler)

	* po/fr.po: update

2002-12-19 07:37:01  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* Makefile.am: Michael doesn't have $VISUAL set.

2002-12-18 17:29:56  Sahil Tandon  <sahil@brandeis.edu>  (me)

	* init.h:	I found a small typo in the manual, specifically
		at this[1] URL.  The description of the smart_wrap
		variable reads: "Controls the display of lines longer
		then the screen width in the internal pager."  The word
		_then_ should be _than_ if I'm not mistaken.

2002-12-18 10:26:35  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* po/ja.po, po/ko.po, po/lt.po, po/nl.po, po/pl.po, po/pt_BR.po,
	po/ru.po, po/sk.po, po/sv.po, po/tr.po, po/uk.po, po/zh_CN.po,
	po/zh_TW.po, po/ca.po, po/cs.po, po/da.po, po/de.po, po/el.po,
	po/eo.po, po/es.po, po/et.po, po/fr.po, po/gl.po, po/hu.po,
	po/id.po, po/it.po: make update-po

	* mkchangelog.sh: Turn on compression when getting log messages
	from the CVS server.  (Now that I don't have the server locally,
	bandwidth is expensive...  ;-)

	* keymap.c: Make the messages from the what-key function
	internationalizable.

	* crypt.c, crypt.h, mutt_crypt.h, pgp.c, pgp.h, smime.c, smime.h:
	Rename crypt.h to mutt_crypt.h.

	* Makefile.am: cvs update ChangeLog before trying to update
	it locally.

2002-12-18 07:37:56  Roland Rosenfeld  <roland@spinnaker.de>  (roessler)

	* po/de.po: update

2002-12-17 13:45:16  Vincent Lefevre  <vincent@vinc17.org>  (roessler)

	* po/fr.po: update fr.po

2002-12-17 13:04:29  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* .cvsignore: Ignore some more files.

	* Makefile.am, mkjtags.c: Remve that jed tags generator.  I don't
	use it anyway.

	* cvslog2changelog.pl: Adding Michael's address to the changelog
	generator.

	* build-release: Adopting the release-building script to the
	new changelog process.

2002-12-17 10:37:24  roessler  (roessler)

	* po/ru.po, po/sk.po, po/sv.po, po/tr.po, po/uk.po, po/zh_CN.po,
	po/zh_TW.po, po/hu.po, po/id.po, po/it.po, po/ja.po, po/ko.po,
	po/lt.po, po/nl.po, po/pl.po, po/pt_BR.po, po/es.po, po/et.po,
	po/fr.po, po/gl.po, VERSION, build-release, po/ca.po, po/cs.po,
	po/da.po, po/de.po, po/el.po, po/eo.po, reldate.h: automatic
	post-release commit for mutt-1.5.3

2002-12-17 09:50:26  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* OPS, curs_main.c, functions.h: Experimental: Introduce
	{next,previous}-new-then-unread.  These functions behave
	like {next,previous}-new as long as new messages are visible.
	When no new messages are visibuel any more, there's a fall-back
	to {next,prev}-unread.

	Memo to self: Impose a weekly quota on the use of goto statements.

2002-12-16 20:28:46  Edmund GRIMLEY EVANS  <edmundo@rano.org>  (roessler)

	* handler.c, rfc2047.c, url.c: Fix #1424.

2002-12-16 17:59:51  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* pgp.c: Experimental short-cut code if the "image" of an address
	under a pgp-hook looks like a hexadecimal key id.

2002-12-13 15:53:36  David Shaw  <dshaw@jabberwocky.com>  (roessler)

	* lib.c: Fixing Thomas' screw-up in mutt_concat_path.

2002-12-13 11:00:44  René Clerc  <rene@clerc.nl>  (roessler)

	* po/nl.po: update.

2002-12-11 22:47:57  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* muttlib.c, pgp.c, protos.h, send.c: Fix #1417; thanks to
	Derek D. Martin <ddm@sophic.org> for the excellent observation.
	(In addition to the fix proper, some tracking of temporary files
	is added to mutt's debugging output.)

	* crypt.c: Call endwin() before calling PGP for traditional
	encryption.

2002-12-11 15:51:57  Vincent Lefevre  <vincent@vinc17.org>  (roessler)

	* po/fr.po: update.

2002-12-11 15:20:21  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* browser.c, complete.c, hook.c, init.c, lib.c, lib.h: Herbert
	Martin Dietze <herbert@the-little-red-haired-girl.org> notes that
	mutt may currently build IMAP URLs like imap://exchange//herbert
	for FCCs.  The fix in this patch is to include a function named
	mutt_concat_path which concatenates path elements, but avoids
	the creation of double slashes.  (These don't create problems
	when you're just accessing the file system, but apparently thy
	do cause problems with IMAP.)

	* imap/auth.c, imap/command.c, imap/imap.c, imap/imap.h,
	imap/util.c, date.c, dotlock.c, dotlock.h, edit.c, editmsg.c,
	enter.c, extlib.c, flags.c, from.c, functions.h, gnupgparse.c,
	handler.c, hash.c, hash.h, headers.c, help.c, history.c,
	history.h, keymap.c, keymap.h, lib.c, lib.h, main.c, makedoc.c,
	mapping.h, menu.c, mh.c, mime.h, mkjtags.c, mutt_curses.h,
	mutt_menu.h, mutt_regex.h, mutt_socket.c, muttlib.c, mx.c, mx.h,
	pager.h, parse.c, pattern.c, pgp.c, pgp.h, pgpinvoke.c, pgpkey.c,
	pgplib.c, pgplib.h, postpone.c, protos.h, query.c, recvattach.c,
	recvcmd.c, remailer.c, remailer.h, resize.c, rfc1524.c, rfc1524.h,
	rfc2047.c, rfc2047.h, rfc2231.c, rfc2231.h, rfc822.c, rfc822.h,
	score.c, signal.c, snprintf.c, sort.c, sort.h, status.c,
	system.c, thread.c, url.c, addrbook.c, alias.c, attach.c,
	attach.h, browser.c, browser.h, buffy.c, buffy.h, charset.c,
	charset.h, commands.c, complete.c, compose.c, copy.h, crypt.c,
	crypt.h, curs_main.c: Fix Mike's and my e-mail addresses in
	copyright lines.

	* muttbug.sh.in: Ask for the user's e-mail address.

	* pager.c: Try to make search-next behave more closely to what
	people are used to, again.  The behaviour introduced by this
	patch will give you the previous search string as the default,
	but will search-next when you just press enter without changing
	the search string.

2002-12-10 20:56:52  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* imap/command.c, imap/imap.c, imap/message.c, imap/utf7.c,
	imap/util.c, score.c, send.c, sendlib.c, smime.c, thread.c, url.c,
	addrbook.c, alias.c, attach.c, browser.c, buffy.c, charset.c,
	color.c, compose.c, copy.c, crypt.c, curs_main.c, enter.c,
	gnupgparse.c, hash.c, history.c, hook.c, init.c, lib.c, main.c,
	mbox.c, menu.c, mh.c, mutt_ssl.c, mutt_ssl_nss.c, muttlib.c,
	mx.c, pager.c, parse.c, pattern.c, pgp.c, pgpkey.c, pgplib.c,
	pgppacket.c, pgppubring.c, pop.c, pop_auth.c, postpone.c,
	query.c, recvattach.c, remailer.c, rfc1524.c, rfc2047.c,
	rfc2231.c, rfc822.c: Replace safe_free calls by the FREE macro.

2002-12-09 19:06:40  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* Makefile.am: Minor formatting fix.

	* cvslog2changelog.pl: Change the ChangeLog format as suggested
	by  Martin Michlmayer.

	* send.c: Try to fix another obscure error in S/MIME auto-signing
	upon reply.

	* rfc822.c: Experimental patch to fix #1318.

2002-12-09 18:09:49  David Jardine  <david@jardine.de>	(roessler)

	* init.h: Documentation fix concerning %L in index_format.  #1313.

2002-12-09 18:05:54  David Shaw  <dshaw@jabberwocky.com>  (roessler)

	* mh.c, parse.c: Reduce the meaning of the mark_old option so
	it only controls whether new messages are marked as old when
	leaving the mailbox.

2002-12-09 17:54:25  Jesus Climent  <jesus.climent@hispalinux.es>
(roessler)

	* po/es.po: Fix a typo.  (#1392)

2002-12-09 17:52:50  Anders Helmersson	<anders.helmersson@telia.com>
(roessler)

	* addrbook.c, curs_lib.c, protos.h, query.c: Fix #1390.  Based on
	a patch submitted earlier by Edmund Grimley Evans.

2002-12-09 17:44:54  roessler  (roessler)

	* PATCHES: Ups.

2002-12-09 17:44:28  Michael Elkins  <me@sigpipe.org>  (roessler)

	* OPS, PATCHES, curs_main.c, functions.h, keymap.c, keymap.h,
	menu.c: This patch adds two features to mutt:

	- you can now specify the octal code of a key in a bind or
	  macro function, using the syntax <NNN>.  Eg, bind index <541>
	  show-version This allows you to bind to a function key for
	  which Mutt doesn't have a friendly name associated with it.

	- adds a what-key function which allows you to press a key and
	  have mutt show you the decimal/octal value.  (not bound to
	  anything by default)

2002-12-09 16:07:24  Toomas Soome  <tsoome@muhv.pri.ee>  (roessler)

	* po/et.po: update.

2002-12-09 13:30:02  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* po/pt_BR.po, po/ru.po, po/sk.po, po/sv.po, po/tr.po, po/uk.po,
	po/zh_CN.po, po/zh_TW.po, po/gl.po, po/hu.po, po/id.po, po/it.po,
	po/ja.po, po/ko.po, po/lt.po, po/nl.po, po/pl.po, po/eo.po,
	po/es.po, po/et.po, po/fr.po, po/ca.po, po/cs.po, po/da.po,
	po/de.po, po/el.po, compose.c: Try to fix a localization issue
	identified by Pawel Dzienkonski (#1410).  Side effect: All
	translations will need an update of the S/MIME key translations.

2002-12-09 11:20:14  Pawel Dziekonski  <dzieko@pwr.wroc.pl>  (roessler)

	* po/pl.po: update.

2002-12-08 23:14:43  ph04169@cc.uoi.gr	(roessler)

	* po/el.po: update.

2002-12-08 16:11:35  TAKAHASHI Tamotsu	<ttakah@lapis.plala.or.jp>
(roessler)

	* po/ja.po: update.

2002-12-08 15:10:59  Roland Rosenfeld  <roland@spinnaker.de>  (roessler)

	* po/de.po: Update.

2002-12-07 19:19:34  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* Makefile.am: yet another one.

	* Makefile.am: Another changelog-related change.

	* ChangeLog, Makefile.am, cvslog2changelog.pl: Automatically
	update ChangeLog as part of the commit process.

	* doc/Makefile.in, ChangeLog, ChangeLog.old, Makefile.am,
	cvslog2changelog.pl, mkchangelog.sh: Change the style
	of ChangeLog: Now, the actual patch submitter's name is
	extracted from the commit message and used for the change log.
	For the moment, the date format doesn't match the one in the
	old changelog.	If you want to fix this, submit a patch to
	cvslog2changelog.pl. ;-)

2002-12-07 08:55:59  Vincent Lefevre  <vincent@vinc17.org>  (roessler)

	* po/fr.po: update

2002-12-07 08:55:23  Paul Walker  <paul@black-sun.demon.co.uk>	(roessler)

	* pgppubring.c: Fix a compilation warning.

2002-12-07 08:53:21  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* mh.c, mutt.h, muttlib.c: Gracefully handle unknown maildir
	flags.

2002-12-06 11:30:08  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* Makefile.am: Run check_sec.sh before committing.

2002-12-06 11:28:30  Brendan Cully  <brendan@kublai.com>  (roessler)

	* m4/gettext.m4, m4/iconv.m4, build-release, configure.in:
	autoconf cleanup.

2002-12-06 11:14:13  roessler  (roessler)

	* po/zh_CN.po, po/zh_TW.po, po/uk.po, po/ru.po, po/sk.po,
	po/sv.po, po/tr.po, po/lt.po, po/nl.po, po/pl.po, po/pt_BR.po,
	po/gl.po, po/hu.po, po/id.po, po/it.po, po/ja.po, po/ko.po,
	po/el.po, po/eo.po, po/es.po, po/et.po, po/fr.po, po/da.po,
	po/de.po, VERSION, po/ca.po, po/cs.po, reldate.h, ChangeLog:
	automatic post-release commit for mutt-1.5.2

2002-12-06 10:56:30  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* curs_lib.c, pgppubring.c: Fixing a number of traditional malloc
	calls which have made their way into the code.

	* build-release: Don't post announcements automatically for
	the moment.

2002-12-05 22:30:02  Michael Elkins  <me@sigpipe.org>  (roessler)

	* doc/manual.sgml.head: Fix #1398.

2002-11-25 14:16:47  Lars Hecking  <lhecking@nmrc.ucc.ie>  (roessler)

	* sendlib.c, ChangeLog, INSTALL, charset.h, configure.in: The
	noiconv patch.

2002-11-14 08:12:30  Michael Elkins  <me@sigpipe.org>  (roessler)

	* curs_lib.c: Fix #1388.

2002-11-13 10:10:52  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* main.c: A description of -A was lacking from the help string.

	* doc/manual.sgml.head, doc/mutt.man, main.c, protos.h: Add a
	new command line option -A which is used to expand aliases.

	* keymap.c: Add a safeguard #ifdef for the KEY_BTAB entry.
	Suggested by Thomas Dickey.

2002-11-12 09:20:30  Michael Elkins  <me@sigpipe.org>  (roessler)

	* keymap.c: Tell mutt about the back-tab key (shift tab).

2002-11-12 09:20:09  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* Makefile.am: ups.

	* Makefile.am: Add "make pclean" in order to clean up PATCHES.

2002-11-12 08:55:57  TAKAHASHI Tamotsu	<arms405@jade.dti.ne.jp>
(roessler)

	* po/ja.po: update

2002-11-12 08:41:18  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* README: Add an explicit note that CVS doesn't work from
	ftp.mutt.org any more.

2002-11-12 08:35:34  "Yasuhiro Matsumoto"  <mattn_jp@hotmail.com>
(roessler)

	* mbyte.c: cp932 should be treated like shift_jis.

2002-11-12 08:20:11  Nathan Dushman  <nhd+mutt@andrew.cmu.edu>	(roessler)

	* imap/auth_gss.c, imap/auth_sasl.c, configure.in, main.c,
	mutt_sasl.c, mutt_sasl.h: Hi - this is a patch against mutt-1.4
	to use version 2 of the Cyrus SASL library; all changes are
	ifdef'd so as not to break SASLv1 support. This includes a patch
	to configure.in to allow the choice between v1 and v2, but someone
	with a better understanding of autoconf should double-check it.

2002-11-12 08:00:51  Michael Elkins  <me@sigpipe.org>  (roessler)

	* handler.c: Actually commit patch-1.5.1.me.long_qp.2.

	* mailbox.h, mh.c, mx.c: The maildir_time patch.

2002-11-11 21:17:25  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* muttbug.sh.in: You shall not use CVS to distribute test
	versions.

	* muttbug.sh.in: more fixes.

	* muttbug.sh.in: Add some rpm-related intelligence to flea.

	* muttbug.sh.in: Fix flea's interaction with bug(1) on Debian
	systems.

	* PATCHES: Clean up the patch list.

2002-11-11 20:32:30  Michael Elkins  <me@sigpipe.org>  (roessler)

	* PATCHES, hdrline.c: Fix #485: Make %z work like %Z inside of
	%{} in $index_format.

	* PATCHES, copy.c: Fix #1379 - update the total mailbox size
	when an attachment is deleted.

	* PATCHES, curs_main.c, menu.c, pager.c: Fix #1310; redraw
	problems.

	* doc/manual.sgml.head, init.h: Fix #1306.

	* send.c: Fix #1364.

2002-11-11 19:50:23  Steve Kennedy  <steve-md@gbnet.net>  (roessler)

	* pgp.c: Fix memory leak in the PGP code.

2002-11-11 19:46:29  Paul Walker  <paul@black-sun.demon.co.uk>	(roessler)

	* commands.c, protos.h, sendlib.c: Fix #718.

2002-11-11 19:38:30  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* sendlib.c: Fix #1366.

2002-11-11 19:24:24  Martin Siegert  <siegert@sfu.ca>  (roessler)

	* mx.c: Fix IMAP moving; #1367.

2002-11-11 19:22:17  rene@clerc.nl  (roessler)

	* send.c: Another S/MIME ifdef misses and causes compilation
	problems.

2002-11-11 19:21:24  Michael Elkins  <me@sigpipe.org>  (roessler)

	* init.h: patch-1.5.1-me.status_doc.2

2002-11-11 19:16:11  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* alias.c, init.c, protos.h: patch-1.5-tlr.alias-parse.1 -
	extension of patch-1.5.1-me.aliascheck.1

	This patch catches the same kind of bad alias names caught by
	Michael's patch.  There are some extensions:

	1. Mutt makes sure that it doesn't _suggest_ bad names to
	the user.  2. If a name is bad, the user is informed, and may
	elect to fix the
	   name.  In this case, mutt will automatically suggest a fixed
	   version.
	3. If the user insists in the bad name, it's written into the
	   aliases file with proper quoting.
	4. When mutt parses the aliases file, it now uses the normal
	   tokenizer routines in order to properly handle quoted alias
	   names.

2002-11-11 18:36:25  Michael Elkins  <me@sigpipe.org>  (roessler)

	* handler.c: patch-1.5-me.long_qp.2 (#1371) - fix truncation
	with overly long Q-P encoded lines.

2002-10-22 21:24:07  René Clerc  <rene@clerc.nl>  (roessler)

	* commands.c: Add some missing #ifdefs.

2002-10-22 21:23:20  Michael Elkins  <me@sigpipe.org>  (roessler)

	* init.h, recvattach.c: Documentation fix; #1326

2002-10-22 21:22:45  René Clerc  <rene@clerc.nl>  (roessler)

	* send.c: Another crypt_reply fix.

2002-10-10 09:50:03  René Clerc  <rene@clerc.nl>  (roessler)

	* send.c: Make sure that crypt_reply replies with the same type,
	despite a possible S/MIME default.

2002-10-10 09:43:29  Michael Elkins  <me@sigpipe.org>  (roessler)

	* doc/manual.sgml.head, doc/manual.sgml.head: Document escaping
	rules for regular expressions (#1351).

	* pager.c: Fix header coloring, so there is no difference between
	ncurses and slang.

	* init.h: PGP documentation glitch.

2002-10-10 09:33:33  Paul Walker  <paul@black-sun.demon.co.uk>	(roessler)

	* doc/manual.sgml.head: Fix #1340 (documentation)

2002-10-10 09:33:05  Michael Elkins  <me@sigpipe.org>  (roessler)

	* pager.c: Jeremy Lin wrote: > When I search with / and get
	a match, doing '/\r' doesn't move to the next > match. This
	behavior is unlike the less pager, and is rather useless, IMHO.

	Try the attached patch.

2002-09-23 12:08:43  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* buffy.c: A variant of buffy notification.  Note:  If you folks
	don't like this, we can return to the old version.

2002-09-09 21:48:19  Rudi Chiarito  <nutello@sweetness.com>  (roessler)

	* OPS, browser.c, buffy.c, curs_main.c, functions.h, pager.c,
	protos.h: Add a buffy-list function, and display more information
	when new mail arrives.	With some modifications from tlr.

2002-09-09 21:19:08  Michael Elkins  <me@sigpipe.org>  (roessler)

	* mh.c: Fix #1321.

	* mh.c: [STABLE] Fix #1321.

2002-09-09 21:04:03  Tony Leneis  <tony@cvr.ds.adp.com>  (roessler)

	* signal.c: Tru64 Unix portability patch.

	* signal.c: [STABLE] Tru64 Unix portability patch.

2002-09-09 21:02:05  Vincent Lefevre  <vincent@vinc17.org>  (roessler)

	* doc/manual.sgml.head: Fixing a typo.

2002-09-09 20:53:46  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* postpone.c: Fixing #1300.  Noted by David Shaw
	<dshaw@jabberwocky.com>.

	* postpone.c: Fix #1299; noted by David Shaw
	<dshaw@jabberwocky.com>.

2002-09-09 20:20:20  Michael Elkins  <me@sigpipe.org>  (roessler)

	* init.h, mutt.h, send.c: Introducing $forward_edit.

	* globals.h, init.h, send.c: Introduce $content_type.  There's
	one change against Michael's patch, in how the "format=flowed"
	parameter is used.

2002-09-09 20:04:45  Vincent Lefevre  <vincent@vinc17.org>  (roessler)

	* history.c: [STABLE] Fixing history classes.

	* history.c: Fixing history classes.

2002-09-09 19:56:25  Armin Wolfermann  <aw@osn.de>  (roessler)

	* mh.c: when doing the second parsing pass on a maildir,
	mutt doesn't delete the fake HEADER struct if the file is
	unreadable. With this fix unreadable files get silently ignored
	(like in the MH case).

2002-09-09 19:55:01  "TAKAHASHI, Tamotsu"  <arms405@jade.dti.ne.jp>
(roessler)

	* po/ja.po: Update.

2002-09-09 19:53:24  Michael Elkins  <me@sigpipe.org>  (roessler)

	* editmsg.c: Fixing #1149:  Truncate files used for editing
	messages.

2002-09-09 19:29:26  Nicolas Rachinsky	<nicolas@dauerreden.de>
(roessler)

	* doc/manual.sgml.head, doc/muttrc.man.head, buffy.c, buffy.h,
	init.h: An unmailboxes command.  #1311.

2002-09-09 19:24:54  Michael Elkins  <me@sigpipe.org>  (roessler)

	* attach.c: Fixing #1330.

	* attach.c: [STABLE] Fixing #1330.

2002-08-09 07:01:11  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* doc/muttrc.man.head: Document unalternative_order in the
	manual page.

2002-08-09 06:58:37  Michael Elkins  <me@sigpipe.org>  (roessler)

	* doc/manual.sgml.head, init.c, init.h: The following patch
	adds the `unalternative_order' command.  It also allows using
	"*" more generically in un-commands which use parse_unlists().

2002-08-05 17:25:05  Michael Elkins  <me@sigpipe.org>  (roessler)

	* pgpewrap.c, pgppubring.c, pgpewrap.c, pgppubring.c: Error
	handling fixes.

2002-07-26 08:24:01  Michael Elkins  <me@sigpipe.org>  (roessler)

	* doc/manual.sgml.head: Documentation for reply-hook.  Another
	patch (for the manual page) would be most welcome. ;-))

	* curs_lib.c: The attached patch fixes mutt_yesorno() so that the
	question will be truncated enough to always fit in the default
	answer string.	The size is calculated on the fly so that there
	is no artificial truncation.

2002-07-24 09:46:58  TAKIZAWA Takashi  <taki@luna.email.ne.jp>	(roessler)

	* mutt.h, mutt.h: The attached patch sets MB_LEN_MAX to 16,
	which is MB_LEN_MAX value on glibc-2.2. It works only with
	--without-wc-funcs switch. It may be applied to mutt-1.4 and
	mutt-1.5.1.

2002-07-24 09:37:41  Lars Hecking  <lhecking@nmrc.ie>  (roessler)

	* configure.in, configure.in: Fix a quoting sloppiness.  Noted by
	Vincent Lefevre.

2002-07-24 09:33:59  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* browser.c, browser.c: Fixing #1282.  An off-by-one error. :-/

2002-07-24 09:20:22  Michael Elkins  <me@sigpipe.org>  (roessler)

	* mutt.h, send.c, hook.c, init.h: reply-hook.  Documentation
	still needed.

2002-07-24 09:06:06  Vincent Lefevre  <vincent@vinc17.org>  (roessler)

	* po/fr.po: update.

2002-07-24 08:41:31  Michael Elkins  <me@sigpipe.org>  (roessler)

	* doc/mutt.man, compose.c, editmsg.c, init.c, init.h, attach.c,
	doc/mutt.man, compose.c, editmsg.c, init.c, init.h, attach.c:
	Fix $editor and $visual.  Based on an earlier patch from Edmund
	Grimley Evans.

2002-07-19 19:23:21  Michael Elkins  <me@sigpipe.org>  (roessler)

	* doc/manual.sgml.head: Another documentation patch.

2002-07-17 12:48:38  Rocco Rutte  <s1118644@mail.inf.tu-dresden.de>
(roessler)

	* sendlib.c: * Thomas Roessler [02-07-08 10:14:53 +0200]
	wrote: >  * sendlib.c, 3.12 -> 3.13 >	 From: Rocco Rutte
	<s1118644@mail.inf.tu-dresden.de>

	>    Make encode_from a bit more aggressive, by also catching a
	'f' in >    the beginning of a line.

	'Catch' is good but also to encode it is better. It may have
	been too late (sorry for that) so I fixed it. I don't know why
	the current source only escapes lines that actually begin with
	'from' or 'From' followed by some text. I think that escaping
	'from' or 'From' on a single line should be done, too.

	Not a big deal, anyways.

2002-07-16 07:28:11  Michael Elkins  <me@sigpipe.org>  (roessler)

	* main.c, main.c: Update copyright notices.

2002-07-07 19:33:50  Cedric Duval  <cedricduval@free.fr>  (roessler)

	* doc/manual.sgml.head, doc/mutt.man, init.h: Documentation fixes.

2002-07-07 19:29:05  "TAKAHASHI, Tamotsu"  <arms405@jade.dti.ne.jp>
(roessler)

	* doc/manual.sgml.head: Dcumentation fixes.

2002-07-07 19:23:22  Cedric Duval  <cedricduval@free.fr>  (roessler)

	* doc/manual.sgml.head, doc/mutt.man, init.h: Documentation fixes.

2002-07-07 19:22:19  Rocco Rutte  <s1118644@mail.inf.tu-dresden.de>
(roessler)

	* sendlib.c: Make encode_from a bit more aggressive, by also
	catching a 'f' in the beginning of a line.

2002-07-07 19:13:03  Velko Hristov  <hristov@informatik.hu-berlin.de>
(roessler)

	* po/bg.po: Update.

2002-07-07 19:11:15  Jeremy Blosser  <jblosser-mutt@firinn.org>
(roessler)

	* init.h: Add unauto_view to the stable branch.  A one-liner.

2002-06-28 19:52:31  Michael Elkins  <me@sigpipe.org>  (roessler)

	* doc/manual.sgml.head, doc/manual.sgml.head: Documentation fix
	(#271).

2002-06-18 10:03:52  (automatic)  (roessler)

	* po/zh_TW.po, po/tr.po, po/uk.po, po/zh_CN.po, po/sv.po,
	po/sk.po, po/ru.po, po/pt_BR.po, po/nl.po, po/pl.po, po/ja.po,
	po/ko.po, po/lt.po, po/it.po, po/gl.po, po/hu.po, po/id.po,
	po/eo.po, po/es.po, po/et.po, po/fr.po, po/el.po, po/da.po,
	po/de.po, po/ca.po, po/cs.po: "make update-po"

2002-06-18 10:02:44  several submitters  (roessler)

	* po/ca.po: Adding a BG translation.  Update for CA.

2002-06-18 10:02:43  roessler  (roessler)

	* po/bg.po: branches:  1.1.2; file bg.po was initially added on
	branch mutt-1-4-stable.

2002-06-18 10:02:43  several submitters  (roessler)

	* po/bg.po: Adding a BG translation.  Update for CA.

	* configure.in: Adding a BG translation.

2002-06-18 09:53:12  Michael Elkins  <me@sigpipe.org>  (roessler)

	* init.c, init.c: The string used to store the commmand for a
	backtic expansion in the muttrc was not free'd if the command
	failed for some reason.

2002-06-18 09:52:13  David Champion  <dgc@uchicago.edu>  (roessler)

	* m4/gssapi.m4: Okay, two bugs here. One's an oversight of mine
	in my previous patch, where I tried to use "[hH]" as Bourne code
	while m4 had quoting set to ([, ]) -- this probably makes mutt
	mis-detect Heimdal after all.

	The other is not mine (i.e., it's in cvs now) and it makes mutt
	overstrike $LIBS if Heimdal or MIT Kerberos is detected. This is
	a problem for anyone who needs -lnsl -lsocket, in particular. I
	was fixing this by hand during late 1.3.x releases, as I didn't
	have time to track it down....

	Here's a patch against the current (unpatched) 1.5 cvs copy of
	m4/gssapi.m4. It probably should go into both branches. Sorry
	for the repeats.

2002-06-06 23:13:54  Michael Elkins  <me@sigpipe.org>  (roessler)

	* color.c: Fix #1230.

2002-06-06 12:22:05  Will Fiveash  <william.fiveash@sun.com>  (roessler)

	* init.h, init.h: Fix a couple of compile-time warnings.

2002-05-31 16:59:39  Edmund GRIMLEY EVANS  <edmundo@rano.org>  (roessler)

	* charset.c, charset.h, sendlib.c, charset.c, charset.h,
	sendlib.c: Fix charset-hook.

2002-05-31 16:45:49  Lars Hecking  <lhecking@nmrc.ucc.ie>  (roessler)

	* m4/iconv.m4, INSTALL, charset.h, configure.in: The noiconv
	patch.	Should probably have been in 1.4.

2002-05-30 12:15:02  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* rfc822.c: Properly handle empty addresses (<>) when they show
	up in mail headers.  The approach taken is to store this address
	as <@>, and to check this special case when printing an address.

2002-05-29 09:31:51  roessler  (roessler)

	* po/zh_CN.po, po/zh_TW.po, po/uk.po, po/tr.po, po/sk.po,
	po/sv.po, po/pl.po, po/pt_BR.po, po/ru.po, po/ko.po, po/lt.po,
	po/nl.po, po/it.po, po/ja.po, po/fr.po, po/gl.po, po/hu.po,
	po/id.po, po/eo.po, po/es.po, po/et.po, po/da.po, po/de.po,
	po/el.po, VERSION, po/ca.po, po/cs.po, reldate.h, ChangeLog:
	automatic post-release commit for mutt-1.4

2002-05-29 09:28:33  Roland Rosenfeld  <roland@spinnaker.de>  (roessler)

	* po/de.po: update.

2002-05-29 09:27:46  Ronny Haryanto  <ronny@haryan.to>	(roessler)

	* po/id.po: update

2002-05-28 09:07:29  Michael Elkins  <me@sigpipe.org>  (roessler)

	* mx.h, postpone.c: Fix some warnings noted by Vincent Lefevre.

2002-05-21 07:28:28  Edmund GRIMLEY EVANS  <edmundo@rano.org>  (roessler)

	* po/eo.po: update

2002-05-18 05:39:55  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* pattern.c: Fix #1175.

	* pattern.c: Fix #1175.  Noticed by Alain Bench.

2002-05-18 05:34:50  Vsevolod Volkov  <vvv@mutt.org.ua>  (roessler)

	* pop_lib.c, pop_lib.c: Attached patch for mutt 1.3.X/1.4 and
	1.5.X removes gcc warning in pop_lib.c.

2002-05-16 17:33:19  Pawel Dziekonski  <dzieko@pwr.wroc.pl>  (roessler)

	* po/pl.po: update

2002-05-16 13:05:14  Im Eunjea	<eunjea@koru.org>  (roessler)

	* po/ko.po: update.

	* po/ko.po: update

2002-05-16 13:04:23  Ronny Haryanto  <ronny@haryan.to>	(roessler)

	* po/id.po: update.

	* compose.c: Triple-DES, not Tripple-DES.

2002-05-14 18:56:01  "Andrej N. Gritsenko"  <andrej@lucky.net>	(roessler)

	* po/uk.po: update

2002-05-13 20:18:57  Toomas Soome  <Toomas.Soome@microlink.ee>	(roessler)

	* po/et.po, po/et.po: update

2002-05-13 20:18:17  Vsevolod Volkov  <vvv@mutt.org.ua>  (roessler)

	* po/ru.po, po/uk.po, po/ru.po: update

2002-05-13 20:16:08  Byrial Jensen  <byrial@image.dk>  (roessler)

	* po/da.po: update

2002-05-13 20:15:40  Vsevolod Volkov  <vvv@mutt.org.ua>  (roessler)

	* po/ru.po: update

2002-05-13 20:15:07  Jörgen Tegnér  <jorgen.tegner@telia.com>  (roessler)

	* po/sv.po, po/sv.po: update

2002-05-13 20:13:56  Vincent Lefevre  <vincent@vinc17.org>  (roessler)

	* po/fr.po: update

2002-05-06 11:27:20  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* doc/manual.sgml.head: Remove -Q which is only present in
	unstable from the stable documentation.  Thanks to Andreas Kneib
	<Andreas.Kneib@t-online.de> for noting.

2002-05-02 01:05:27  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* Makefile.am: Include smime.h with EXRA_DIST.

2002-05-01 23:24:17  roessler  (roessler)

	* po/zh_TW.po, po/sk.po, po/sv.po, po/tr.po, po/uk.po,
	po/zh_CN.po, po/pl.po, po/pt_BR.po, po/ru.po, po/id.po, po/it.po,
	po/ja.po, po/ko.po, po/lt.po, po/nl.po, po/eo.po, po/es.po,
	po/et.po, po/fr.po, po/gl.po, po/hu.po, VERSION, po/ca.po,
	po/cs.po, po/da.po, po/de.po, po/el.po, reldate.h, ChangeLog:
	automatic post-release commit for mutt-1.5.1

2002-05-01 23:21:10  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* smime.c: Shut up check_sec.sh.  No security holes, but some
	ugly code.

	* check_sec.sh: Give all the warnings at once.

	* build-release: - This is a development branch.  - Add a -nodiff
	option to suppress generating a patch.

2002-05-01 23:08:53  roessler  (roessler)

	* po/tr.po, po/uk.po, po/zh_CN.po, po/zh_TW.po, po/sk.po,
	po/sv.po, po/pl.po, po/pt_BR.po, po/ru.po, po/lt.po, po/nl.po,
	po/it.po, po/ja.po, po/ko.po, po/et.po, po/fr.po, po/gl.po,
	po/hu.po, po/id.po, po/da.po, po/de.po, po/el.po, po/eo.po,
	po/es.po, ChangeLog, VERSION, po/ca.po, po/cs.po, reldate.h:
	automatic post-release commit for mutt-1.3.99

2002-05-01 23:06:21  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* build-release: s/scp1/scp/

2002-04-29 17:12:18  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* lib.c, lib.h, protos.h, lib.c, lib.h, protos.h: Fix #1171.

2002-04-29 12:26:23  Vincent Lefevre  <vincent@vinc17.org>  (roessler)

	* po/fr.po: update.

2002-04-29 12:25:38  oota toshiya  <oota@mspd.mt.nec.co.jp>  (roessler)

	* po/ja.po, po/ja.po: update.

2002-04-29 12:09:21  Byrial Jensen  <byrial@image.dk>  (roessler)

	* imap/util.c: There is a possible buffer overflow due an
	off-by-one error in imap/util.c, line 125. The error is in the
	maximum field width indication in the sscanf() call. You must
	have room in the receiving buffer for this number of characters
	/plus a terminating NULL character/.

	* imap/util.c: There is a possible buffer overflow due an
	off-by-one error in imap/util.c, line 125. The error is in the
	maximum field width indication in the sscanf() call. You must
	have room in the receiving buffer for this number of characters
	/plus a terminating NULL character/.

2002-04-25 13:30:49  Vsevolod Volkov  <vvv@mutt.org.ua>  (roessler)

	* pop.c, pop_lib.c, pop.c, pop_lib.c: Attached patch fixes
	the problem described below. It should be applied to both mutt
	1.3/1.4 and 1.5 branches.

	> Date: Thu, 11 Apr 2002 16:24:00 -0500 > Subject: mutt 1.3.x
	/ pop > From: "Ryan O'Hara" <rohara@isis.visi.com> > To:
	bcully@users.sourceforge.net > User-Agent: Mutt/1.3.27i

	> Hi. My apologies if this has nothing to do with you. If it
	does not, > maybe you could forward it on to someone.

	> In mutt 1.3.x I have noticed that if I uses POP to retrieve
	mail, and > I enter an incorrect password whem prompted, it will
	*save* that > password and keep trying to use it. However, in the
	1.2.x versions it > worked like this: type in wrong POP password,
	try to connect to POP > server again and it will ask you (again)
	for the password. mutt 1.3.x > does not, it just tries to connect
	with the wrongs password (which > just failed).

	> This is kinda annoying. Just thought I'd point out this
	regression.

	> Thanks.  > R

2002-04-25 13:28:31  Wouter Verheijen  <wv@xs2mail.com>  (roessler)

	* doc/manual.sgml.head, doc/manual.sgml.head: Someone in
	news:comp.mail.mutt noted that the list of command-line options
	in the manual is not up-to-date.

	Included a small patch that includes all options that 'mutt
	-h' shows.

2002-04-25 13:26:58  Cedric Duval  <cedricduval@free.fr>  (roessler)

	* doc/manual.sgml.tail, OPS, init.h, pattern.c: attached are
	fixes for some little mistakes :

	* history-down -> scroll _down_, not up * functions
	decode-(save|copy) do not exist in the attach menu.  * gettext
	oversight in pattern.c * inconsistency between "printf-like
	sequences" used all over the place
	  and "escape sequences" for the description of $attribution.

	* doc/manual.sgml.tail, pattern.c, OPS, init.h: attached are
	fixes for some little mistakes :

	* history-down -> scroll _down_, not up * functions
	decode-(save|copy) do not exist in the attach menu.  * gettext
	oversight in pattern.c * inconsistency between "printf-like
	sequences" used all over the
	  place and "escape sequences" for the description of
	  $attribution.

2002-04-25 13:24:33  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* recvattach.c: Also fix this for the S/MIME case.

	* recvattach.c: Fiy handling of multiparts which have encrypted
	sub-parts, at least for PGP.

	* sendlib.c: Force 7bit encoding for application/pgp-keys.

2002-04-20 21:38:47  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* m4/codeset.m4, m4/gettext.m4, m4/glibc21.m4, m4/iconv.m4,
	m4/lcmessage.m4, m4/lib-ld.m4, m4/lib-link.m4, m4/lib-prefix.m4,
	m4/progtest.m4, intl/ChangeLog, intl/Makefile.in,
	intl/bindtextdom.c, intl/config.charset, intl/dcigettext.c,
	intl/eval-plural.h, intl/gettextP.h, intl/gmo.h,
	intl/hash-string.h, intl/l10nflist.c, intl/libgnuintl.h,
	intl/loadinfo.h, intl/loadmsgcat.c, intl/localcharset.c,
	intl/localealias.c, intl/localename.c, intl/os2compat.c,
	intl/os2compat.h, intl/osdep.c, intl/plural-exp.c,
	intl/plural-exp.h, intl/plural.c, intl/plural.y, ABOUT-NLS,
	INSTALL, config.rpath, configure.in: Backing out the latest
	iconv-related changes from the mutt-1-4-stable branch.

2002-04-20 21:36:38  roessler  (roessler)

	* m4/codeset.m4, m4/gettext.m4, m4/glibc21.m4, m4/iconv.m4,
	m4/lcmessage.m4, m4/lib-ld.m4, m4/lib-link.m4, m4/lib-prefix.m4,
	m4/progtest.m4: same as above.

2002-04-20 21:36:32  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* intl/eval-plural.h, intl/gettextP.h, intl/gmo.h,
	intl/hash-string.h, intl/l10nflist.c, intl/libgnuintl.h,
	intl/loadinfo.h, intl/loadmsgcat.c, intl/localcharset.c,
	intl/localealias.c, intl/localename.c, intl/os2compat.c,
	intl/os2compat.h, intl/osdep.c, intl/plural-exp.c,
	intl/plural-exp.h, intl/plural.c, intl/plural.y, intl/ChangeLog,
	intl/Makefile.in, intl/bindtextdom.c, intl/config.charset,
	intl/dcigettext.c: Committing the new iconv patches into a
	separate branch.

	* ABOUT-NLS, INSTALL, config.rpath, configure.in: Committing
	the new noiconv patches into a separate branch.

	* sendlib.c: Generate the resent-message-id ourselves, and add
	it in the top of the header.

2002-04-20 08:11:13  Wouter Verheijen  <wv@xs2mail.com>  (roessler)

	* copy.c, mutt.h, sendlib.c: Bug #571 "mutt should not replicate
	">From " headers while bounding", has a patch attached.  Will that
	patch get in?

	Although these lines are not generated by mutt, I would strongly
	suggest to prevent it, because by boucing a mail the MUA should
	ensure that the message header is according to the specification.
	A ">From " line is not, because of the spaces before a colon.

	Because this has such serious consequences (totally unreadable
	mail) when a MTA interpretes this line as the beginning of the
	body (not unreasonable), I think Mutt should prevent sending
	this invalid headerline.

	Because the other patch to the bugreport is not really correct
	IMHO (because the fieldnames are not limited to alphanumeric
	chars, RFC2822 3.6.8), I propose another one.

	This patch also appends Resent-* to the header, instead of
	prepending it. The Resent-Message-Id is however still appended,
	because I could not find it; is it added by the MTA instead of
	by Mutt?

2002-04-20 07:55:20  roessler  (roessler)

	* m4/codeset.m4, m4/gettext.m4, m4/glibc21.m4, m4/iconv.m4,
	m4/lcmessage.m4, m4/progtest.m4: Try to get the noiconv patch
	to work.

2002-04-20 07:55:09  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* configure.in: Try to get the noiconv patch to work with my
	development environment.

	* INSTALL: Fix a typo.

2002-04-20 07:26:10  Lars Hecking  <lhecking@nmrc.ie>  (roessler)

	* init.h, rfc2047.c, sendlib.c, INSTALL, charset.c, charset.h,
	 configure.in, gnupgparse.c:  patch.1.3.28.lh.noiconv
	 =======================

	 This is the new version of my noiconv patch. It _requires_
	 the previous patch! If applied without, you'll have to resolve
	 a couple of conflicts manually.

	 Notes: - it's a lot cleaner than the old noiconv patch because
	 no m4 files are
	   modified - new configure option --disable-iconv; INSTALL
	 updated accordingly
	   [I am guessing here, but the background for the --without-iconv
	    option mentioned in INSTALL was that mutt had a without-iconv
	    option before gettext included iconv support. When mutt's
	    intl/* files were updated to a newer gettext, there suddenly
	    were two iconv options, which then got merged, that is,
	    mutt's was removed. That was probably when --without-iconv
	    stopped working, but I'm not sure, it may well be that it
	    never worked since iconv support was introduced.]
	 - all changes in *.[ch] files should be identical to the
	 old patch

	* intl/localename.c: This one seems to have been missing, too.

2002-04-20 07:25:40  roessler  (roessler)

	* intl/localename.c: branches:	1.1.2;	1.1.4; file localename.c
	was initially added on branch mutt-1-4-stable.

2002-04-20 07:25:15  Lars Hecking  <lhecking@nmrc.ie>  (roessler)

	* config.rpath: Another file from the gettext patch.

2002-04-20 07:25:15  roessler  (roessler)

	* config.rpath: branches:  1.1.2;  1.1.4; file config.rpath was
	initially added on branch mutt-1-4-stable.

2002-04-20 07:24:54  Lars Hecking  <lhecking@nmrc.ie>  (roessler)

	* m4/lib-ld.m4, m4/lib-link.m4, m4/lib-prefix.m4: Add new m4
	files from patch.1.3.28.lh.gettext-0.11.1.

2002-04-20 07:24:54  roessler  (roessler)

	* m4/lib-ld.m4: branches:  1.1.2;  1.1.4; file lib-ld.m4 was
	initially added on branch mutt-1-4-stable.

	* m4/lib-link.m4: branches:  1.1.2;  1.1.4; file lib-link.m4
	was initially added on branch mutt-1-4-stable.

	* m4/lib-prefix.m4: branches:  1.1.2;  1.1.4; file lib-prefix.m4
	was initially added on branch mutt-1-4-stable.

2002-04-20 07:24:22  Lars Hecking  <lhecking@nmrc.ie>  (roessler)

	* m4/codeset.m4, m4/gettext.m4, m4/glibc21.m4, m4/iconv.m4,
	 m4/lcmessage.m4, m4/progtest.m4, intl/ChangeLog,
	 intl/Makefile.in, intl/bindtextdom.c, intl/config.charset,
	 intl/dcigettext.c, intl/eval-plural.h, intl/gettextP.h,
	 intl/gmo.h, intl/hash-string.h, intl/l10nflist.c,
	 intl/libgnuintl.h, intl/loadinfo.h, intl/loadmsgcat.c,
	 intl/localcharset.c, intl/localealias.c, intl/os2compat.c,
	 intl/os2compat.h, intl/osdep.c, intl/plural-exp.c,
	 intl/plural-exp.h, intl/plural.c, intl/plural.y:
	 patch.1.3.28.lh.gettext-0.11.1 ==============================

	 This one updates the gettext stuff in mutt to gettext-0.11.1. I
	 started doing this in the hope that the new gettext version would
	 simplify the noiconv patch, but unfortunately, this turned out
	 not to be the case (the new iconv m4 macros still don't allow
	 for switching iconv support off).

	 However, as a few hours of merging and testing were spent,
	 I'd suggest to adopt it for 1.4. The actual changes to intl/*
	 are part cosmetic, part code reorganisation. Ok, a bit more,
	 I'm no gettext expert :)

	 Notes: - after applying the patch, you need to chmod 755
	 config.rpath - a couple of new files for m4/*, too - I have
	 broken with the tradition of renaming gettext's AM_* macros
	   to MUTT_AM_*! I don't think it's necessary anymore to customise
	   these macros, but you (I really mean "you, tlr" :) want to
	   have a look at the new gettext.m4.  The others should be ok
	   as they are.
	 - previous gettext updates were also updating po/Makefile.in.in,
	   which I didn't; someone who has a clue about gettext should
	   check whether this might be necessary, and also whether any
	   other files in po/ need updating

	 I will provide the same patch for the 1.5 branch at some stage,
	 ideally after getting some  F E E D B A C K  for this one.

2002-04-20 07:23:49  roessler  (roessler)

	* intl/eval-plural.h: branches:  1.1.2;  1.1.4; file eval-plural.h
	was initially added on branch mutt-1-4-stable.

	* intl/gmo.h: branches:  1.1.2;  1.1.4; file gmo.h was initially
	added on branch mutt-1-4-stable.

	* intl/os2compat.c: branches:  1.1.2;  1.1.4; file os2compat.c
	was initially added on branch mutt-1-4-stable.

	* intl/os2compat.h: branches:  1.1.2;  1.1.4; file os2compat.h
	was initially added on branch mutt-1-4-stable.

	* intl/osdep.c: branches:  1.1.2;  1.1.4; file osdep.c was
	initially added on branch mutt-1-4-stable.

	* intl/plural-exp.c: branches:	1.1.2;	1.1.4; file plural-exp.c
	was initially added on branch mutt-1-4-stable.

	* intl/plural-exp.h: branches:	1.1.2;	1.1.4; file plural-exp.h
	was initially added on branch mutt-1-4-stable.

2002-04-20 07:23:39  Lars Hecking  <lhecking@nmrc.ie>  (roessler)

	* ABOUT-NLS, charset.c, charset.h, configure.in, gnupgparse.c,
	 init.h, rfc2047.c, sendlib.c:	patch.1.3.28.lh.gettext-0.11.1
	 ==============================

	 This one updates the gettext stuff in mutt to gettext-0.11.1. I
	 started doing this in the hope that the new gettext version would
	 simplify the noiconv patch, but unfortunately, this turned out
	 not to be the case (the new iconv m4 macros still don't allow
	 for switching iconv support off).

	 However, as a few hours of merging and testing were spent,
	 I'd suggest to adopt it for 1.4. The actual changes to intl/*
	 are part cosmetic, part code reorganisation. Ok, a bit more,
	 I'm no gettext expert :)

	 Notes: - after applying the patch, you need to chmod 755
	 config.rpath - a couple of new files for m4/*, too - I have
	 broken with the tradition of renaming gettext's AM_* macros
	   to MUTT_AM_*! I don't think it's necessary anymore to customise
	   these macros, but you (I really mean "you, tlr" :) want to
	   have a look at the new gettext.m4.  The others should be ok
	   as they are.
	 - previous gettext updates were also updating po/Makefile.in.in,
	   which I didn't; someone who has a clue about gettext should
	   check whether this might be necessary, and also whether any
	   other files in po/ need updating

	 I will provide the same patch for the 1.5 branch at some stage,
	 ideally after getting some  F E E D B A C K  for this one.

2002-04-17 17:05:54  Vincent Lefevre  <vincent@vinc17.org>  (roessler)

	* po/fr.po: Update.

2002-04-17 17:05:04  David Champion  <dgc@uchicago.edu>  (roessler)

	* m4/gssapi.m4: MIT krb5 1.2.4 has krb5-config, so it's
	no longer sufficient to say that possession of krb5-config
	indicates Heimdal. Patch attached. This assumes that Heimdal's
	"kreb5-config --vendor" begins with "Heimdal".	I cannot verify
	that this is correct, so patch might be wrong on this point.

2002-04-07 21:19:57  Brendan Cully  <brendan@kublai.com>  (roessler)

	* imap/command.c, imap/imap.c, imap/message.c, imap/command.c,
	imap/imap.c, imap/message.c: The attached patch cleans up some
	bugs in switching IMAP mailboxes: * free current flags on mailbox
	close * reset reopen state * don't parse the same untagged
	SELECT response for multiple options * call mx_update_context
	after reading the whole mailbox, not after
	  each message * reset new mail flag if mail arrives in the
	middle of opening the
	  mailbox. This should close 1139

	939 is most likely unaffected. I discovered these problems while
	investigating 939.

2002-04-05 10:42:54  "TAKAHASHI, Tamotsu"  <arms405@jade.dti.ne.jp>
(roessler)

	* po/ja.po: update.

2002-04-04 20:49:46  Im Eunjea	<eunjea@koru.org>  (roessler)

	* po/ko.po: Update.

2002-04-04 06:50:52  "TAKAHASHI, Tamotsu"  <arms405@jade.dti.ne.jp>
(roessler)

	* po/ja.po: Update.

2002-04-04 06:50:12  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* pgp.c: Fix a typo noted by Tamotsu Takahashi.

2002-04-03 15:22:27  Thomas Roessler  <roessler@does-not-exist.org>
(roessler)

	* handler.c: Fix printing of format=flowed text parts.

	* commands.c: Fix #1144 in stable.

	* commands.c: Fix a file descriptor leak in the display filter
	code.  Noted by Chr. v. Stuckrad.

	fixes: #1144

2002-04-02 18:49:37  Lars Hecking  <lhecking@nmrc.ie>  (roessler)

	* m4/iconv.m4: branches:  1.3.2.1.2; The noiconv patch.

	* charset.c, charset.h: The noiconv patch.

	* configure.in: branches:  2.129.2.3.2; The noiconv patch.

	* gnupgparse.c, init.h, rfc2047.c, sendlib.c: The noiconv patch.

2002-03-30 08:26:31  roessler  (roessler)

	* po/pl.po: update.  From Pawel Dzienkonski.

	* po/fr.po: Update; From Vincent Lefevre.

	* postpone.c, sendlib.c: The attached patch allows the user
	to override the user-agent field with my_hdr.  It also removes
	the stripping of the x-mailer field when recalling a postponed
	message.

2002-03-28 13:25:23  roessler  (roessler)

	* mx.c, mx.h, mailbox.h, main.c, mbox.c, mh.c:
	patch-1.3.28-me.emptycheck.1

2002-03-27 08:50:42  roessler  (roessler)

	* pgp.c: There was some output missing.

	* po/POTFILES.in: update.

	* pgp.c: More fixes.  Note to self:  The code which controls
	character set selection for attachments is far too complicated.

	* pgp.c: Don't include temporary file names in the
	Content-Disposition header.

	* pgp.c: Use text/plain; format=... when we are asked to detect
	inline PGP material in in text/plain body parts.

	* pgp.c, sendlib.c: Fix encoder mode for text/plain; action=pgp-*.

	* pgp.c: Fix "noconv" handling for the message body when we
	generate inline PGP.

	* charset.c, charset.h, handler.c, muttlib.c, pgp.c: Some hackisch
	charset handling for text/plain; x-action=pgp-*.  I don't like
	this stuff, but it's better than nothing.

2002-03-26 22:25:48  roessler  (roessler)

	* pgp.c: Change x-action values to "pgp-encrypted", "pgp-signed".

	* contrib/gpg.rc, commands.c, compose.c, crypt.c, handler.c,
	muttlib.c, pgp.c, protos.h, recvattach.c, sendlib.c: More inline
	PGP changes.

	* pgp.c: Also permit for "action" and "x-action" on the receiving
	end, just in case we can settle on a joint standard with other
	MUA developers.

	* commands.c, crypt.c, handler.c, pgp.c, pgpinvoke.c, sendlib.c:
	OK, I'm giving up: pgp_create_traditional now creates text/plain;
	x-mutt-action={pgp-encrypt,pgp-sign}.

	* pgpinvoke.c: Fix application/pgp signatures.

	* charset.c, charset.h, gnupgparse.c, handler.c, mbyte.c,
	rfc2047.c, sendlib.c, charset.c, charset.h, gnupgparse.c,
	handler.c, mbyte.c, rfc2047.c, sendlib.c: Fix iconv warnings;
	from Edmund Grimley Evans.

	* smime.c: Please use ascii_strcasecmp() if you want to compare
	ASCII parameter strings.  mutt_strcasecmp() depends on the locale,
	and detects "i" and "I" as _different_ in Turkish locales.

2002-03-25 11:34:40  roessler  (roessler)

	* crypt.c: Fix S/MIME signature type.  Noted by Dan Ohnesorg
	<Dan@ohnesorg.cz>.

	* buffy.c, buffy.c: close 1103; from Brendan Cully

	* doc/manual.sgml.tail, doc/manual.sgml.tail: close 1122; from
	Brendan Cully

	* hdrline.c, muttlib.c: Fix #87s; from Brendan Cully.

	* hdrline.c, muttlib.c: Fix #872, from Brendan Cully.

	* contrib/smime_keys_test.pl, contrib/Makefile.in: Include a test
	script by Mike Schiraldi.  It's perl > the one I have installed,
	so I'm just putting it into contrib for now.

2002-03-20 09:53:42  roessler  (roessler)

	* editmsg.c, mailbox.h, mx.c: Rename M_NEW to M_NEWFOLDER.

	* editmsg.c, mailbox.h, mx.c: Rename the new M_NEW by M_NEWFOLDER.
	There was another constant of the same name.  Problem noted by
	Will Yardley's compiler.

2002-03-19 09:54:05  roessler  (roessler)

	* browser.c: Fix #1115.

	* editmsg.c, mailbox.h, mx.c: Fix a temporary file race problem
	when using the edit-message function.  Backported from unstable.

	* po/pl.po, po/pl.po: update

2002-03-18 18:54:56  roessler  (roessler)

	* browser.c: Should fix #1115.	BACKPORT!

2002-03-15 09:11:05  roessler  (roessler)

	* po/ja.po: update from oota toshiya.

	* po/ja.po: update, from oota toshiya.

2002-03-13 23:43:41  roessler  (roessler)

	* attach.c: Undoing the previous patch.  It was junk, and may
	ruin files.

	* attach.c, editmsg.c, mailbox.h, mx.c: Don't fopen mail folders
	in append mode where we should safe_fopen() them in write mode.
	Debian bug #138200, noted by Colin Philipps <cph@cph.demon.co.uk>.

	NEEDS BACKPORTING.

	* po/uk.po, po/zh_CN.po, po/zh_TW.po, po/sk.po, po/sv.po,
	po/tr.po, po/pl.po, po/pt_BR.po, po/ru.po, po/id.po, po/it.po,
	po/ja.po, po/ko.po, po/lt.po, po/nl.po, po/eo.po, po/es.po,
	po/et.po, po/fr.po, po/gl.po, po/hu.po, po/da.po, po/de.po,
	po/el.po: automatic post-release commit for mutt-1.3.28

	* po/ChangeLog: branches:  1.1.2; file ChangeLog was initially
	added on branch mutt-1-4-stable.

	* po/ChangeLog, po/ca.po, po/cs.po, ChangeLog, VERSION, reldate.h:
	automatic post-release commit for mutt-1.3.28

	* doc/smime-notes.txt, smime.c: Assorted patches from Mike
	Schiraldi.

2002-03-02 12:11:35  roessler  (roessler)

	* contrib/smime.rc, compose.c, init.h, mutt.h, sendlib.c, smime.c,
	smime.h: Introduce smime_default_key.  From Oliver Ehli.

	* contrib/smime.rc, smime.c, smime.h, smime_keys.pl, init.h,
	 mutt.h: smime.c: - the getkeys() function was broken and deleted
	 the last char
	   of the certfilename - it now lets me use more than one key
	 for the same mailbox
	   ie select these.  - some display output was garbled when the
	 email didn't match.
	   i posted some fix to mutt-users, but i don't like that sleep()
	   so i dropped the first error message, which basically repeated
	   the from/sender field only. so now there's just the message:
	   they don't match.

	smime_keys: - i modified the add_chain to continue even if
	 no roo-cert
	   is present (david collantes received som chain that got
	   exported from outlook. obiously they don't (always ?)
	   include the root cert) it will now abort if neither root nor
	   intermediate certs are present.
	 - add_cert created index entries with '-' as issuer cert, when
	   it should have been '?'. thus verify would fail. (obviously
	   nobody ever used that command (add_cert, that is) :)

	the feature above obsoletes the hash_cert and fingerprint_cert
	commands, adds import_cert command and ask_cert_label bool. i
	modified the output of smime_keys (a little) so it doesn't look
	too garbled when supplying the label (it is actually interactive
	:) furthermore, i do a verify after the cert was added and
	modified the verify routine to make the cerificate trusted in
	case of success. (we discussed this in another message) that is
	ok so far, but perhaps this requires some better root certificate
	handling, ie the trust should be somehow connected to the root
	certificate, that maybe added (if the user trusts it and its not
	present already) to the ca-file. i'll think about that some more
	... but then, there already is the add_root command. hmmm... (btw,
	you'll now never get asked to trust a certificate)

	i have not yet deleted the email handling from the import key
	stuff (in smime.c/crypt.c), for i'm thinking about smime_keys
	using it as an additional arg. otoh i don't think users would
	press ^k if verification failed...hmmm... but still, smime_keys
	does extract the email from the certificate either way and does
	verify it by itself, so the only thing that would happen is
	to have some invalid certificates, that mutt'll refuse to use
	anyways, left in the database....

	(From Oliver Ehli.)

2002-02-28 23:28:51  roessler  (roessler)

	* sort.c: Turn on incremental threading again.

	* smime_keys.pl: The script will try to pick out the end-user cert
	and pass that to openssl. The code which tells the difference may
	not be perfect. It works with all the certs in my collection,
	though. I won't be at all surprised if someone comes across a
	cert chain which confuses it, but it should print out an error
	in that case. Hopefully they will send us the chain so we can
	adjust our code.

	(From Mike Schiraldi.)

	* init.h, mutt.h, thread.c: Threading enhancements from Daniel
	Eisenbud.

	* curs_main.c, init.c, init.h, mutt.h, thread.c: $narrow_tree;
	fater redrawing when changing tree options.  From Daniel Eisenbud.

	* imap/message.c, mbox.c, mx.c, thread.c: A possible work-around
	for #939.  From Daniel Eisenbud.

	* init.h, mutt.h, thread.c: Threading enhancements from Daniel
	Eisenbud.

2002-02-26 10:58:56  roessler  (roessler)

	* po/ru.po: update

	* init.h: Fix a typo.

	* init.h: Fix a typo.  #1069.

	* imap/browse.c, imap/message.c, configure.in, mutt_sasl.c,
	imap/browse.c, imap/message.c, configure.in, mutt_sasl.c:
	Brendan Cully sent a patch.

	* install-sh, install-sh: Fix a typo.  From Edmund Grimley Evans.

	* po/ru.po: ru.po update.

	* pop_lib.c, pop_lib.c: CAPA response tags are case-insensitive.
	Noted by Michael Vore, patch from Vsevolod Volkov.

2002-02-18 14:55:31  roessler  (roessler)

	* alias.c, send.c: Fix for #1047.  From Michael Elkins.

2002-02-14 11:22:51  roessler  (roessler)

	* charset.c, gnupgparse.c, init.h, rfc2047.c: Iconv patch from
	Lars Hecking.  MAY NEED TO BE BACKPORTED.

2002-02-13 12:04:52  roessler  (roessler)

	* smime.c: mutt_any_key() shouldn't be used in curses mode.

	* hdrline.c, init.h, parse.c: Change the default format to be
	more friendly to "0-line messages", and fix optional expansion
	for %l - it was the wrong way around.  Also, add a hack to
	parse.c so we ignore negative values in Lines headers.

	* hdrline.c, muttlib.c, protos.h: Undo the %l fix.  It broke
	things.

	* menu.c: Fix mutt_pad_string; from Edmund Grimley Evans.
	(MAY NEED TO BE BACKPORTED.)

	* main.c: Report libiconv version.

2002-02-12 21:54:41  roessler  (roessler)

	* hdrline.c, muttlib.c, protos.h: Improve %l's behaviour.

	* extlib.c, main.c, pattern.c, smime_keys.pl: Mike Schiraldi's
	daily S/MIME patch.

2002-02-11 17:31:53  roessler  (roessler)

	* smime.c: This patch gets rid of an ugly static variable in
	smime.c. (From Mike Schiraldi.)

	* smime_keys.pl: This patch lets smime_keys.pl automagically
	handle both formats of x509 certificate -- PEM (text) and
	DER (binary). This lets Outlook users (and probably others)
	directly import the certs without first converting them manually.
	(From Mike Schiraldi.)

	* configure.in: Honor current values of $LIBS and $CPPFLAGS.
	From Thomas Dickey.

	* configure.in: Honor $LIBS and $CPPFLAGS.  From Thomas Dickey.

	* init.c, init.c: patch-1.3.27.me.initsort.1

2002-02-07 21:48:42  roessler  (roessler)

	* smime_keys.pl: Another S/MIME patch from Mike Schiraldi.

	* smime_keys.pl: Fix smime_keys.

	* smime.c: S/MIME fixes from Mike Schiraldi.

	* po/zh_CN.po, po/zh_TW.po, po/sk.po, po/sv.po, po/tr.po,
	po/uk.po, po/ja.po, po/ko.po, po/lt.po, po/nl.po, po/pl.po,
	po/pt_BR.po, po/ru.po, po/el.po, po/eo.po, po/es.po, po/et.po,
	po/fr.po, po/gl.po, po/hu.po, po/id.po, po/it.po, po/POTFILES.in,
	po/ca.po, po/cs.po, po/da.po, po/de.po, Makefile.am: Make S/MIME
	messages translatable.

2002-02-06 19:14:47  roessler  (roessler)

	* lib.h: Avoid a warning on some machines.

	* lib.h, smime.c: Make some scanf formats safe.

2002-02-05 22:01:06  roessler  (roessler)

	* ascii.c: The previous fix was complete nonsense.  What a
	day. :-(

	* ascii.c: The previous fix was complete nonsense.

	* browser.c, lib.c, lib.h: Use strcoll for the file browser.
	From David Champion.

	* hook.c: Fix crypt-hook.  From Dale Woolridge
	<dale-list-mutt-dev@woolridge.org>.

	* smime_keys.pl: Clean-up from Mike Schiraldi.

	* imap/browse.c: Fix.

	* imap/browse.c: Fix another IMAP browsing bug.

	* po/ru.po, po/fr.po, po/ko.po: update

	* smime.c: Don't put garbage onto the screen when trying to
	decrypt messages.

	* contrib/smime.rc, init.h, smime.c, smime.h, smime_keys.pl:
	S/MIME fixes from Oliver Ehli:

	- smime_keys.pl:

	  support for multiple email adrresses in cert: will add one
	  entry to {keys, cetrificates}/.index now (for each mailbox)

	  support for certificates without intermediate certs (e.g. for
	  people who are their own CA: use root as intermediate, for it
	  probably wouldn't be known to anyone...)

	  bugfix in handle_pem: the checks if some type of cert is
	  present; die() could never be reached, as the variables checked
	  wouldn't have been set in that case, so it would break because
	  of undefined value or some such thing.... (so it has to check
	  $iter instead)

	- smime.c (init.h, ....)

	  support for importing certificates issued for multiple
	  addresses.

	  introduced smime_fingerprint_cert_command, so finally certs
	  can get compared ... (so the above works..)

	  cleaned up some error messages, that would mess up the terminal.

	  fixed typos (init.h)

	* ascii.c: Fix.

	* ascii.c: Fix ascii_*cmp functions.  Problem noted by Brad
	Thompson.

2002-02-04 09:59:02  roessler  (roessler)

	* smime.c, crypt.c: Some S/MIME fixes from Oliver Ehli
	<elmy@acm.org>.

2002-02-03 09:58:45  roessler  (roessler)

	* doc/manual.sgml.head, doc/muttrc.man.head, init.h: Add
	unauto_view.  From Jeremy Blosser.

	* Makefile.am, pgplib.h, pgppubring.c: Add a "-f" flag which
	helps to dump fingerprints.  Contributed by Jason Harris
	<jharris@widomaker.com>, and not strictly needed for mutt.

	* pgppubring.c: Correctly calculate fingerprints for type 20
	ElGamal keys.  Noted by Jason Harris <jharris@widomaker.com>.

	* pgppubring.c: Fix calculation of fingerprints (and key
	IDs) for type 20 ElGamal keys.	Noted by Jason Harris
	<jharris@widowmaker.com>.

2002-02-02 16:52:27  roessler  (roessler)

	* po/ca.po: update

	* po/ca.po: update.

	* mh.c: Don't forget deletions when a folder is changed.  Ups.

2002-02-01 17:23:20  roessler  (roessler)

	* smime_keys.pl: Fix some possible leaks of the private key
	(encrypted, but still...).  (yow_security_holes.patch from
	Mike Schiraldi.)

2002-01-31 22:05:58  roessler  (roessler)

	* doc/smime-notes.txt: Document %C, and other updates.	From Mike
	Schiraldi.

	* smime.c: Remove some unnecessary quotation marks.

	* contrib/smime.rc, init.h, smime.c, smime.h, smime_keys.pl:
	Use mutt -Q from smime_keys.

	* po/zh_TW.po, po/pt_BR.po, po/ru.po, po/sk.po, po/sv.po,
	po/tr.po, po/uk.po, po/zh_CN.po, po/it.po, po/ja.po, po/ko.po,
	po/lt.po, po/nl.po, po/pl.po, po/da.po, po/de.po, po/el.po,
	po/eo.po, po/es.po, po/et.po, po/fr.po, po/gl.po, po/hu.po,
	po/id.po, po/ca.po, po/cs.po: update-po

	* main.c: fix a string.

	* doc/mutt.man: Document -Q.

	* init.c, main.c, protos.h: Add a -Q option to query configuration
	variables.  This is needed to avoid a separate mutt configuration
	parser in smime_keys.pl.

2002-01-30 22:51:12  roessler  (roessler)

	* send.c, send.c: patch-1.3.27.me.postpone_date.2

	* smime.c: Mike Schiraldi's daily S/MIME patch, as he puts it.

2002-01-29 21:08:10  roessler  (roessler)

	* smime.c: Improved certificate handling.  Suggested by Oliver
	Ehli, implemented by Mike Schiraldi.

	* smime.c: Properly handle certain signatures generated by
	Outlook.  From Mike Schiraldi.

	* parse.c, parse.c: Fix a segmentation fault in debugging code.
	From Daniel Eisenbud.

2002-01-28 23:29:05  roessler  (roessler)

	* crypt.c, init.h, mutt.h: Add a new crypt_timestamp option.
	The timestamps aren't really needed any more.

	* commands.c, menu.c, mutt.h, mutt_curses.h, pattern.c: Add ~V
	to match successfully verified messages.

	* contrib/smime.rc: Add a comment. From Mike Schiraldi.

	* init.h, init.h: Fix list-from documentation.	From Michael
	Elkins.

	* doc/smime-notes.txt: Add more information on S/MIME.
	Adapted from Oliver Ehli's notes by Mike Schiraldi.

	* send.c: Avoid C99 comments.  Noted by Vincent Lefevre.

	* po/ja.po, po/sv.po: updates

	* menu.c, menu.c: Wide character fix from TAKIZAWA Takashi.

	* Makefile.am, hook.c: S/MIME-related bug fixes from Brendan
	Cully.

2002-01-25 00:08:30  roessler  (roessler)

	* smime.c: ups

	* commands.c, recvattach.c, smime.c, smime.h: More decryption
	key detection fixes.

	* commands.c, smime.c: Make some prompts look nicer, and add
	sensible selection of the decryption key.

2002-01-24 23:53:19  roessler  (roessler)

	* commands.c, crypt.c, smime.c, smime.h: More S/MIME nit-picking.

	* mh.c: Fix.

	* mh.c: Still more code clean-up.

	* doc/smime-notes.txt: Update.

	* mx.c: little fix.

	* mh.c: Ups, don't use the wrong check function...

	* mh.c: Clean up the mh code, too.

	* mh.c: indentation

	* mh.c, mx.c, mx.h: Maildir efficiency improvements, from Michael
	Elkins and Thomas Roessler.

	* crypt.c, curs_lib.c, smime.c: S/MIME nits.

	* reap.pl: We don't need this any more.

	* imap/message.c, doc/Makefile.in, doc/smime-notes.txt,
	contrib/Makefile.in, contrib/ca-bundle.crt, contrib/smime.rc,
	Makefile.am, OPS.CRYPT, OPS.PGP, OPS.SMIME, attach.c, commands.c,
	compose.c, configure.in, copy.c, copy.h, crypt.c, crypt.h,
	curs_main.c, functions.h, globals.h, handler.c, hdrline.c,
	headers.c, hook.c, init.c, init.h, keymap.c, keymap.h, main.c,
	mutt.h, muttlib.c, mx.c, pager.c, parse.c, pattern.c, pgp.c,
	pgp.h, pgplib.h, pop.c, postpone.c, protos.h, recvattach.c,
	send.c, sendlib.c, smime.c, smime.h, smime_keys.pl: S/MIME
	support.  From Oliver Ehli <elmy@acm.org> and Mike Schiraldi
	<raldi@research.netsol.com>.

	* po/pt_BR.po, po/pt_BR.po: update

	* doc/manual.sgml.head, doc/muttrc.man.head, attach.c, globals.h,
	init.h, protos.h, rfc1524.c, sendlib.c: Introduce mime_lookup.
	From Brian Foley and Ulf Erikson.

	* po/ru.po, po/ru.po: update

	* mh.c: Make reading maildirs more efficient.

	* VERSION: Pseudo-revision for mutt-1.5.

	* m4/glibc21.m4, m4/gssapi.m4, m4/iconv.m4, m4/lcmessage.m4,
	m4/progtest.m4, m4/funcdecl.m4, m4/gettext.m4, m4/codeset.m4,
	m4/curslib.m4, m4/README, m4/.cvsignore, m4/Makefile.am.in:
	version bump

	* po/sk.po, po/sv.po, po/tr.po, po/uk.po, po/zh_CN.po,
	po/zh_TW.po, po/pl.po, po/pt_BR.po, po/ru.po, po/id.po,
	po/it.po, po/ja.po, po/ko.po, po/lt.po, po/nl.po, po/fr.po,
	po/gl.po, po/hu.po, po/el.po, po/eo.po, po/es.po, po/et.po,
	po/.cvsignore, po/Makefile.in.in, po/POTFILES.in, po/ca.po,
	po/cs.po, po/da.po, po/de.po, imap/.cvsignore, imap/BUGS,
	imap/Makefile.am, imap/README, imap/TODO, imap/auth.c,
	imap/auth.h, imap/auth_anon.c, imap/auth_cram.c, imap/auth_gss.c,
	imap/auth_login.c, imap/auth_sasl.c, imap/browse.c,
	imap/command.c, imap/imap.c, imap/imap.h, imap/imap_private.h,
	imap/message.c, imap/message.h, imap/utf7.c, imap/util.c: more
	version bumps.

	* intl/.cvsignore, intl/COPYING.LIB-2, intl/COPYING.LIB-2.1,
	intl/ChangeLog, intl/Makefile.in, intl/VERSION,
	intl/bindtextdom.c, intl/cat-compat.c, intl/config.charset,
	intl/dcgettext.c, intl/dcigettext.c, intl/dcngettext.c,
	intl/dgettext.c, intl/dngettext.c, intl/explodename.c,
	intl/finddomain.c, intl/gettext.c, intl/gettext.h,
	intl/gettextP.h, intl/hash-string.h, intl/intl-compat.c,
	intl/l10nflist.c, intl/libgettext.h, intl/libgnuintl.h,
	intl/libintl.glibc, intl/linux-msg.sed, intl/loadinfo.h,
	intl/loadmsgcat.c, intl/localcharset.c, intl/locale.alias,
	intl/localealias.c, intl/ngettext.c, intl/plural.c, intl/plural.y,
	intl/po2tbl.sed.in, intl/ref-add.sin, intl/ref-del.sin,
	intl/textdomain.c, intl/xopen-msg.sed: more version number
	updates.

	* doc/.cvsignore, doc/Makefile.in, doc/PGP-Notes.txt,
	doc/applying-patches.txt, doc/devel-notes.txt, doc/dotlock.man,
	doc/instdoc.sh.in, doc/manual.sgml.head, doc/manual.sgml.tail,
	doc/mbox.man, doc/mutt.man, doc/muttbug.man, doc/muttrc.man.head,
	doc/muttrc.man.tail, doc/patch-notes.txt: more version number
	updates

	* contrib/iconv/README, contrib/iconv/iconv.aix-3.2.5.rc,
	contrib/iconv/iconv.aix-4.1.5.rc,
	contrib/iconv/iconv.aix-4.2.0.rc,
	contrib/iconv/iconv.aix-4.3.2.rc,
	contrib/iconv/iconv.freebsd-3.3.rc,
	contrib/iconv/iconv.glibc-2.1.3.rc,
	contrib/iconv/iconv.glibc-2.1.90.rc,
	contrib/iconv/iconv.hpux-10.01.rc,
	contrib/iconv/iconv.hpux-10.20.rc,
	contrib/iconv/iconv.hpux-11.00.rc,
	contrib/iconv/iconv.irix-6.5.rc, contrib/iconv/iconv.osf1-4.0a.rc,
	contrib/iconv/iconv.osf1-4.0d.rc,
	contrib/iconv/iconv.solaris-2.4.rc,
	contrib/iconv/iconv.solaris-2.5.1.rc,
	contrib/iconv/iconv.solaris-2.6-cjk.rc,
	contrib/iconv/iconv.solaris-2.6.rc,
	contrib/iconv/iconv.solaris-2.7.rc, contrib/iconv/make.sh,
	contrib/.cvsignore, contrib/Makefile.in, contrib/Mush.rc,
	contrib/Pine.rc, contrib/Tin.rc, contrib/gpg.rc,
	contrib/language.txt, contrib/language50.txt,
	contrib/patch.slang-1.2.2.keypad.1, contrib/pgp2.rc,
	contrib/pgp5.rc, contrib/pgp6.rc, contrib/sample.mailcap,
	contrib/sample.muttrc, contrib/sample.muttrc-tlr: Bumping more
	version numbers.

	* snprintf.c, sort.c, sort.h, stamp-h.in, status.c, strcasecmp.c,
	strdup.c, system.c, thread.c, url.c, url.h, utf8.c, wcwidth.c,
	pgpkey.c, pgplib.c, pgplib.h, pgpmicalg.c, pgppacket.c,
	pgppacket.h, pgppubring.c, pop.c, pop.h, pop_auth.c, pop_lib.c,
	postpone.c, prepare, protos.h, query.c, reap.pl, recvattach.c,
	recvcmd.c, regex.c, reldate.h, remailer.c, remailer.h,
	resize.c, rfc1524.c, rfc1524.h, rfc2047.c, rfc2047.h,
	rfc2231.c, rfc2231.h, rfc822.c, rfc822.h, score.c, send.c,
	sendlib.c, sha1.c, sha1.h, signal.c, md5.h, md5c.c, menu.c,
	mh.c, mime.h, mime.types, missing, mkinstalldirs, mkjtags.c,
	mutt.h, mutt_curses.h, mutt_menu.h, mutt_regex.h, mutt_sasl.c,
	mutt_sasl.h, mutt_socket.c, mutt_socket.h, mutt_ssl.c,
	mutt_ssl.h, mutt_ssl_nss.c, mutt_tunnel.c, mutt_tunnel.h,
	muttbug, muttbug.sh.in, muttlib.c, mx.c, mx.h, pager.c, pager.h,
	parse.c, patchlist.sh, pattern.c, pgp.c, pgp.h, pgpewrap.c,
	pgpinvoke.c, editmsg.c, enter.c, extlib.c, filter.c, flags.c,
	from.c, functions.h, gen_defs, getdomain.c, gettext.c, globals.h,
	gnupgparse.c, handler.c, hash.c, hash.h, hdrline.c, headers.c,
	help.c, history.c, history.h, hook.c, init.c, init.h, install-sh,
	keymap.c, keymap.h, lib.c, lib.h, mailbox.h, main.c, makedoc.c,
	mapping.h, mbox.c, mbyte.c, mbyte.h, attach.c, attach.h, base64.c,
	browser.c, browser.h, buffy.c, buffy.h, build-release, charset.c,
	charset.h, check_sec.sh, color.c, commands.c, complete.c,
	compose.c, config.guess, config.sub, configure.in, copy.c, copy.h,
	curs_lib.c, curs_main.c, date.c, depcomp, dotlock.c, dotlock.h,
	edit.c, GPL, INSTALL, Makefile.am, Muttrc.head.in, NEWS, OPS,
	OPS.MIX, OPS.PGP, PATCHES, README, README.SECURITY, README.SSL,
	TODO, VERSION, _regex.h, acconfig.h, account.c, account.h,
	addrbook.c, alias.c, ascii.c, ascii.h, .cvsignore, ABOUT-NLS,
	BEWARE, COPYRIGHT, ChangeLog: Bumping version numbers to 3.0,
	for the new unstable branch.

	* send.c: branches:  2.77.2; Set default Fcc when resending
	a message.

	* po/ja.po: branches:  1.33.2; update

2002-01-23 22:37:12  roessler  (roessler)

	* po/da.po: branches:  1.67.2; updates

	* po/el.po: branches:  1.77.2; updates

	* po/et.po: branches:  1.21.2; updates

	* po/ko.po: branches:  1.72.2; updates

	* po/pl.po: branches:  1.94.2; updates

	* po/uk.po, po/id.po: branches:  1.84.2; update

	* charset.c: branches:	2.50.2; Fix #999.  A single missing comma.

2002-01-22 12:12:45  roessler  (roessler)

	* po/pt_BR.po: branches:  1.58.2; automatic post-release commit
	for mutt-1.3.27

	* po/ru.po: branches:  1.129.2; automatic post-release commit
	for mutt-1.3.27

	* po/sk.po: branches:  1.66.2; automatic post-release commit
	for mutt-1.3.27

	* po/sv.po: branches:  1.80.2; automatic post-release commit
	for mutt-1.3.27

	* po/tr.po: branches:  1.25.2; automatic post-release commit
	for mutt-1.3.27

	* po/uk.po: automatic post-release commit for mutt-1.3.27

	* po/zh_CN.po: branches:  1.14.2; automatic post-release commit
	for mutt-1.3.27

	* po/zh_TW.po: branches:  1.11.2; automatic post-release commit
	for mutt-1.3.27

	* po/hu.po: branches:  1.17.2; automatic post-release commit
	for mutt-1.3.27

	* po/id.po: automatic post-release commit for mutt-1.3.27

	* po/it.po: branches:  1.103.2; automatic post-release commit
	for mutt-1.3.27

	* po/ja.po, po/ko.po: automatic post-release commit for
	mutt-1.3.27

	* po/lt.po: branches:  1.25.2; automatic post-release commit
	for mutt-1.3.27

	* po/nl.po: branches:  1.74.2; automatic post-release commit
	for mutt-1.3.27

	* po/pl.po: automatic post-release commit for mutt-1.3.27

	* po/ca.po: branches:  1.6.2; automatic post-release commit
	for mutt-1.3.27

	* po/cs.po: branches:  1.75.2; automatic post-release commit
	for mutt-1.3.27

	* po/da.po: automatic post-release commit for mutt-1.3.27

	* po/de.po: branches:  1.160.2; automatic post-release commit
	for mutt-1.3.27

	* po/el.po: automatic post-release commit for mutt-1.3.27

	* po/eo.po: branches:  1.80.2; automatic post-release commit
	for mutt-1.3.27

	* po/es.po: branches:  1.89.2; automatic post-release commit
	for mutt-1.3.27

	* po/et.po: automatic post-release commit for mutt-1.3.27

	* po/fr.po: branches:  1.108.2; automatic post-release commit
	for mutt-1.3.27

	* po/gl.po: branches:  1.61.2; automatic post-release commit
	for mutt-1.3.27

	* ChangeLog: branches:	2.73.2; automatic post-release commit
	for mutt-1.3.27

	* VERSION: branches:  2.63.2; automatic post-release commit
	for mutt-1.3.27

	* reldate.h: branches:	2.55.2; automatic post-release commit
	for mutt-1.3.27

2002-01-21 17:43:19  roessler  (roessler)

	* po/it.po: update

	* po/sv.po, po/de.po, po/eo.po: updates

	* mutt_ssl.c: A fix from Ulf Erikson, which he says to fix
	bug #989.

2002-01-18 11:44:54  roessler  (roessler)

	* po/zh_CN.po, po/zh_TW.po, po/pt_BR.po, po/ru.po, po/sk.po,
	po/sv.po, po/tr.po, po/uk.po, po/hu.po, po/id.po, po/it.po,
	po/ja.po, po/ko.po, po/lt.po, po/nl.po, po/pl.po, po/eo.po,
	po/es.po, po/et.po, po/fr.po, po/gl.po, VERSION, po/ca.po,
	po/cs.po, po/da.po, po/de.po, po/el.po, reldate.h, ChangeLog:
	automatic post-release commit for mutt-1.3.26

2002-01-17 22:41:45  roessler  (roessler)

	* configure.in: branches:  2.129.2; Use ncurses.h for configure
	tests, if present.

2002-01-16 20:44:49  roessler  (roessler)

	* config.guess, config.sub, missing, mkinstalldirs: Updated auto*
	files. From Lars Hecking.

	* curs_main.c: patch-1.3.25-de-new_threads.1

	* protos.h: branches:  2.86.2; patch-1.3.25-de-new_threads.1

	* thread.c: branches:  2.27.2; patch-1.3.25-de-new_threads.1

2002-01-15 22:08:12  roessler  (roessler)

	* acconfig.h, configure.in: Configure and config.h cleanup.
	From Lars Hecking.

	* handler.c: branches:	2.52.2; Don't hallucinate a '\n' in the
	end of quoted-printable encoded attachments.

	* po/fr.po: update.

	* flags.c: patch-1.3.25.tlr.maildir_trash.1

	* mh.c: branches:  2.42.2; patch-1.3.25.tlr.maildir_trash.1

	* mutt.h: branches:  2.111.2; patch-1.3.25.tlr.maildir_trash.1

	* mx.c: branches:  2.63.2; patch-1.3.25.tlr.maildir_trash.1

	* po/ko.po: update

	* init.c: branches:  2.60.2; Avoid reading past the end of ta
	string when handling \ or ^ sequences.	From Michael Elkins.

	* po/tr.po, po/uk.po, po/zh_CN.po, po/zh_TW.po, po/nl.po,
	po/pl.po, po/pt_BR.po, po/ru.po, po/sk.po, po/sv.po, po/gl.po,
	po/hu.po, po/id.po, po/it.po, po/ja.po, po/ko.po, po/lt.po,
	po/de.po, po/el.po, po/eo.po, po/es.po, po/et.po, po/fr.po,
	po/ca.po, po/cs.po, po/da.po, pgpkey.c: Shorten some messages.
	Noted by Jeremy Blosser.  #978.

	* pattern.c: branches:	2.23.2; Fix an off-by-one error.

2002-01-14 09:03:31  roessler  (roessler)

	* imap/imap.c: branches:  1.90.2; fix another case-sensitive
	comparison.

2002-01-13 21:19:25  roessler  (roessler)

	* ascii.h: Fix the ascii_strncmp() macro.

	* imap/auth_sasl.c: Parse IMAP responses locale- and case-
	insensitive.  From Brendan Cully.

	* imap/browse.c: branches:  1.34.2; Parse IMAP responses locale-
	and case- insensitive.	From Brendan Cully.

	* imap/command.c: branches:  1.35.2; Parse IMAP responses locale-
	and case- insensitive.	From Brendan Cully.

	* imap/imap.c: Parse IMAP responses locale- and case- insensitive.
	From Brendan Cully.

	* imap/message.c: branches:  1.60.2; Parse IMAP responses locale-
	and case- insensitive.	From Brendan Cully.

	* imap/util.c: branches:  1.51.2; Parse IMAP responses locale-
	and case- insensitive.	From Brendan Cully.

	* muttlib.c: branches:	2.52.2; A different fix for the '\012'
	issue.	Bug tracked down by Johannes Geiger <geiger@ePost.de>.

	* pager.c: A different fix for the '\012' issue.  Bug tracked
	down by Johannes Geiger <geiger@ePost.de>.

2002-01-12 11:42:18  roessler  (roessler)

	* NEWS: More on ~=.

	* doc/manual.sgml.head: branches:  1.73.2; Add a ~= pattern.
	From Frederic Duval.

	* doc/muttrc.man.head: branches:  1.16.2; Add a ~= pattern.
	From Frederic Duval.

	* mutt.h, pattern.c: Add a ~= pattern.	From Frederic Duval.

	* doc/manual.sgml.head: Fix a typo, #971.

2002-01-09 15:39:28  roessler  (roessler)

	* pgp.c: Fix #960.

2002-01-08 13:06:21  roessler  (roessler)

	* mx.c: Try to fix #943.

	* INSTALL: branches:  2.15.2;  2.15.4; fix libiconv URL.  #959.

	* NEWS: fix libiconv URL.  #959.

2002-01-07 19:10:51  roessler  (roessler)

	* po/ko.po: update

	* attach.c: branches:  2.29.2; Fix #951.

2002-01-04 14:30:29  roessler  (roessler)

	* rfc822.c: Terminate the correct buffer.  Noted by Durval
	Menezes <durval@tmp.com.br>.  (This bug shouldn't have any
	security implications. ;-)

	* po/et.po, po/fr.po, po/pl.po, po/sv.po: updates.

2002-01-03 20:57:20  roessler  (roessler)

	* mutt_ssl.c, mutt_ssl.h, mutt_ssl_nss.c, globals.h: Move some
	globals where they belong.  From Brendan Cully.

2002-01-02 16:28:46  roessler  (roessler)

	* acconfig.h: Cleanup; from Lars Hecking.

	* mutt_ssl.c: Replace a few strncpy() calls by strfcpy().

	* recvcmd.c: Bug fix.  Problem noted by Vincent Lefevre's
	compiler.

	* muttlib.c: Fix the \012 bug.

2002-01-01 20:18:41  roessler  (roessler)

	* po/zh_TW.po, po/pt_BR.po, po/ru.po, po/sk.po, po/sv.po,
	po/tr.po, po/uk.po, po/zh_CN.po, po/hu.po, po/id.po, po/it.po,
	po/ja.po, po/ko.po, po/lt.po, po/nl.po, po/pl.po, po/da.po,
	po/de.po, po/el.po, po/eo.po, po/es.po, po/et.po, po/fr.po,
	po/gl.po, po/Makefile.in.in, po/ca.po, po/cs.po, reldate.h,
	ChangeLog, VERSION: automatic post-release commit for mutt-1.3.25

	* intl/COPYING.LIB-2, intl/COPYING.LIB-2.1: ups, these were
	missing from the CVS.

	* po/ca.po: update.

	* po/uk.po, po/zh_TW.Big5.po, po/sk.po, po/sv.po, po/ru.po,
	po/pl.po, po/pt_BR.po, po/ko.po, po/nl.po, po/it.po, po/gl.po,
	po/id.po, po/es.po, po/fr.po, po/el.po, po/eo.po, po/de.po,
	po/cs.po, po/da.po, ChangeLog, VERSION, rfc822.c: post-release
	commit for mutt-1.2.5.1.

	* rfc822.c: Fix a security problem.

2001-12-28 17:19:00  roessler  (roessler)

	* protos.h, recvcmd.c, send.c: Make sure References and
	In-Reply-To headers are generated properly when the user replies
	to one or more message-type attachments.

2001-12-26 19:24:46  roessler  (roessler)

	* imap/imap.c: Possible fix for #905.	From Daniel Eisenbud.

2001-12-21 00:22:12  roessler  (roessler)

	* pager.c: Fix #929.

2001-12-18 15:13:18  roessler  (roessler)

	* imap/imap.c, imap/imap.h: Fix from #918.  From
	<ntyni+mutt@mappi.helsinki.fi>.

	* browser.c: branches:	2.38.2; Fix from #918.	From
	<ntyni+mutt@mappi.helsinki.fi>.

	* po/Makefile.in.in: Updating to gettext-0.10.40.

	* m4/gettext.m4: branches:  1.7.2;  1.7.4; Updating to
	gettext-0.10.40.

	* m4/iconv.m4: branches:  1.3.2; Updating to gettext-0.10.40.

	* m4/lcmessage.m4: branches:  1.3.2;  1.3.4; Updating to
	gettext-0.10.40.

	* m4/progtest.m4: branches:  1.4.2;  1.4.4; Updating to
	gettext-0.10.40.

	* ABOUT-NLS: branches:	2.1.2;	2.1.4; Updating to
	gettext-0.10.40.

	* intl/ChangeLog, intl/Makefile.in: branches:  1.3.2;  1.3.4;
	Updating to gettext-0.10.40.

	* intl/VERSION: Updating to gettext-0.10.40.

	* intl/bindtextdom.c: branches:  1.5.2;  1.5.4; Updating to
	gettext-0.10.40.

	* intl/config.charset: branches:  1.2.2;  1.2.4; Updating to
	gettext-0.10.40.

	* intl/dcgettext.c: Updating to gettext-0.10.40.

	* intl/dcigettext.c: branches:	1.2.2;	1.2.4; Updating to
	gettext-0.10.40.

	* intl/dcngettext.c, intl/dgettext.c, intl/dngettext.c,
	intl/explodename.c, intl/finddomain.c, intl/gettext.c,
	intl/gettext.h: Updating to gettext-0.10.40.

	* intl/gettextP.h, intl/hash-string.h: branches:  1.4.2;  1.4.4;
	Updating to gettext-0.10.40.

	* intl/intl-compat.c: Updating to gettext-0.10.40.

	* intl/l10nflist.c: branches:  1.5.2;  1.5.4; Updating to
	gettext-0.10.40.

	* intl/libgettext.h: Updating to gettext-0.10.40.

	* intl/libgnuintl.h: branches:	1.2.2;	1.2.4; Updating to
	gettext-0.10.40.

	* intl/loadinfo.h: branches:  1.4.2;  1.4.4; Updating to
	gettext-0.10.40.

	* intl/loadmsgcat.c: branches:	1.5.2;	1.5.4; Updating to
	gettext-0.10.40.

	* intl/localcharset.c: branches:  1.2.2;  1.2.4; Updating to
	gettext-0.10.40.

	* intl/locale.alias: Updating to gettext-0.10.40.

	* intl/localealias.c: branches:  1.5.2;  1.5.4; Updating to
	gettext-0.10.40.

	* intl/ngettext.c: Updating to gettext-0.10.40.

	* intl/plural.c, intl/plural.y: branches:  1.2.2;  1.2.4;
	Updating to gettext-0.10.40.

	* intl/textdomain.c: Updating to gettext-0.10.40.

2001-12-17 10:08:18  roessler  (roessler)

	* edit.c: Fix a memory allocation bug.	#917.

	* thread.c: Another threading update.

	* hdrline.c: branches:	2.27.2; Another threading update.

2001-12-13 12:10:59  roessler  (roessler)

	* menu.c: branches:  2.27.2; Threading updates, from Daniel
	Eisenbud.

	* mutt.h, sort.c, thread.c: Threading updates, from Daniel
	Eisenbud.

	* pager.c: compile fix.

2001-12-11 23:30:59  roessler  (roessler)

	* doc/muttrc.man.head: Typo, #911.

	* po/it.po: update

	* contrib/gpg.rc: Remove an unnecessary \-quoting.

	* init.c, pager.c: Add a missing else.

	* contrib/gpg.rc: Use gettext to determine the good signature
	pattern.

	* init.c: Make "`...`" work as expected.

	* po/it.po: update.

2001-12-10 13:12:41  roessler  (roessler)

	* query.c: Fix #910.

	* init.h: branches:  2.143.2; Change the default for
	$pgp_replyencrypt to "yes".

	* po/ja.po, po/pl.po: updates.

2001-12-09 09:12:08  roessler  (roessler)

	* po/ca.po, configure.in: Add a Catalan translation.  From Ivan
	Vilata i Balaguer <ivan@selidor.net>.

2001-12-04 10:28:22  roessler  (roessler)

	* po/ru.po: update

2001-12-03 18:36:09  roessler  (roessler)

	* po/da.po, po/de.po: update.

	* mx.c: Try to detect write() errors by calling fsync() after
	fflush().  May fix #895.

2001-11-29 09:43:41  roessler  (roessler)

	* po/zh_TW.po, po/zh_CN.po, po/sk.po, po/sv.po, po/tr.po,
	po/uk.po, po/nl.po, po/pl.po, po/pt_BR.po, po/ru.po, po/hu.po,
	po/id.po, po/it.po, po/ja.po, po/ko.po, po/lt.po, po/eo.po,
	po/es.po, po/et.po, po/fr.po, po/gl.po, ChangeLog, VERSION,
	po/cs.po, po/da.po, po/de.po, po/el.po, reldate.h: automatic
	post-release commit for mutt-1.3.24

2001-11-28 10:30:36  roessler  (roessler)

	* po/id.po: update

2001-11-26 19:16:52  roessler  (roessler)

	* PATCHES: PATCHES should be _empty_ in the CVS version.  Ups.

	* PATCHES: patch-1.3.23.2.tt.wcwidth_ja.1.  Fix wcwidth_ja(),
	from Takizawa Takashi <taki@luna.email.ne.jp>.

	* mbyte.c: branches:  2.18.2; patch-1.3.23.2.tt.wcwidth_ja.1.
	Fix wcwidth_ja(), from Takizawa Takashi <taki@luna.email.ne.jp>.

	* handler.c, muttlib.c: patch-1.3.23.2.bj.state_attach_puts.1,
	from Byrial Jensen.  This patch is supposed to make one message
	more friendly to translators.

	* po/et.po, po/ja.po, po/pl.po, po/ru.po, po/da.po, po/de.po:
	updates.

2001-11-21 13:58:42  roessler  (roessler)

	* handler.c: Use $wrapmargin in the format=flowed handler, too.

	* pager.c, globals.h, init.h: Add a $wrapmargin configuration
	variable to fine-tune

2001-11-19 10:41:32  roessler  (roessler)

	* hash.c: Fix #868, #876.  Work-around from Len Lattanzi
	<len@mss.migration.com>.

	* hdrline.c, protos.h, thread.c: Fix mutt_messages_in_thread().
	From Daniel Eisenbud.  (patch-1.3.23.2-de-new_threads.2-3.gz).

2001-11-15 18:53:23  roessler  (roessler)

	* remailer.c: Should be slightly better than a mixmaster
	patch suggested by Stefan Karrmann <sk@mathematik.uni-ulm.de>.
	(UNTESTED!)

2001-11-12 09:53:54  roessler  (roessler)

	* sort.c, thread.c: patch-1.3.23.2-de-new_threads.2

2001-11-10 08:14:52  roessler  (roessler)

	* po/eo.po, po/fr.po: update

2001-11-09 09:28:55  roessler  (roessler)

	* mh.c: Add some NONULL's (#863)

	* Makefile.am: branches:  2.101.2; Distribute patchlist.sh.  Ups.

2001-11-08 22:42:45  roessler  (roessler)

	* po/uk.po, po/zh_CN.po, po/zh_TW.po, po/sk.po, po/sv.po,
	po/tr.po, po/pt_BR.po, po/ru.po, po/nl.po, po/pl.po, po/id.po,
	po/it.po, po/ja.po, po/ko.po, po/lt.po, po/gl.po, po/hu.po,
	po/et.po, po/fr.po, VERSION, po/cs.po, po/da.po, po/de.po,
	po/el.po, po/eo.po, po/es.po, reldate.h, ChangeLog: automatic
	post-release commit for mutt-1.3.23.2

	* pager.c, init.h, mutt.h: Add an $allow_ansi option.  Suggested
	and (mostly) implemented by Mike Schiraldi.

	* Makefile.am: Don't depend on GNU make.  Noted by Bob Bell.

	* pgp.c: Fix some messages, so the color marker is actually in
	the beginning of a new line.

	* globals.h, handler.c, init.c, mutt.h, muttlib.c, pager.c,
	pgp.c: somewhat cleaner in-band-signalling between the handlers
	and the pager.	In particular, it's more difficult now to get
	fake PGP and other mutt-generated "[-- " messages colored.

	* commands.c: branches:  2.50.2; patch-1.3.23.1-de-new_threads.3-4

	* curs_main.c, init.c, init.h, mutt.h, sort.c, thread.c:
	patch-1.3.23.1-de-new_threads.3-4

	* handler.c: 2.47 introduced another bug.  I should go to bed now.

	* handler.c: Replace a ridiculous for loop by a proper
	calculation.  Ahem.

	* handler.c, pager.c: Use a slightly different reset sequence
	for the format=flowed hack, and don't send any such sequence
	when we aren't in the internal pager.

	* pager.c: Trying to fix #738.

2001-11-07 22:25:09  roessler  (roessler)

	* handler.c: Fix #860.	Noted: The format=flowed code is not
	yet utf-8 aware.

	* addrbook.c: Fix #858.

	* doc/patch-notes.txt, Makefile.am: Implement the patchlist
	scheme instead of version number munging.

	* main.c: branches:  2.55.2; Implement the patchlist scheme
	instead of version number munging.

	* muttlib.c, patchlist.sh, protos.h: Implement the patchlist
	scheme instead of version number munging.

	* sendlib.c: branches:	2.94.2; Implement the patchlist scheme
	instead of version number munging.

	* complete.c: Fix 706, 853.

	* commands.c, init.h, mutt.h, thread.c:
	patch-1.3.23.1-de-new_threads.2-3

2001-11-06 20:38:17  roessler  (roessler)

	* mutt.h, sort.c, sort.h, thread.c, menu.c:
	[patch.1.3.23.1.de.new_threads.2]  Daniel Eisenbud's redone
	threading code, version two.

	* doc/patch-notes.txt: fix a typo.

	* PATCHES: uuups, there was a "test" left over.

	* doc/PGP-Notes.txt: Some part of this documentation was severely
	outdated.

	* doc/Makefile.in, doc/patch-notes.txt, Makefile.am, PATCHES,
	configure.in, main.c, muttlib.c, protos.h, sendlib.c: Add and
	document a new mechanism for displaying patches in running
	mutts' output.

	* send.c: Indentation fixing while staring at the code affected
	by #857.  No fix for the crash, though.

	* doc/manual.sgml.head, doc/muttrc.man.head, alias.c, init.c: Fix
	an addressbook bug, and introduce "unalias *".	From "g.c.w. de
	bruijn" <geerd.debruijn@nl.thalesgroup.com>.

2001-11-05 21:38:18  roessler  (roessler)

	* imap/browse.c, imap/imap.c, imap/util.c, mutt_ssl.c,
	mutt_ssl_nss.c: Missing gettext calls, noted by Byrial Jensen.

	* pop.c: branches:  2.22.2; Missing gettext calls, noted by
	Byrial Jensen.

	* thread.c: Missing gettext calls, noted by Byrial Jensen.

	* commands.c: Make the save-copy prompt more translator-friendly.
	from Byrial Jensen.

	* po/da.po, po/de.po, po/eo.po, po/fr.po, po/ja.po, po/pl.po:
	updates

	* mh.c: Fix a segmentation fault which occurs when mutt's get-mail
	POP mode is used with a maildir spool folder.  Noted by Frédéric
	L. W.  Meunier <0@pervalidus.net>.

	* mutt_socket.c, pop.c: Vsevolod Volkov's fix for #851, and a
	related bug.

	* headers.c, muttlib.c, protos.h, send.c: Byrial Jensen's
	mtime hack is needed at more than one place.  Noted by Manoj
	Kasichainula.

2001-10-31 09:38:07  roessler  (roessler)

	* po/tr.po, po/uk.po, po/zh_CN.po, po/zh_TW.po, po/es.po,
	po/et.po, po/fr.po, po/gl.po, po/hu.po, po/id.po, po/it.po,
	po/ja.po, po/ko.po, po/lt.po, po/nl.po, po/pl.po, po/pt_BR.po,
	po/ru.po, po/sk.po, po/sv.po, ChangeLog, VERSION, po/cs.po,
	po/da.po, po/de.po, po/el.po, po/eo.po, reldate.h: automatic
	post-release commit for mutt-1.3.23.1

	* imap/message.c, commands.c, curs_main.c, flags.c, hdrline.c,
	init.h: Advanced threading, v 5.1.  From Daniel Eisenbud
	<eisenbud@cs.swarthmore.edu>.

	* mbox.c: branches:  2.22.2; Advanced threading, v 5.1.
	From Daniel Eisenbud <eisenbud@cs.swarthmore.edu>.

	* menu.c, mh.c, mutt.h, mx.c, mx.h: Advanced threading, v 5.1.
	From Daniel Eisenbud <eisenbud@cs.swarthmore.edu>.

	* parse.c: branches:  2.39.2; Advanced threading, v 5.1.
	From Daniel Eisenbud <eisenbud@cs.swarthmore.edu>.

	* pop.c, postpone.c, protos.h, sort.c, sort.h, thread.c:
	Advanced threading, v 5.1.  From Daniel Eisenbud
	<eisenbud@cs.swarthmore.edu>.

	* pgpewrap.c: branches:  2.3.2; Add magic comment so we can use
	traditional malloc() in this program.

2001-10-30 22:43:23  roessler  (roessler)

	* init.h: .mh_sequences fix, from lorenzo@cisco.com.

	* mutt_socket.c, mutt_ssl.c: TLS connection reuse.  From Brendan
	Cully.

2001-10-29 23:21:48  roessler  (roessler)

	* pager.c: Fix two places which _may_ look like buffer overflows,
	but aren't.

	* url.c: Fix #843.

	* doc/manual.sgml.head: Make the documentation of toggle-unlink
	more precise - someone on comp.mail.mutt got confused by this.

2001-10-28 19:46:43  roessler  (roessler)

	* imap/browse.c, imap/imap.c: Fix 839

	* po/fr.po: update

	* sendlib.c: Another aesthetic message-id change.

	* sendlib.c: GMT's too clumsy.	Just take G.

	* sendlib.c: Use GMT for message-IDs.  Note: The addition of
	the constant string "GMT" is so intended to avoid the production
	of duplicate message-IDs when mutts running in time zones ahead
	GMT are updated.

	* po/ru.po: update.

	* url.c: Another bug related to #837.

	* imap/util.c: Fix a problem related to #837 (the bug isn't
	entirely close, though).

2001-10-26 23:53:29  roessler  (roessler)

	* doc/manual.sgml.head: Point to the openProjects.net IRC channel
	instead of dal.net.

2001-10-25 07:54:35  roessler  (roessler)

	* pgp.c: Handle clearsigned messages gracefully even when
	pgp_verify_sig is set and pgp_decode_command is unset.

2001-10-24 11:08:22  roessler  (roessler)

	* complete.c: Suspected fix for #837.

2001-10-22 09:28:26  roessler  (roessler)

	* imap/util.c, globals.h, init.h: Make IMAP keepalive
	configurable.  From Brendan Cully.

2001-10-17 17:03:19  roessler  (roessler)

	* curs_main.c: Fix #829.

	* sendlib.c: Fix #828: Sendmail is now invoked with stdout and
	stderr redirected to /dev/null.  Apparently, sendmail 8.12.1
	doesn't like to be invoked with stderr and stdout closed.

	* curs_main.c: Fix CURHDR confusion.  Mutt should compile now.
	(Sorry for not committing this earlier.)

2001-10-16 14:29:27  roessler  (roessler)

	* addrbook.c, keymap.c: Address book nit fix from
	geerd.debruijn@nl.thalesgroup.com.

	* po/ja.po, po/it.po: update

2001-10-15 20:18:32  roessler  (roessler)

	* rfc2047.c: branches:	2.35.2; Close #821.  Fix provided
	by Edmund.

	* curs_main.c: AIX portability patch.  Suggested by Jan Chrillesen
	<jan@chrillesen.dk>.

	* doc/manual.sgml.tail: branches:  1.15.2; Fixing a nit, From
	David Ellement.

2001-10-12 09:03:26  roessler  (roessler)

	* po/fr.po: update

2001-10-11 20:08:44  roessler  (roessler)

	* imap/message.c: Small fix from Edmund GRIMLEY EVANS
	<edmundo@rano.org>.

	* compose.c: branches:	2.48.2; Little fix from
	sroberts@certicom.com.

	* po/eo.po: update

	* pgpewrap.c: Add public domain notice.

	* Makefile.am, configure.in, pgpewrap, pgpewrap.c: Include C
	version of pgpewrap, by Wessel Dankers <wsl@fruit.eu.org>.

	* po/da.po: update

	* compose.c: Unify "Can't stat" messages.  Suggested by Byrial.

	* editmsg.c: branches:	2.12.2; Unify "Can't stat" messages.
	Suggested by Byrial.

	* sendlib.c: Unify "Can't stat" messages.  Suggested by Byrial.

2001-10-10 23:37:06  roessler  (roessler)

	* mh.c: Fix #560.

	* pager.c: Fix minor snafu in Vsevolod's patch about important
	flags for POP folders.

	* main.c: Mess around with signal handlers.  Allegedly, this
	helps to get things working with Solaris 8.  See #455.

	* imap/message.c: Try to fix #302.

	* curs_main.c, pager.c: Don't allow setting the "important"
	flag when message resides on a POP server.

	* curs_lib.c: Rename pad_char to m_pad_char - AIX curses
	have a macro called pad_char.  Noted by Jan Chrillesen
	<jan@chrillesen.dk>.

	* pager.c: Patch from #272 (from acli@mingpaoxpress.com).

	* browser.c: Fix #813.

	* mx.c: Another consistency fix for maildir_trash.

	* mh.c, mx.c: Experimental patch to make maildir_trash handling
	more consistent.

	* buffy.c: branches:  2.21.2; maildir buffy: Don't consider
	"trashed" new messages new. Fixes #412.

	* main.c: Include platform information with mutt -v output.

	* muttbug.sh.in: Include some information about the compiler
	and compiler flags used with bug reports.

	* po/pl.po: update

	* po/fr.po, po/de.po: updates.

2001-10-09 09:29:55  roessler  (roessler)

	* getdomain.c: A different fix for #767.

	* po/tr.po, po/uk.po, po/zh_CN.po, po/zh_TW.po, po/ru.po,
	po/sk.po, po/sv.po, po/pt_BR.po, po/it.po, po/ja.po, po/ko.po,
	po/lt.po, po/nl.po, po/pl.po, po/eo.po, po/es.po, po/et.po,
	po/fr.po, po/gl.po, po/hu.po, po/id.po, po/cs.po, po/da.po,
	po/de.po, po/el.po, reldate.h, ChangeLog, VERSION: automatic
	post-release commit for mutt-1.3.23

2001-10-07 06:43:52  roessler  (roessler)

	* doc/manual.sgml.head: We do update .mh_sequences files now.

2001-10-06 09:31:44  roessler  (roessler)

	* doc/manual.sgml.head: Documentation for check-traditional-pgp
	and for edit-type when used in read mode.

2001-10-02 22:20:03  roessler  (roessler)

	* enter.c: Fix #801.

2001-10-01 09:58:49  roessler  (roessler)

	* mh.c: Create mh_sequences files when they don't exist.
	Suggested by TAKIZAWA Takashi <taki@luna.email.ne.jp>.

2001-09-28 08:38:44  roessler  (roessler)

	* charset.c: More character set aliases, from Ionel Mugurel
	Ciobica <tgakic@sg10.chem.tue.nl>.

	* pager.c: Color fix from Brandon Long.  Welcome back!

2001-09-26 10:56:52  roessler  (roessler)

	* mh.c: OK, I couldn't resist. ;-)

	Depending on the user's usage patterns and configuration, there
	may be a strong bias in maildir files moving either within the
	new or to the cur subfolder. This patch adds hit counters for
	each of these directories. Mutt will then look first into the
	directory encountered more frequently in the past.  This should
	help to reduce the cost of chasing messages a bit, and isn't
	too costly itself.

	(Another possibility for optimization may be to actually base
	the prediction on the configuration and on the message flags
	as we know them - in particular, the mark_old and move options
	could have some effect here.  Thinking about message flags, one
	could even replace the simple heuristic currently implemented by
	a matrix recording hit counters depending on flags.  But then
	again, it's all just playing around, since this function will
	be invoked only rarely. ;-)

	* attach.c, commands.c, copy.c, copy.h, handler.c, mutt.h,
	recvattach.c: Fix inconsistencies between printing and displaying
	of message/rfc822 body parts.

	* attach.c: Fix attachment printing.

	* mh.c, mx.c, mx.h: Search for messages which may have been moving
	under our feet in maildir folders.  Suggested by Bjoern Jacke.

	* contrib/gpg.rc: Remove --comment '' - it breaks pgpewrap and
	isn't necessary with more recent gpg versions.

2001-09-21 09:35:18  roessler  (roessler)

	* po/pl.po: update

2001-09-17 10:19:10  roessler  (roessler)

	* send.c: fix #737.

2001-09-14 08:19:30  roessler  (roessler)

	* po/id.po: update

2001-09-11 12:24:32  roessler  (roessler)

	* addrbook.c, alias.c, init.c, menu.c, mutt.h, query.c: More
	addressbook fixes.

	* addrbook.c, attach.h, browser.c, functions.h, init.c, init.h,
	keymap.c, keymap.h, menu.c, mutt.h, mutt_menu.h, recvattach.c:
	The addressbook used to crash when someone issued the alias and
	unalias commands while on that menu.  This patch has a basic fix
	for this behaviour, and adds delete and undelete functions to
	this menu.  While I'm on it, I've also made sure that "apply-tag"
	untags everything on all menus.

	The original crash was noted by Oliver Kauss <kauss@gmx.de>.

2001-09-08 14:23:05  roessler  (roessler)

	* init.c: Thomas Guettler <thomas@thomas-guettler.de> reports
	a segfault when you search for "~b \\${".

	* po/zh_TW.po: update

2001-09-06 12:10:10  roessler  (roessler)

	* po/pl.po: update

	* curs_main.c: Try to fix a boundary condition: Assume that you
	are in a limited view which includes the folder's last message.
	Display that message.  Wait until a new message is added to the
	current folder which does NOT match the limit pattern. Press tab.
	Mutt would get confused.  I think that this patch fixes the
	problem (but I'm not entirely sure).

2001-09-05 12:09:44  roessler  (roessler)

	* sendlib.c: BSD/OS portability fix from Edmund Grimley Evans.
	#758.

	* imap/imap.c, init.h: patch-1.3.22.1.remove_warnings.awn.1,
	from Andrew W. Nosenko.

2001-09-04 19:12:23  roessler  (roessler)

	* po/da.po: update

	* imap/util.c, mutt_socket.c, muttlib.c, pop.c, url.c, url.h:
	patch-bac.canonifypath-4.

	The attached patch reverts the IMAP canonification patch I
	reverted a version ago (sorry for being so wishy-washy). This
	time I put in some code to preserve IMAP URL passwords in the
	initial pass, so people who like to use those sorts of URLs still
	can. That was the only reason I had reverted the patch before.

	(From Brendan Cully.)

	* po/ja.po, po/ru.po, po/uk.po: updates

	* mutt_tunnel.c: patch-bac.tunnelreopen-1 from Brendan Cully.

2001-09-03 13:59:37  roessler  (roessler)

	* curs_main.c, thread.c: Don't lose track of the current message
	when collapsing and changing sort modes wildly.  Noted by
	David T-G.

	* NEWS, globals.h, init.h, mh.c: Make MH sequences variable.

	* po/de.po: update

	* sendlib.c: Don't try to attach non-regular files.  #754.

2001-08-31 09:21:55  roessler  (roessler)

	* NEWS: Mention mailto URL support.

	* imap/imap.c, imap/util.c, imap/command.c: Fix some memory leaks.
	From Pawel Salek, by way of Brendan Cully.

2001-08-30 21:30:39  roessler  (roessler)

	* po/sv.po, po/tr.po, po/uk.po, po/zh_CN.po, po/pt_BR.po,
	po/ru.po, po/sk.po, po/lt.po, po/nl.po, po/pl.po, po/it.po,
	po/ja.po, po/ko.po, po/gl.po, po/hu.po, po/id.po, po/et.po,
	po/fr.po, po/eo.po, po/es.po, po/el.po, po/da.po, po/de.po,
	ChangeLog, VERSION, doc/Makefile.in, po/cs.po: automatic
	post-release commit for mutt-1.3.22.1

	* po/uk.po, po/zh_CN.po, po/sk.po, po/sv.po, po/tr.po,
	po/pt_BR.po, po/ru.po, po/pl.po, po/lt.po, po/nl.po, po/it.po,
	po/ja.po, po/ko.po, po/hu.po, po/id.po, po/gl.po, po/et.po,
	po/fr.po, po/eo.po, po/es.po, po/el.po, po/de.po, po/da.po,
	ChangeLog, VERSION, po/cs.po, reldate.h: automatic post-release
	commit for mutt-1.3.22

	* contrib/sample.muttrc-tlr: update

	* build-release: branches:  2.17.2; more preparations for
	stabilizing 1.3.

	* Makefile.am, README.UPGRADE: README.UPGRADE is quite outdated.

	* doc/muttrc.man.head, NEWS: documentation updates.

	* doc/mutt.man: branches:  1.16.2; mention ~/.mutt/muttrc

	* curs_main.c: Fix #750 / deb#108628.

	* pop_auth.c: patch-20010829.vvv.pop_auth

2001-08-28 20:39:04  roessler  (roessler)

	* handler.c: Don't do character conversion when we call an
	external handler for a text type.  Assume that the conversion
	is done there.

	* po/da.po: update

2001-08-24 08:07:42  roessler  (roessler)

	* sendlib.c: Don't use the 7bit encoding for non-text MIME types.
	This may produce slightly longer messages, but it helps to
	avoid corruption with binary attachments which look like text,
	but aren't.

	* po/de.po: update

	* sendlib.c: More liberally apply MIME encodings to non-text
	body parts when there's a ^From_ line.

2001-08-23 19:10:04  roessler  (roessler)

	* po/eo.po, po/sv.po: update

2001-08-22 14:41:32  roessler  (roessler)

	* po/et.po, po/fr.po: update

	* pop_auth.c: This should fix the warnings which A. Nosenko found.
	(And may introduce new ones about unused variables.)

2001-08-21 21:54:33  roessler  (roessler)

	* po/zh_CN.po, po/sk.po, po/sv.po, po/tr.po, po/uk.po,
	po/pt_BR.po, po/ru.po, po/pl.po, po/ja.po, po/ko.po, po/lt.po,
	po/nl.po, po/hu.po, po/id.po, po/it.po, po/fr.po, po/gl.po,
	po/et.po, po/el.po, po/eo.po, po/es.po, po/da.po, po/de.po,
	po/cs.po, reldate.h, VERSION, ChangeLog: automatic post-release
	commit for mutt-1.3.21

2001-08-20 12:11:28  roessler  (roessler)

	* mx.c: Check for .mew-cache in MH folders.

2001-08-16 12:42:30  roessler  (roessler)

	* sendlib.c: Mutt's detection of overly long lines would fail
	with text files when the long line is the last one, and is
	not finished by a newline character.  This can, for instance,
	happen when you send out macintosh-generated HTML files.

	(And, apparently, we hit some boundary somewhere in the PGP code
	with that - I had some truncated attachments today.)

2001-08-13 16:12:08  roessler  (roessler)

	* pop.c: fix content-length headers.

	* mh.c: Fix treatment of maildir folders.  We partially used mh
	routines for these, introducing absurdities such as .mh_sequences
	files.

2001-08-12 10:15:15  roessler  (roessler)

	* init.c, init.h: Fix the "strange e-mail header" bug.	It was
	an uninitialized buffer.  Thanks to Brendan Cully for figuring
	it out.

2001-08-11 17:39:13  roessler  (roessler)

	* muttlib.c: Undo an earlier change to _mutt_expand_path, which
	seems to have caused problems.	From Brendan Cully.

	* config.guess, config.sub: Update.  Thanks, Brendan!

2001-08-09 11:28:09  roessler  (roessler)

	* po/uk.po, po/ja.po: update

2001-08-08 19:27:50  roessler  (roessler)

	* doc/manual.sgml.tail: Adding someone I forgot.

2001-08-07 12:45:51  roessler  (roessler)

	* doc/manual.sgml.tail: Update credits.  I'm sure I forgot some
	people.  If you feel you're one of them, please drop me a line!

2001-08-06 17:49:06  roessler  (roessler)

	* curs_lib.c: Here's a fix to allow (n)curses versions to work
	with some terminfo entries where (for whatever reason), someone
	specified cvvis but not cnorm. From a report/discussion with
	Mario Vanoni <vanonim@dial.eunet.ch>. (From Thomas Dickey.)

	* buffy.c: Another little MH buffy bug.  From Len Lattanzi
	<Len.Lattanzi@Migration.com>.

2001-08-03 16:55:41  roessler  (roessler)

	* mh.c: fix an mh_buffy segfault.

	* configure.in: Don't default to "no" when we can't find sendmail.
	#713; Brendan Cully.

	* buffy.c, mh.c, mx.h: MH buffy.

2001-08-02 22:59:16  roessler  (roessler)

	* contrib/gpg.rc: Don't emit a comment armor header at all.

	* mh.c: Update mh_sequences when messages are deleted.	Note:
	Currently, we only clean up our own sequences, and leave others'
	sequences alone.  Should possibly be fixed.

	* mh.c: Fix #720.

	* imap/browse.c: Namespace fix.  From Pawel Slawek (or Peter
	Bloomfield?); forwarded by Brendan Cully.

2001-08-01 22:40:29  roessler  (roessler)

	* po/eo.po: update

	* po/fr.po, po/ru.po, po/de.po: updates.

	* gnupgparse.c: branches:  2.22.2; Signed fixes.  Noted by
	Vincent Lefevre's compiler.

	* pgpkey.c: Signed fixes.  Noted by Vincent Lefevre's compiler.

2001-07-31 12:28:19  roessler  (roessler)

	* mh.c: More MH fixes.

	* mh.c: fix a small typo

	* mailbox.h: branches:	2.10.2; Add mh_sequences support.
	I hope this works.

	* mh.c, mx.c: Add mh_sequences support.  I hope this works.

2001-07-29 09:48:04  roessler  (roessler)

	* contrib/gpg.rc: Fix the comment header, and generally be
	less verbose.

2001-07-26 17:42:48  roessler  (roessler)

	* imap/util.c: patch-bac.imapnextword-1. From Brendan Cully.

	* pgpkey.c: Don't confuse validity and trust when it comes to
	PGP keys.

	* thread.c: O(n log (n)) sorting from Jan Kratochvil
	<short@ucw.cz>.

2001-07-25 19:51:58  roessler  (roessler)

	* po/lt.po, po/nl.po, po/pl.po, po/pt_BR.po, po/ru.po, po/sk.po,
	po/sv.po, po/tr.po, po/uk.po, po/zh_CN.po, po/da.po, po/de.po,
	po/el.po, po/eo.po, po/es.po, po/et.po, po/fr.po, po/gl.po,
	po/hu.po, po/id.po, po/it.po, po/ja.po, po/ko.po, po/cs.po:
	update-po after gettext update.

2001-07-24 21:29:47  roessler  (roessler)

	* po/zh_CN.po, po/zh_TW.po, po/sk.po, po/sv.po, po/tr.po,
	po/uk.po, po/ru.po, po/pl.po, po/pt_BR.po, po/ja.po, po/ko.po,
	po/lt.po, po/nl.po, po/gl.po, po/hu.po, po/id.po, po/it.po,
	ChangeLog, VERSION, po/cs.po, po/da.po, po/de.po, po/el.po,
	po/eo.po, po/es.po, po/et.po, po/fr.po, reldate.h: automatic
	post-release commit for mutt-1.3.20

	* imap/imap.c: Avoid mail loss with IMAP.  From Brendan Cully.

	* imap/command.c: patch-bac.capability-20010724.1.  From Brendan
	Cully.

	* mbox.c: Add a status message, so "Writing messages" doesn't
	stay on screen forever.

2001-07-24 06:42:06  Brendan Cully  <brendan@kublai.com>  (roessler)

	* imap/imap.c: The attached patch fixes a couple bugs I introduced
	recently when working around the buggy but firmly entrenched
	UW-IMAP 4.7 server.  These resulted in additional overhead
	when synchronising mailboxes and occasional problems opening
	empty mailboxes.

2001-07-19 14:51:14  roessler  (roessler)

	* curs_main.c: Redraw when an alias is created - the user may
	have assigned a different realname.

	* COPYRIGHT: update

2001-07-11 07:19:45  roessler  (roessler)

	* INSTALL: Replace mutt-dev@cs.hmc.edu by mutt-dev@mutt.org.
	Noted by "Mark E.  Mallett" <mem@mv.mv.com>.

2001-07-09 20:54:34  roessler  (roessler)

	* Makefile.am, acconfig.h, configure.in: locale-related fix from
	Lars Hecking.

2001-07-04 07:35:20  roessler  (roessler)

	* imap/util.c: Fix a nit.  From "Andrew W. Nosenko"
	<awn@bcs.zp.ua>

2001-07-03 19:32:12  roessler  (roessler)

	* m4/iconv.m4, configure.in: Iconv-related cleanup.  From Brendan
	Cully.

	* init.c, muttlib.c, protos.h: Unified buffer handling, from
	Brendan Cully.

	* pgppubring.c: branches:  2.26.2; Don't sign-extend chars.

	* pgp.c: Fixing a PGP signature reporting bug; adding debugging
	output.

	* mutt_socket.c: Don't fcntl -1.  From Brendan.

	* imap/imap.c, imap/imap_private.h, imap/message.c, muttlib.c,
	protos.h: Fix #677.  From Brendan Cully.

2001-07-02 20:28:32  roessler  (roessler)

	* query.c: Fix a minor nit with the external query interface.

	* doc/manual.sgml.head: documentation from Brendan Cully.

2001-06-29 10:06:16  roessler  (roessler)

	* imap/imap.c, hook.c, init.h, mutt.h, mutt_socket.c, protos.h:
	patch-bac-vvvacounthook-20010628.1

2001-06-28 20:34:05  roessler  (roessler)

	* query.c: Query patch from Olivier Chapuis
	<olivier.chapuis@free.fr>.

2001-06-27 16:08:06  roessler  (roessler)

	* po/ru.po: update.

	* init.h, mutt.h, mx.c: patch-1.3.19i.rs.keep_flagged

2001-06-26 10:26:54  roessler  (roessler)

	* pgppubring.c: fixes.

	* pgplib.h, pgppubring.c: Fix handling of revocation certificates.

	* pgppubring.c: Also dump revocations.

	* pgplib.c, pgplib.h, pgppubring.c: Add a very simple
	signature-dumping mode to pgpring.  (Not needed for mutt.)

2001-06-19 08:39:17  roessler  (roessler)

	* po/ja.po: update

	* imap/imap.c, imap/message.c: IMAP error checking for bug #662.
	From Brendan Cully.

2001-06-18 17:29:55  roessler  (roessler)

	* po/zh_CN.GB2312.po, po/zh_CN.po, po/zh_TW.Big5.po, po/zh_TW.po,
	configure.in: Renaming the Chinese translations.

	* po/eo.po: update

	* globals.h, init.h, mutt.h, pop.h, pop_auth.c: The attached patch
	adds two variables: $pop_authenticators and $pop_auth_try_all.

	From Vsevolod Volkov.

2001-06-14 13:29:06  roessler  (roessler)

	* po/pl.po: update

2001-06-13 08:29:16  roessler  (roessler)

	* m4/gettext.m4: Avoid more m4 macro collisions.

	* m4/glibc21.m4: branches:  1.2.2;  1.2.4; Avoid more m4 macro
	collisions.

	* imap/auth_sasl.c: An updated version of the previous patch.
	From Brendan.

	* mutt_sasl.c: branches:  2.10.2; An updated version of the
	previous patch.  From Brendan.

	* mutt_sasl.h, pop_auth.c: An updated version of the previous
	patch.	From Brendan.

	* pop_auth.c: This patch closes a ridiculous bug where the
	SASL library could be used without being initialised. I don't
	understand why lots of people weren't having problems, unless
	no one who uses SASL uses POP :)

	closes 549

	From Brendan Cully.

	* po/cs.po: update

2001-06-12 12:45:29  roessler  (roessler)

	* m4/gettext.m4, m4/progtest.m4, configure.in: gettext-related
	fixes.	Most of this may just be temporary if we decide to get
	rid of our own gettext.m4.

	* m4/gettext.m4: Fix comments.

	* po/tr.po: update

2001-06-11 18:32:05  roessler  (roessler)

	* imap/auth.c, imap/imap.c, doc/manual.sgml.head:
	patch-bac.flags-20010611.1

	* po/es.po, po/da.po: update.

	* doc/manual.sgml.head: Updates from Byrial Jensen.

	* keymap.c: command/function cosmetics from Byrial Jensen.

	* po/de.po, po/et.po, po/sv.po: update.

	* doc/mutt.man, doc/muttbug.man, init.c, init.h: Use the EMAIL
	environment variable as the default for $from.

	* po/eo.po, po/el.po: update.

2001-06-07 23:15:53  roessler  (roessler)

	* po/fr.po, po/id.po: updates for 1.3.19.

	* po/zh_TW.Big5.po: A fixed version from EGE.

	* build-release: Don't try to upload to sigtrap.guug.de any more.

	* po/tr.po, po/uk.po, po/zh_CN.GB2312.po, po/zh_TW.Big5.po,
	po/ru.po, po/sk.po, po/sv.po, po/ja.po, po/ko.po, po/lt.po,
	po/nl.po, po/pl.po, po/pt_BR.po, po/hu.po, po/id.po, po/it.po,
	po/fr.po, po/gl.po, po/es.po, po/et.po, po/el.po, po/eo.po,
	po/cs.po, po/da.po, po/de.po, reldate.h, VERSION, ChangeLog:
	automatic post-release commit for mutt-1.3.19

	* check_sec.sh: Don't check in intl/

	* m4/codeset.m4: branches:  1.1.2;  1.1.4; More from the gettext
	munster patch from E.G.E.

	* m4/glibc21.m4, m4/iconv.m4: More from the gettext munster
	patch from E.G.E.

	* po/zh_TW.Big5.po, m4/gettext.m4, m4/lcmessage.m4,
	m4/progtest.m4: Gettext update. (From E.G.E., of course.)

	* intl/Makefile.in, intl/VERSION, intl/bindtextdom.c,
	intl/cat-compat.c, intl/config.charset, intl/dcgettext.c,
	intl/dcigettext.c, intl/dcngettext.c, intl/dgettext.c,
	intl/dngettext.c, intl/explodename.c, intl/finddomain.c,
	intl/gettext.c, intl/gettext.h, intl/gettextP.h,
	intl/hash-string.h, intl/intl-compat.c, intl/l10nflist.c,
	intl/libgettext.h, intl/libgnuintl.h, intl/libintl.glibc,
	intl/linux-msg.sed, intl/loadinfo.h, intl/loadmsgcat.c,
	intl/localcharset.c, intl/locale.alias, intl/localealias.c,
	intl/ngettext.c, intl/plural.c, intl/plural.y, intl/po2tbl.sed.in,
	intl/ref-add.sin, intl/ref-del.sin, intl/textdomain.c,
	intl/xopen-msg.sed, intl/.cvsignore, intl/ChangeLog, Makefile.am,
	acconfig.h, configure.in, gettext.c: Gettext update.

	* lib.h: branches:  2.11.2; Gettext update.

	* mbyte.c: Gettext update.

	* po/ru.po: update.

	* configure.in: ALL_LINGUAS.  I forgot to do this earlier today.

	* NEWS: Documentation update from Brendan Cully.

	* po/sv.po, po/tr.po, po/uk.po, po/zh_CN.GB2312.po,
	po/zh_TW.Big5.po, po/pt_BR.po, po/ru.po, po/sk.po, po/ko.po,
	po/lt.po, po/nl.po, po/pl.po, po/et.po, po/fr.po, po/gl.po,
	po/hu.po, po/id.po, po/it.po, po/ja.po, po/cs.po, po/da.po,
	po/de.po, po/el.po, po/eo.po, po/es.po: Updating the gl
	translation, another update-po run.

	* po/zh_TW.Big5.po: Changed to utf-8 in order to avoid problems
	with recent gettext versions.  Thanks to EGE!

	(BTW, the file name is lying now.  Is this a problem?)

	* po/tr.po, po/uk.po, po/zh_CN.GB2312.po, po/zh_TW.Big5.po,
	po/ru.po, po/sk.po, po/sv.po, po/pt_BR.po, po/pl.po, po/ja.po,
	po/ko.po, po/lt.po, po/nl.po, po/eo.po, po/es.po, po/et.po,
	po/fr.po, po/gl.po, po/hu.po, po/id.po, po/it.po, po/cs.po,
	po/da.po, po/de.po, po/el.po: update-po; adding an Estonian
	translation.

	* po/it.po: Fix a small bug.

	* imap/message.c: This patch ensures IMAP FLAGS aren't parsed
	twice when fetching the full message body. It really only amounts
	to a cosmetic error, but may cause spurious "Mailbox externally
	modified" messages.

	From Brendan Cully.

	* INSTALL, README.SSL, rfc2047.c: Documentation updates and a
	little bug fix.  From Brendan Cully.

	* init.c: Don't add empty strings to lists.  From Thomas Parmelan
	<tom@proxad.net>.

2001-06-05 15:43:41  roessler  (roessler)

	* handler.c: Leave slightly more margin with format=flowed.

	* imap/command.c, mutt_socket.c, mutt_ssl.c, mutt_tunnel.c:
	patch-bac.sockets-20010605.1

	* imap/auth.c, init.h: Change the delimiter for
	imap_authenticators to a colon.

	* imap/auth_gss.c, imap/auth_login.c, imap/auth_sasl.c,
	imap/imap.c, imap/auth.c, imap/auth.h, imap/auth_anon.c,
	imap/auth_cram.c: The attached patch should be the last feature
	I want to get in before 1.4. It creates a new config variable
	$imap_authenticators, which is a comma-separated list of
	authentication methods for mutt to try to use to authenticate to
	an IMAP server. If it is unspecified you get the old behaviour
	- any method is tried, the first to succeed or fail ends the
	auth loop.

	(From Brendan Cully.)

	* globals.h, init.h: The attached patch should be the last
	feature I want to get in before 1.4. It creates a new config
	variable $imap_authenticators, which is a comma-separated list of
	authentication methods for mutt to try to use to authenticate to
	an IMAP server. If it is unspecified you get the old behaviour
	- any method is tried, the first to succeed or fail ends the
	auth loop.

	* attach.c, commands.c, handler.c: Check mutt_create_filter*'s
	return value  for errors.  This should avoid a bunch of possible
	crashes.

2001-06-04 18:29:33  roessler  (roessler)

	* doc/manual.sgml.head: Score documentation fix.

	* po/pl.po: Update.

	* doc/.cvsignore, .cvsignore: Ignore some more generated files.
	From Andrew Nosenko.

	* Makefile.am: -I$(includedir) is moved from INCLUDES variable
	to the end of CPPFLAGS.  This allow build Mutt with Bruno's
	libiconv and --prefix=/usr on glibc-2.1.2 systems.

	From "Andrew W. Nosenko" <awn@bcs.zp.ua>.

	* doc/Makefile.in, doc/instdoc.sh.in, contrib/Makefile.in,
	INSTALL, Makefile.am, configure.in, init.c, main.c, muttbug.sh.in,
	sendlib.c: Clean up the sharedir mess.	From Lars Hecking.

2001-06-01 08:53:23  roessler  (roessler)

	* imap/command.c, imap/imap.c, imap/imap_private.h,
	imap/message.c, curs_main.c, mailbox.h: More concurrent IMAP
	modification handling from Brendan Cully.

	* po/fr.po: Update.

2001-05-31 18:04:24  roessler  (roessler)

	* mutt_tunnel.c: Tunnel fixes.

	* configure.in: Fix some typos.

	* mutt_curses.h, configure.in: Utf-8 support with ncurses, by
	Sven Verdoolaege.  Thomas E. Dickey says it looks reasonable,
	so I include it.

2001-05-30 23:00:51  roessler  (roessler)

	* imap/command.c, imap/imap.c, Makefile.am, enter.c,
	mutt_sasl.c, mutt_sasl.h, mutt_socket.c, mutt_socket.h,
	mutt_ssl.c, mutt_ssl_nss.c, mutt_tunnel.c: Socket API clean-up
	from Brendan Cully.

	* send.c: If messages have no References header, fall back to
	using In-Reply-To when constructing a reply's references header.
	This may not be strictly according to the book, but looks like
	a reasonable suggestion (which came from Vincent Lefebvre).

	* curs_main.c: Check whether any messages are visible.

2001-05-29 20:26:23  roessler  (roessler)

	* m4/gssapi.m4: branches:  1.1.2; GSSAPI fixes, tunnel driver.
	From Brendan Cully.

	* imap/auth.c, imap/auth_gss.c, imap/auth_sasl.c, imap/imap.c,
	Makefile.am, README, configure.in, globals.h, init.h,
	mutt_socket.c, mutt_socket.h, mutt_tunnel.c, mutt_tunnel.h:
	GSSAPI fixes, tunnel driver.  From Brendan Cully.

	* configure.in, md5.h, sha1.h: More type-determination fixes
	from Lars Hecking.

2001-05-28 19:14:47  roessler  (roessler)

	* imap/util.c: Consult /etc/services for imaps port.  From Brendan
	Cully.

	* imap/Makefile.am, Makefile.am, checktypes.c, configure.in,
	md5.h, md5c.c, sha1.c, sha1.h: Improve checking for 32bit
	integers.  From Brendan Cully and Lars Hecking.

	* muttbug.sh.in: Cosmetics.  From Brendan Cully.

	* imap/command.c, imap/imap.c, imap/imap_private.h: Detect
	external modifications of IMAP folders.  From Brendan Cully.

	* curs_main.c: Fix attaching messages via IMAP.  From Brendan
	Cully.

2001-05-24 10:18:30  roessler  (roessler)

	* po/ja.po: update.

	* browser.c: patch-bac.chdir-20010523.2

2001-05-23 14:19:16  roessler  (roessler)

	* browser.c: patch-bac.chdir-20010523.1

	* imap/browse.c: patch-bac.createnull-20010522.1

2001-05-22 21:45:52  roessler  (roessler)

	* doc/manual.sgml.head: Documentation nit from Björn Jacke.

	* configure.in: Let configure --help look prettier.  From Brendan
	Cully.

	* doc/manual.sgml.head, doc/manual.sgml.tail: Documentation
	fixes from Brendan Cully.

	* imap/imap.c: Attachment deletion on IMAP servers, take two.

2001-05-21 08:42:07  roessler  (roessler)

	* imap/imap.c, imap/message.c, commands.c, mx.c, protos.h:
	Attachment deletion for IMAP folders.  By Brendan Cully.

2001-05-20 22:35:29  roessler  (roessler)

	* handler.c: Fix character set conversion for non-plain text
	types with 8bit content-transfer-encodings.  Noted by Björn Jacke.

	* imap/message.c: \Seen for FCCs.  From Brendan Cully.

2001-05-17 18:37:21  roessler  (roessler)

	* pager.c: patch-1.3.18.bj.segfault.1.

	* handler.c: Fix multibyte encodings with quoted-printable.
	(patch-1.3.18.tt.decode_quoted.1) From TAKIZAWA Takashi
	<taki@luna.email.ne.jp>.

2001-05-15 20:41:55  roessler  (roessler)

	* imap/browse.c, imap/util.c, mutt_socket.c:
	patch-bac.notes-20010515.1

	* rfc1524.c: Make tests on an attachment's file name possible.
	Patch from Bob Bell <bobbell@zk3.dec.com>.

2001-05-13 15:43:48  roessler  (roessler)

	* po/de.po: Update.

2001-05-12 05:49:31  roessler  (roessler)

	* handler.c: Undo one of yesterday's aesthetical changes.

	* muttlib.c: IMAP path canonification hack from Brendan Cully.

	* handler.c: Adding a hack to use format=flowed's quoting
	information in the pager, using ANSI color sequences to turn
	off quote coloring.

2001-05-11 22:16:17  roessler  (roessler)

	* handler.c: Don't cut off the final part of ttachments with
	overlong lines.

	* handler.c: Correctly handle extremely long lines.

	* handler.c: Improve handling of indented text when wrapping
	text/plain; format=flowed.  This is, in particular, important
	when replying to messages with indented text.  I hope this code
	does The Right Thing most of the time now.

	(Further note that we still try to avoid wrapping at places
	where the user didn't do so.)

	* handler.c: Some more esthetical nits.

	* handler.c: More fixes.

	* recvcmd.c: Fix some nits with respect to text/plain;
	format=flowed.

	* copy.c, handler.c, init.h, mutt.h, send.c: Add experimental
	support for text/plain; format=flowed.

	* send.c: Fix #590.

	* headers.c: Some code simplifications.

	* headers.c, muttlib.c: Fix a memory leak in mutt_free_envelope();
	avoid dangling pointers in header editing.

2001-05-10 13:15:45  roessler  (roessler)

	* po/ja.po: update.

	* hdrline.c: Fix %D.  From Len Lattanzi
	<Len.Lattanzi@migration.com>.

	* headers.c: Fix header editing and references headers.

	* imap/auth_anon.c, imap/auth_cram.c, imap/auth_gss.c,
	imap/auth_login.c, imap/auth_sasl.c, imap/browse.c,
	imap/command.c, imap/imap.c, imap/message.c, imap/util.c,
	sort.c, copy.c, curs_main.c, globals.h, hook.c, init.h, mbox.c,
	menu.c, mutt_socket.c, mutt_ssl.c, muttlib.c, mx.c, pgpkey.c,
	pop.c, pop_auth.c: A slightly extended version of Dave Ewart's
	sleeptime patch.

	* pop_lib.c: branches:	2.4.2; A slightly extended version of
	Dave Ewart's sleeptime patch.

	* protos.h: A slightly extended version of Dave Ewart's sleeptime
	patch.

	* po/fr.po, po/id.po, po/sv.po, po/da.po: update.

	* po/hu.po, configure.in: Adding the Hungarian translation from
	Szabolcs Horvath <horvaths@fi.inf.elte.hu>.

2001-05-07 19:21:41  roessler  (roessler)

	* imap/README, imap/imap.h, imap/util.c, muttlib.c: IMAP path
	canonicalization.  From Brendan Cully.

2001-05-02 20:49:46  roessler  (roessler)

	* doc/manual.sgml.tail: Document some missing functions.

	* po/tr.po, po/uk.po, po/zh_CN.GB2312.po, po/zh_TW.Big5.po,
	po/pt_BR.po, po/ru.po, po/sk.po, po/sv.po, po/id.po, po/it.po,
	po/ja.po, po/ko.po, po/lt.po, po/nl.po, po/pl.po, po/de.po,
	po/el.po, po/eo.po, po/es.po, po/fr.po, po/gl.po, po/cs.po,
	po/da.po: make update-po.

2001-05-01 21:32:50  roessler  (roessler)

	* po/zh_CN.GB2312.po, po/zh_TW.Big5.po, po/ru.po, po/sk.po,
	po/sv.po, po/tr.po, po/uk.po, po/pl.po, po/pt_BR.po, po/lt.po,
	po/nl.po, po/gl.po, po/id.po, po/it.po, po/ja.po, po/ko.po,
	po/da.po, po/de.po, po/el.po, po/eo.po, po/es.po, po/fr.po,
	po/cs.po, ChangeLog, VERSION, reldate.h: automatic post-release
	commit for mutt-1.3.18

2001-04-26 15:52:34  roessler  (roessler)

	* configure.in: Replace tabs by spaces.

	* BEWARE, Makefile.am: Add a word of warning concerning the
	case problems.

	* imap/command.c, imap/imap.c, imap/message.c, imap/util.c,
	imap/browse.c, parse.c, pattern.c, pgp.c, pgpkey.c, postpone.c,
	recvattach.c, remailer.c, rfc1524.c, rfc2047.c, send.c,
	sendlib.c, url.c, Makefile.am, account.c, addrbook.c, alias.c:
	Add ascii_strcasecmp() and ascii_strncasecmp() functions which
	do locale-independent and case-insensitive string comparisons.
	Needed for mutt to work in iso-8859-9 environments, where
	tolower('I') != 'i'.

	* ascii.c: branches:  2.1.2; Add ascii_strcasecmp() and
	ascii_strncasecmp() functions which do locale-independent and
	case-insensitive string comparisons.  Needed for mutt to work
	in iso-8859-9 environments, where tolower('I') != 'i'.

	* ascii.h, attach.c, charset.c, color.c, commands.c, copy.c,
	edit.c, handler.c, headers.c, init.c, keymap.c, mutt.h,
	mutt_ssl_nss.c, muttlib.c, mx.c: Add ascii_strcasecmp() and
	ascii_strncasecmp() functions which do locale-independent and
	case-insensitive string comparisons.  Needed for mutt to work
	in iso-8859-9 environments, where tolower('I') != 'i'.

2001-04-25 22:08:41  roessler  (roessler)

	* globals.h, init.h, mutt.h, parse.c, protos.h, send.c,
	sendlib.c, thread.c, url.c: Implement RFC 2822's idea of
	the In-Reply-To header.  In particular, we have to drop the
	$in_reply_to configuration variable.  Also, the change in the
	specification makes some changes to the threading code reasonable.

	* parse.c: Use RFC 2822's interpretation of two-digit years.

	* charset.c: Kluge around some problems with iso-8859-9 locales.

2001-04-24 11:21:22  roessler  (roessler)

	* commands.c: When the character set is changed, ask whether or
	not mutt should convert.

2001-04-19 09:39:49  roessler  (roessler)

	* compose.c: Don't try to select the secret key from the public
	key ring.

2001-04-18 15:12:50  roessler  (roessler)

	* sendlib.c: Fix a segmentation fault.	Bug reported by Björn
	Jacke and analyzed by Lars Hecking.

2001-04-13 23:20:15  roessler  (roessler)

	* enter.c: Fix KEY_ENTER.  From EGE.

	* README, build-release: Introducing trithemius.gnupg.org.

2001-04-11 23:42:59  roessler  (roessler)

	* hook.c: Avoid excessive unhooking from within hooks.
	Problem noted by Eugene Lee <eugene@anime.net> on mutt-users.

	* doc/Makefile.in: Don't rely on GNU make's implicit rules for
	shell scripts.	Noted by EGE.

2001-04-09 16:10:59  roessler  (roessler)

	* INSTALL: Fix the documentation of --enable-locale-fix.
	From EGE.

	* enter.c, keymap.c: Entering multibyte characters.  From Edmund
	Grimley Evans.

	* send.c: Avoid a crash.  patch-1.3.17.tlr.pgpflags_fault.1.

2001-04-05 23:23:37  roessler  (roessler)

	* po/it.po: update

	* po/tr.po: update.

	* init.h: Fix a minor typo in the documentation.

2001-04-04 23:29:29  roessler  (roessler)

	* send.c: Fix pgp_replyencrypt and friends for group-replies to
	several tagged messages.  Noted by Werner Koch.

2001-04-03 19:26:55  roessler  (roessler)

	* pgpkey.c: More PGP key selection changes:  Clean up the key
	selection mechanism.  I'd appreciate if some of you could review
	the logic.

	* pgpkey.c: Fixes for the previous patch.

	* pgpkey.c: Add an error message in case keys can be found,
	but none are valid.

	* init.h: Write "mail folder" instead of "folder" in the
	description of $postponed.  If people believe they understand
	it better that way, fine with me.  (Debian #89195.)

	* doc/manual.sgml.head: Fix a typo.  Debian #90400.

	* po/sv.po: update.

	* url.c: Permit for passwords which contain '@'.  From Felix
	von Leitner <leitner@fefe.de>.

	* mutt_socket.c: Set the close on exec bit for IMAP sockets.
	From Jason Gunthorpe <jgg@wakko.deltatee.com>.	#536, Debian
	#92651.

2001-04-02 13:02:56  roessler  (roessler)

	* pop.c: Fix a buffer overrun.	Noted by Gordon Sadler
	<gbsadler1@lcisp.com>; #530.

	* imap/Makefile.am: Fix dependencies.  From Lars Hecking.

2001-03-30 08:53:12  roessler  (roessler)

	* imap/Makefile.am: Add a rule for ../types.h.

2001-03-29 11:23:05  roessler  (roessler)

	* pgp.c: Adding a dprint statement.

2001-03-28 14:59:52  roessler  (roessler)

	* pgp.c, pgp.h: Add some more PGP good signature checks, so we
	can detect whether or not an encrypted+signed message is OK.

	* main.c: fix some of the copyright messages.

	* gnupgparse.c, pgpkey.c, pgplib.c, pgplib.h, pgppacket.c: Make
	mutt compatible with GnuPG's latest features.  As requested by
	Werner Koch.

	* po/tr.po, po/uk.po, po/zh_CN.GB2312.po, po/zh_TW.Big5.po,
	po/ru.po, po/sk.po, po/sv.po, po/lt.po, po/nl.po, po/pl.po,
	po/pt_BR.po, po/it.po, po/ja.po, po/ko.po, po/es.po, po/fr.po,
	po/gl.po, po/id.po, po/eo.po, po/el.po, po/de.po, po/da.po,
	VERSION, po/cs.po, reldate.h, ChangeLog: automatic post-release
	commit for mutt-1.3.17

	* po/pl.po: update.

2001-03-23 12:30:17  roessler  (roessler)

	* send.c: handle my_hdr message-id: correctly.

2001-03-20 17:28:55  roessler  (roessler)

	* pgp.c: Fix Content-Disposition of PGP/MIME messages.	The second
	part should get a file name for convenience, not the first one.

	* po/ja.po: Update from Oota Toshiya <oota@ppd.fc.nec.co.jp>.

	* mbyte.c: Fix a bug in mbrtowc_iconv().  From TAKIZAWA Takashi
	<taki@luna.email.ne.jp>.

2001-03-12 11:54:38  roessler  (roessler)

	* po/ru.po: update from Vsevolod.

2001-03-08 16:48:50  roessler  (roessler)

	* pager.c: Cosmetic change for OP_PAGER_TOP, suggested by Mike
	Schiraldi <raldi@research.netsol.com>.

2001-03-05 20:52:04  roessler  (roessler)

	* init.h: Fix use_ipv6.

	* po/ja.po: update.

2001-03-04 14:25:07  roessler  (roessler)

	* po/eo.po: update.

	* pgppacket.c: Fix the interpretation of new-style packet lengths.
	This is a really bad bug.

	* init.h, mutt.h, mutt_socket.c: Make it possible to enable ipv6
	at run time.

2001-03-03 18:17:23  roessler  (roessler)

	* mutt_ssl.c: Fix a typo concerning OpenSSL version numbers.

2001-03-01 10:18:04  roessler  (roessler)

	* po/fr.po: update.

	* po/de.po, po/id.po: updates.

	* imap/imap.c: Don't engage STARTTLS when already in SSL mode.

2001-02-27 16:59:45  roessler  (roessler)

	* Makefile.am, depcomp, missing: Adding files for users of
	automake-cvs.  From Lars Hecking.

	* configure.in: Simplifications from Lars Hecking.

	* doc/Makefile.in: Distribute instdoc.sh.in.

	* po/zh_CN.GB2312.po, po/zh_TW.Big5.po, po/ru.po, po/sk.po,
	po/sv.po, po/tr.po, po/uk.po, po/ko.po, po/lt.po, po/nl.po,
	po/pl.po, po/pt_BR.po, po/id.po, po/it.po, po/ja.po, po/es.po,
	po/fr.po, po/gl.po, po/el.po, po/eo.po, po/da.po, po/de.po,
	VERSION, contrib/Makefile.in, po/cs.po, reldate.h, ChangeLog:
	automatic post-release commit for mutt-1.3.16

2001-02-26 16:35:39  roessler  (roessler)

	* pgp.c: Fix behaviour with multiple signed blocks inside one
	application/pgp.

	* pgp.c: Add out-of-band signature status signalling for
	application/pgp with clearsig.

2001-02-23 09:13:55  roessler  (roessler)

	* imap/imap.c, mutt_ssl.c, po/ru.po: update.

	* url.h: Ports are unsigned short, not short.

	* po/de.po: Update.

2001-02-21 17:02:18  roessler  (roessler)

	* po/fr.po: update.

	* po/pl.po, po/sv.po: updates.

2001-02-20 19:05:17  roessler  (roessler)

	* imap/auth_gss.c, imap/message.c: More IMAP patches from Brendan.

	* sendlib.c: lookup_mime_type() could overflow.  This is, however,
	harmless, because it only works on data from local configuration
	files which are either under the control of the user or under
	the control of root.

2001-02-19 18:21:53  roessler  (roessler)

	* imap/command.c: Improved error handling.

	* po/de.po: There is no such thing as a "Text Anhang" in German.

	* imap/imap.c, imap/imap.h, hook.c, mailbox.h, mx.c: Brendan
	Cully's generic access() wrapper which know about IMAP.

	* po/el.po: Update.

2001-02-16 00:42:57  roessler  (roessler)

	* imap/BUGS, imap/message.c: Bugfix.  From B.C.

	* imap/message.c: Fix #378.  From Brendan Cully.

	* imap/imap.c: Support for \HasNoChildren.  From Brendan Cully.

2001-02-15 16:37:27  roessler  (roessler)

	* imap/browse.c, imap/imap.c, imap/imap.h, imap/util.c,
	acconfig.h, configure.in, globals.h, init.h, mutt.h, mutt_sasl.c,
	muttlib.c, pop_auth.c, url.c: Brendan Cully's latest STARTTLS
	patch.

	* po/ja.po, configure.in: Adding ja.po.

	* charset.c: Fix iconv-hook.  It would segfault with x-unknown
	and other problematic cases.

	* init.h: Fix the documentation of pgp_verify_sig.  It's ask-yes,
	not ask.

2001-02-14 23:58:28  roessler  (roessler)

	* INSTALL: Add a comment about the sample iconv-hook files.

	* doc/Makefile.in, doc/instdoc.sh.in, doc/manual.sgml.head,
	doc/muttrc.man.head, doc/muttrc.man.tail,
	contrib/iconv/README, contrib/iconv/iconv.aix-3.2.5.rc,
	contrib/iconv/iconv.aix-4.1.5.rc,
	contrib/iconv/iconv.aix-4.2.0.rc,
	contrib/iconv/iconv.aix-4.3.2.rc,
	contrib/iconv/iconv.freebsd-3.3.rc,
	contrib/iconv/iconv.glibc-2.1.3.rc,
	contrib/iconv/iconv.glibc-2.1.90.rc,
	contrib/iconv/iconv.hpux-10.01.rc,
	contrib/iconv/iconv.hpux-10.20.rc,
	contrib/iconv/iconv.hpux-11.00.rc,
	contrib/iconv/iconv.irix-6.5.rc, contrib/iconv/iconv.osf1-4.0a.rc,
	contrib/iconv/iconv.osf1-4.0d.rc,
	contrib/iconv/iconv.solaris-2.4.rc,
	contrib/iconv/iconv.solaris-2.5.1.rc,
	contrib/iconv/iconv.solaris-2.6-cjk.rc,
	contrib/iconv/iconv.solaris-2.6.rc,
	contrib/iconv/iconv.solaris-2.7.rc, contrib/iconv/make.sh,
	contrib/Makefile.in, mutt.h, protos.h, charset.c, configure.in,
	hook.c, init.h: iconv-hook.

	* imap/auth.c, imap/imap.c, imap/message.c, acconfig.h,
	configure.in, mutt_sasl.c, mutt_socket.h, mutt_ssl.c, mutt_ssl.h:
	STARTTLS patch from Brendan Cully.

	* rfc2047.c, sendlib.c: Minor charset fixes.  Users can now give
	any character set names in

2001-02-13 23:42:29  roessler  (roessler)

	* charset.c: Some more strange character set aliaes.

	* charset.c: Add more possibly-interesting character set names.

	* charset.c: While I'm on it, fix a warning and remove some
	weired code by proper use of ctype functions.

	* imap/utf7.c: branches:  1.5.2; Change charset-hook's behaviour.

	* charset.c: Change charset-hook's behaviour.

	* charset.h: branches:	2.19.2; Change charset-hook's behaviour.

	* gettext.c, gnupgparse.c, handler.c, rfc2047.c, rfc2231.c,
	sendlib.c: Change charset-hook's behaviour.

	* po/id.po: update.

	* po/de.po: Fix some typos.  From Björn Jacke.

	* recvattach.c: A little fix for those who don't have PGP
	installed. ;-)

	* OPS.PGP, commands.c, curs_main.c, functions.h, pgp.c, pgp.h,
	protos.h, recvattach.c: Add a function check-traditional-pgp
	which can be used to handle old-style PGP messages and/or parts
	more easily.

	* query.c: Match all fields when searching on the query menu.

	* attach.c: Fix #470:  multipart- and message-type attachments
	weren't handled correctly.

2001-02-12 20:42:40  roessler  (roessler)

	* curs_lib.c: Fix '?' in the file name dialogue.  Fixes #468,
	#465.

	* po/sv.po, po/tr.po, po/uk.po, po/zh_CN.GB2312.po,
	po/zh_TW.Big5.po, po/pl.po, po/pt_BR.po, po/ru.po, po/sk.po,
	po/eo.po, po/es.po, po/fr.po, po/gl.po, po/id.po, po/it.po,
	po/ko.po, po/lt.po, po/nl.po, VERSION, po/cs.po, po/da.po,
	po/de.po, po/el.po, reldate.h, ChangeLog: automatic post-release
	commit for mutt-1.3.15

	* NEWS: Tell users about some of the new features.

	* pgppacket.c: Don't free(NULL).

	* mutt.h, pgp.c, pgp.h, pgplib.c, pgplib.h, pgpmicalg.c,
	pgppacket.c, pgppacket.h, pgppubring.c, postpone.c, protos.h,
	send.c, sendlib.c, Makefile.am, compose.c, configure.in,
	gnupgparse.c, init.h: Auto-detect the micalg used with PGP/MIME
	signatures.

	* handler.c: Make mutt_decode_* usable without passing a BODY
	structure.

	* imap/auth_anon.c, imap/auth_cram.c, imap/auth_gss.c: Fixes so
	mutt at least compiles with Brendan's new SASL patch.

	* lib.c: branches:  2.30.2; Fix mutt_read_line's behaviour when
	encountering an EOF.  From Aaron Lehmann <aaronl@vitelus.com>.

	* pager.c: Avoid an infinite loop in the pager.  From Edmund
	Grimley Evans.

	* imap/auth_login.c, imap/auth_sasl.c, imap/browse.c,
	imap/command.c, imap/imap.c, imap/imap_private.h, imap/message.c,
	imap/util.c, mutt_sasl.c, mutt_sasl.h, mutt_ssl.c, mutt_ssl.h:
	Brendan Cully's SASL patch.

2001-02-08 15:50:51  roessler  (roessler)

	* attach.c, commands.c, curs_lib.c, muttlib.c, pgp.c,
	recvattach.c, remailer.c: Replace various instances of endwin()
	by mutt_endwin().  This should help to avoid chaotic screen
	output on the "second" screen.

	* po/da.po: update.

	* doc/manual.sgml.head: Fix a typo.

2001-02-06 22:14:01  roessler  (roessler)

	* doc/manual.sgml.head, doc/muttrc.man.head: Document fuzzy dates.

	* date.c, pattern.c: Fuzzy date matching.  From Eike Rathke
	<er@erack.de>.

2001-02-02 12:36:19  roessler  (roessler)

	* pgpinvoke.c: Apply more conservative quoting to some PGP
	invocation.

	* po/sv.po: Update from Jörgen Tegnér.

2001-02-01 17:03:44  roessler  (roessler)

	* po/tr.po: update

2001-01-31 18:31:27  roessler  (roessler)

	* send.c: Don't use group mailboxes with list-reply.  E.g.,
	when you have "ietf" as a list pattern, and a message goes to

		IETF-Announce:;, ietf-openpgp@somewhere.org,

	list-reply will now yield ietf-openpgp and _not_:

		IETF-Announce: ietf-openpgp@...

	* po/pt_BR.po, po/ru.po, po/sk.po, po/sv.po, po/tr.po,
	po/uk.po, po/zh_CN.GB2312.po, po/zh_TW.Big5.po, po/fr.po,
	po/gl.po, po/id.po, po/it.po, po/ko.po, po/lt.po, po/nl.po,
	po/pl.po, po/cs.po, po/da.po, po/de.po, po/el.po, po/eo.po,
	po/es.po: Including the turkish translation from Fatih Demir
	<kabalak@gmx.net>; make update-po.

	* configure.in: Including the turkish translation from Fatih
	Demir <kabalak@gmx.net>.

2001-01-30 10:24:36  roessler  (roessler)

	* doc/manual.sgml.head: Stan Ryckman <stanr@sunspot.tiac.net>
	noted that we are abusing "envelope" where it should be "header".

	* thread.c: Fix sort_aux=received.  From <benno@sesgroup.net>.

	* pager.c: Eric Fischer <eric@eazel.com> sent us this patch as
	part of bug#441.  I'm not entirely sure that it works, but let's
	try it.

	* po/de.po, po/id.po: update

	* po/fr.po: update.

	* pop_auth.c: Fixing a stupid typo.  bug#445, from Larry Rosenman
	<ler@lerctr.org>.

2001-01-27 13:50:26  roessler  (roessler)

	* po/zh_CN.GB2312.po, po/zh_TW.Big5.po, po/sk.po, po/sv.po,
	po/uk.po, po/pt_BR.po, po/ru.po, po/pl.po, po/ko.po, po/lt.po,
	po/nl.po, po/gl.po, po/id.po, po/it.po, po/es.po, po/fr.po,
	po/eo.po, po/el.po, po/de.po, po/da.po, po/cs.po, VERSION,
	reldate.h, ChangeLog: automatic post-release commit for
	mutt-1.3.14

	* recvattach.c: More improvements to the recvattach collapsing.

	* mutt.h, pager.c, pager.h, protos.h, recvattach.c: Add collapsing
	to the receive-attach menu, and improve digest handling that way.

	* OPS: branches:  2.22.2; Add collapsing to the receive-attach
	menu, and improve digest handling that way.

	* attach.c, attach.h, compose.c, functions.h, init.h: Add
	collapsing to the receive-attach menu, and improve digest handling
	that way.

2001-01-25 12:04:46  roessler  (roessler)

	* po/cs.po: Fixes from Björn Jacke <bjacke@suse.de>.

	* contrib/pgp6.rc: A nit from Björn Jacke <bjacke@suse.de>.

2001-01-22 11:04:56  roessler  (roessler)

	* mutt_ssl.c: patch-1.3.13.tk.ssl.connect.1

2001-01-18 11:27:56  roessler  (roessler)

	* complete.c: Completion fix.  From Aaron Schrab
	<aaron+mutt@schrab.com>.

2001-01-17 08:53:12  roessler  (roessler)

	* rfc822.c: This one-line diff should fix the behaviour of the
	address parser when encountering loose dots in addresses.

	* imap/auth_sasl.c: Try to catch mysterious failures of the SASL
	library instead of hanging.  From Brendan Cully.

2001-01-15 10:40:50  roessler  (roessler)

	* copy.c: Some debugging helpers.

	* send.c: Use safe_fclose() where a NULL pointer may be passed
	to fclose().

	* pattern.c: Make ~m usable in $simple_search.	From
	<David.Good@stratasource.com>.

2001-01-10 19:36:43  roessler  (roessler)

	* recvcmd.c, send.c: Make some messages about mime-forwarding
	more comprehensible to normal users.

2001-01-08 23:09:32  roessler  (roessler)

	* imap/auth_sasl.c, imap/utf7.c, imap/util.c, charset.c,
	charset.h, check_sec.sh, dotlock.c, enter.c, gnupgparse.c,
	keymap.c, lib.c, mutt_sasl.c, parse.c, pgp.c, pgppubring.c,
	pop_auth.c, regex.c, rfc2047.c, rfc2231.c, rfc822.c, sendlib.c,
	strdup.c: Let check_sec.sh check for use of the unsafe malloc,
	realloc, free, and strdup routines.  While we are on it, plug
	some memory leaks and make some code understandable.

	* intl/cat-compat.c, imap/auth_cram.c, imap/auth_gss.c,
	imap/imap.c, imap/imap_private.h, imap/message.c, base64.c,
	browser.c, check_sec.sh, commands.c, complete.c, copy.c,
	curs_lib.c, edit.c, handler.c, init.c, lib.c, pager.c, pgp.c,
	pgpkey.c, pop_lib.c, protos.h, query.c, rfc2231.c, rfc822.c,
	send.c, sendlib.c, snprintf.c: Fix and/or check more fishy code.

	* intl/cat-compat.c, imap/auth_cram.c, imap/auth_gss.c, browser.c,
	buffy.c, check_sec.sh, curs_main.c, enter.c, init.c, main.c,
	makedoc.c, mkjtags.c, mutt_sasl.c, pgp.c, pgpinvoke.c, pgpkey.c,
	pop.c, protos.h, regex.c, rfc2231.c, sendlib.c: Going through
	possible security problems with a fine comb.  If you want to help,
	check out the current source, and run check_sec.sh.

	* attach.c, build-release, check_sec.sh, edit.c, pgpkey.c:
	Some automated security checks concerning fopen() calls.

2001-01-04 05:39:31  roessler  (roessler)

	* gettext.c: Don't use debugfile unless DEBUG is #defined.

2001-01-03 13:39:48  roessler  (roessler)

	* enter.c, mbyte.c: More wide-char patches from EGE.

	* enter.c: Don't accept '\0' as keyboard input.

	* imap/auth_sasl.c: Set SASL_IP_{LOCAL,REMOTE} properties -
	needed for krb4 support; from yak@MIT.EDU.

	* enter.c: Try to fix nonprintable character input.

	* enter.c: Extend the editor so it supports unprintable
	characters.

2001-01-02 16:34:26  roessler  (roessler)

	* enter.c: Make my_wcstombs more robust.  From EGE.

	* main.c: Only show mailboxes with -y.	From
	devenish@arcme.uwa.edu.au.

	* account.h: Fix password input.  From Vsevolod Volkov.

2000-12-31 15:30:52  roessler  (roessler)

	* po/ru.po, pop_lib.c: Missing patches from VVV.

	* imap/imap.c, OPS, curs_main.c, functions.h, globals.h:
	Experimental patch to add an imap-fetch-mail function.

	* mutt.h, protos.h, browser.c, curs_lib.c, enter.c, main.c:
	Make browser behaviour more consistent with expectations.

	* po/zh_CN.GB2312.po, po/zh_TW.Big5.po, po/sk.po, po/sv.po,
	po/uk.po, po/pt_BR.po, po/ru.po, po/lt.po, po/nl.po, po/pl.po,
	po/it.po, po/ko.po, po/id.po, po/es.po, po/fr.po, po/gl.po,
	po/eo.po, po/da.po, po/de.po, po/el.po, VERSION, po/cs.po,
	reldate.h, ChangeLog: automatic post-release commit for
	mutt-1.3.13

2000-12-30 10:28:16  roessler  (roessler)

	* po/pl.po: update.

2000-12-22 18:03:34  roessler  (roessler)

	* configure.in: autoconf consmetics.  From L.H.

	* enter.c, mutt.h: Some more changes to the enter code.

	* enter.c: Fix some ugly bugs in the completion code.
	In particular, replace_part() could lead to heap corruption.

	* po/lt.po, configure.in: Lithuanian translation.  From Gediminas
	Paulauskas <menesis@delfi.lt>.

2000-12-21 09:19:41  roessler  (roessler)

	* flags.c, init.h, mh.c, mutt.h: patch.me.maildir_trash.1

2000-12-17 19:54:58  roessler  (roessler)

	* po/sv.po: update.

2000-12-14 15:40:30  roessler  (roessler)

	* doc/manual.sgml.head: Improve hook documentation.  From Lars
	Hecking.

	* enter.c: More file name completion fixes.

	* enter.c: Fix "tab-tab" at the change-folder prompt.

2000-12-10 21:01:35  roessler  (roessler)

	* imap/message.c, init.h, mutt.h: Avoid implicit flag updates
	with IMAP.  From Brendan Cully.

	* configure.in, enter.c, mbyte.c, mbyte.h, mutt.h: More enter.c
	updates.  From E.G.E..

	* mbyte.h, mutt.h, configure.in, enter.c: More changes to the
	utf-8 friendly line editor: Implement some missing functions,
	include some more header files.

2000-12-08 10:38:30  roessler  (roessler)

	* curs_lib.c: Remove an unnecessary ENTER_STATE allocation.

	* curs_lib.c, enter.c, mutt.h, protos.h: Make _mutt_enter_string()
	re-entrant.

	* curs_lib.c, edit.c, enter.c, protos.h: Make the line editor
	utf-8 friendly.  First take from Edmund Grimley Evans.

2000-12-06 20:31:46  roessler  (roessler)

	* gnupgparse.c: Fix pgp_ignore_subkeys.

	* mutt_curses.h: Make the BEEP macro a bit safer.  From EGE.

	* imap/imap.c: Fix a memory leak in imap_logout_all.

2000-12-04 09:00:08  roessler  (roessler)

	* mbyte.c: A little fix for the -HAVE_WC_FUNCS +LOCALES_HACK case.
	From EGE.

2000-12-03 09:34:41  roessler  (roessler)

	* doc/PGP-Notes.txt: Document the fact that Courier MTA corrupts
	PGP/MIME signatures.

2000-12-02 09:16:47  roessler  (roessler)

	* po/el.po, po/uk.po: update.

2000-11-28 11:19:57  roessler  (roessler)

	* po/da.po, po/de.po, po/fr.po, po/id.po: updates

2000-11-27 13:14:28  roessler  (roessler)

	* attach.h, commands.c, compose.c, curs_main.c, protos.h,
	recvattach.c: Make sure edit-type works without a segmentation
	fault from the receive-attach menu.

	* po/uk.po, po/zh_CN.GB2312.po, po/zh_TW.Big5.po, po/ru.po,
	po/sk.po, po/sv.po, po/pl.po, po/pt_BR.po, po/nl.po, po/it.po,
	po/ko.po, po/fr.po, po/gl.po, po/id.po, po/eo.po, po/es.po,
	po/el.po, po/cs.po, po/da.po, po/de.po, reldate.h, VERSION,
	ChangeLog: automatic post-release commit for mutt-1.3.12

2000-11-23 10:30:49  roessler  (roessler)

	* contrib/sample.muttrc-tlr: Use display_filter to fix some
	ugliness people are sending me.

	* commands.c: Don't endwin() before invoking the display_filter.

2000-11-21 10:32:34  roessler  (roessler)

	* protos.h, main.c, curs_lib.c, globals.h: [stable] Introduce
	mutt_curses_message and mutt_nocurses_message.	From Olaf Kirch.

	* globals.h, main.c, protos.h, curs_lib.c: Introduce
	mutt_curses_message/mutt_nocurses_message.  From Olaf Kirch.

2000-11-20 13:20:28  roessler  (roessler)

	* contrib/gpg.rc: Add a missing --textmode switch.

2000-11-19 20:39:49  roessler  (roessler)

	* NEWS: Mention $print_split.

	* contrib/sample.muttrc-tlr: update

	* mutt.h, pgp.c, protos.h, commands.c, init.h: Introduce a
	new option named $print_split.	While we are on it, unify
	the pipe-message and print-message code, and fix the PGP
	key-extraction code so it doesn't interact with OPTPIPEDECODE
	in strange manners any more.

2000-11-18 19:50:48  roessler  (roessler)

	* curs_lib.c: Remove an unnecessary include statement.

2000-11-17 09:19:41  roessler  (roessler)

	* po/sv.po: Small fix from Jörgen Tegnér <teg@post.netlink.se>.

	* imap/auth_gss.c: [stable] GSSAPI patch from Bill Nottingham
	<notting@redhat.com>.

	* doc/manual.sgml.tail, curs_main.c, functions.h: Make folder
	synchronization possible from within the pager.  From Chris
	Cutler <cutler@bluemug.com>.

2000-11-15 20:29:58  roessler  (roessler)

	* charset.c: Fix langinfo-based character set detection.
	From Martin Norbäck <d95mback@dtek.chalmers.se>.

2000-11-14 16:57:19  roessler  (roessler)

	* curs_main.c: another possibly problematic case.

	* curs_main.c: Try fixing a possible segmentation fault.  I'm not
	entirely sure how I produced it, but it's at least obvious where
	it happened.

2000-11-13 22:19:57  roessler  (roessler)

	* gnupgparse.c, init.h, mutt.h: Add the pgp_ignore_subkeys option.
	Unset it to get the traditional listing with all the subkeys.
	(Experimental, may introduce new bugs.)

	* po/ru.po, po/sv.po: update

	* remailer.c: Qualify some more header fields.

2000-11-07 10:31:51  roessler  (roessler)

	* init.h, mutt.h, send.c: Add a sig_on_top option.

	* po/el.po: update

2000-11-06 11:27:07  roessler  (roessler)

	* po/zh_TW.Big5.po, po/da.po: update

	* configure.in: Make building mutt without iconv support possible.
	From EGE.

2000-11-03 10:16:32  roessler  (roessler)

	* init.h: Change pgp_good_sign's default to 0 instead of UL "".
	This should fix the annoying error messages when starting up
	mutt on some systems.

	* init.c: Make error reporting more verbose.

	* po/de.po, po/fr.po, po/id.po: updates

2000-11-01 13:14:18  roessler  (roessler)

	* po/zh_CN.GB2312.po, po/zh_TW.Big5.po, po/sk.po, po/sv.po,
	po/uk.po, po/id.po, po/it.po, po/ko.po, po/nl.po, po/pl.po,
	po/pt_BR.po, po/ru.po, po/cs.po, po/da.po, po/de.po, po/el.po,
	po/eo.po, po/es.po, po/fr.po, po/gl.po, ChangeLog, VERSION,
	reldate.h: automatic post-release commit for mutt-1.3.11

2000-10-27 10:51:01  roessler  (roessler)

	* enter.c: A nicer version of {capitalize,...}-word functions.

	* doc/manual.sgml.head: Document the recent additions to the
	line editor.

	* OPS, enter.c, functions.h: Add capitalize-word, upcase-word,
	downcase-word functions to the editor.	Bindings follow the
	Emacs conventions (i.e., M-c, M-u, M-d).

2000-10-25 18:56:20  roessler  (roessler)

	* rfc822.c: Fix parsing of route-addrs.

2000-10-24 08:59:21  roessler  (roessler)

	* doc/manual.sgml.tail: Document edit-type.  From Mikko Hänninen.

	* po/el.po: update

2000-10-23 16:39:10  roessler  (roessler)

	* doc/manual.sgml.head: Typo.  From Daniel Roesen <dr@bofh.de>.

	* doc/manual.sgml.head: Fix documentation of uznknown MIME type
	handling.  From Brian Salter-Duke <b_duke@lacebark.ntu.edu.au>

2000-10-18 09:01:56  roessler  (roessler)

	* recvattach.c: Fix tree formatting in the recvattach menu.

2000-10-17 15:10:51  roessler  (roessler)

	* commands.c, curs_lib.c, hdrline.c, menu.c, protos.h: Fix
	pager and index display when non-printable space characters
	are encountered.  From EGE.

	* sendlib.c: Teach mutt to attach files of arbitrary type.

2000-10-16 17:29:55  roessler  (roessler)

	* curs_lib.c: nl_langinfo({YES,NO}EXPR) may return an _extended_
	regular expression.  Close #312.

	* po/zh_TW.Big5.po, po/id.po, po/sv.po: update

	* mutt_socket.c: Fix the strange "Can't connect" error messages.
	From Brendan Cully.

2000-10-12 14:49:58  roessler  (roessler)

	* po/da.po: update

2000-10-11 14:17:17  roessler  (roessler)

	* po/de.po: update.

	* po/fr.po: update

	* po/uk.po, po/zh_CN.GB2312.po, po/zh_TW.Big5.po, po/pt_BR.po,
	po/ru.po, po/sk.po, po/sv.po, po/nl.po, po/pl.po, po/ko.po,
	po/es.po, po/fr.po, po/gl.po, po/id.po, po/it.po, po/cs.po,
	po/da.po, po/de.po, po/el.po, po/eo.po, ChangeLog, Makefile.am,
	VERSION, reldate.h: automatic post-release commit for mutt-1.3.10

	* buffy.c: Compilation fix from Emil Sit <sit@cisco.com>.

2000-10-10 19:22:48  roessler  (roessler)

	* po/POTFILES.in, doc/manual.sgml.head, globals.h, init.c,
	init.h, mailbox.h, mutt.h, muttlib.c, mx.c, mx.h, pop.c, pop.h,
	pop_auth.c, pop_lib.c, protos.h, recvattach.c, Makefile.am,
	browser.c, buffy.c, commands.c, compose.c, configure.in,
	curs_main.c: Vsevolod Volkov's POP mailbox patch.

	* doc/manual.sgml.head: Mixmaster documentation patch from
	Brian Salter-Duke.

2000-10-09 08:30:35  roessler  (roessler)

	* main.c: Add an #ifdef for HAVE_GETADDRINFO.

	* mutt_socket.c: Use AF_INET6 only when necessary.

2000-10-07 18:06:24  roessler  (roessler)

	* curs_lib.c, help.c: Display fixes from EGE.

2000-10-05 19:12:28  roessler  (roessler)

	* query.c: Catch some possible NULL pointer deferences.
	From chris+usenet@chiappa.net (Chris Chiappa), posted to
	comp.mail.mutt.

2000-10-04 18:50:35  roessler  (roessler)

	* mutt_ssl_nss.c: Downgrade Michael Elkins' indentation style
	to the version used throughout mutt. ;-)

	* Makefile.am, acconfig.h, configure.in, init.c, init.h,
	mutt.h, mutt_socket.c, mutt_ssl_nss.c, pop.c: Adding support for
	Netscape's (pardon, Mozilla's) SSL implementation.  From Michael
	Elkins.

	* globals.h, init.h, mutt_socket.c, protos.h:
	patch.me.connect_timeout.1

	* signal.c: branches:  2.6.2; patch.me.connect_timeout.1

2000-10-03 10:47:20  roessler  (roessler)

	* NEWS: Document some of the recent user-visible changes.

	* doc/manual.sgml.head: More documentation for the "L" to_char.
	Thanks, Byrial!

	* hdrline.c, init.h: Adding a list flag to to_chars,  From Andreas
	Plesner Jacobsen <apj@wol.dk>.	Note: If you don't like the new
	behaviour, just set $to_chars to the old " +TCF" value.

	* po/ru.po: update

2000-10-02 09:11:52  roessler  (roessler)

	* configure.in, mutt_socket.c: patch-bac.ipv6-1

	* curs_lib.c: patch-1.3.9.bj.yesno.1

2000-09-28 06:53:36  roessler  (roessler)

	* init.h: Fix a minor typo.  From Byrial.

	* INSTALL, charset.c, charset.h, init.c: Document the
	--without-wc-funcs switch to configure, and clean up the code
	to set the character set from nl_langinfo from EGE.

2000-09-27 14:28:35  roessler  (roessler)

	* charset.c: Catch another error condition which may be caused
	by a broken nl_langinfo() function.

	* COPYRIGHT: We don't need to mention EAY's copyright any more.

	* charset.c: Fix #287.

2000-09-26 23:05:46  roessler  (roessler)

	* po/eo.po: update

	* Makefile.am, checktypes.c, main.c, pgppubring.c, sha.h, sha1.c,
	sha1.h, sha1dgst.c, sha_locl.h: Replace the BSD-licensed sha-1
	from SSLeay with a public domain version in order to satisfy
	GPL license zelots.

2000-09-25 13:03:09  roessler  (roessler)

	* po/sv.po: update

	* send.c: patch-1.3.9.bj.f-up-prompt.1

2000-09-21 09:37:14  roessler  (roessler)

	* po/sk.po, po/sv.po, po/uk.po, po/zh_CN.GB2312.po,
	po/zh_TW.Big5.po, po/ru.po, po/nl.po, po/pl.po, po/pt_BR.po,
	po/it.po, po/ko.po, po/es.po, po/fr.po, po/gl.po, po/id.po,
	po/el.po, po/eo.po, po/da.po, po/de.po, po/cs.po, ChangeLog,
	VERSION, reldate.h: automatic post-release commit for mutt-1.3.9

	* rfc2047.c: Make some of the code more readable.  From EGE.

2000-09-15 09:19:29  roessler  (roessler)

	* rfc2047.c, rfc2047.h, sendlib.c: Fix some RFC2047 encoding bugs.

2000-09-13 21:01:31  roessler  (roessler)

	* rfc2047.c: Undo part of the character set canonicalization.
	EGE pointed out it isn't needed.

	* rfc2231.c: Replace "unknown" by "unknown-8bit".

	* sendlib.c: s/iconv_open/mutt_iconv_open/.  Suggested by EGE.

	* charset.c: Add "646" as an alias for us-ascii.  SunOS 5.8
	seems to need it.

	* browser.c: Let the browser handle non-existent directories
	more gracefully.  From Byrial Jensen.

2000-09-12 23:18:47  roessler  (roessler)

	* configure.in: Remove some caching.  From EGE.

2000-09-11 10:50:37  roessler  (roessler)

	* charset.c, copy.c, mbyte.c, rfc2047.c, sendlib.c: Fix some
	more character set glitches.

2000-09-09 07:30:29  roessler  (roessler)

	* charset.c: sizeof (dest) == 4.  I should have written dlen
	instead.  Noted by EGE.

2000-09-08 21:52:04  roessler  (roessler)

	* imap/imap.c: Brendan's version of the last fix.  I put it in
	since he's most likely the next one to look at or change this. ,-)

	* imap/imap.c: Fix a silly little IMAP bug.  From Daniel
	Jacobowitz <dan@debian.org>.

	* charset.c, protos.h, rfc2231.c, sendlib.c: Add a character
	set comparison function.

2000-09-07 21:56:00  roessler  (roessler)

	* charset.c: Add a table of official character set names.
	Data taken from www.iana.org.

	* rfc2231.c: Detect pure 7bit data and don't encode them.
	This helps a bit in situations where mutt believes it has some
	really strange us-ascii alias as the character set.

	* po/es.po, po/es.po, po/el.po: update

	* curs_lib.c: Make the use of nl_langinfo(YESEXPR/NOEXPR)
	more robust.  Problem noted by Wolfgang Baumann <baumann@zib.de>.

2000-09-06 08:47:13  roessler  (roessler)

	* snprintf.c: Fix the MAX fix.	from Byrial Jensen.

2000-09-05 22:14:36  roessler  (roessler)

	* init.c, muttlib.c, pgppubring.c, protos.h, snprintf.c: Clean
	up some warning messages.  From Bob Bell.

	* hook.c: Fix a segmentation fault in hook parsing.  From Bob
	Bell.

2000-09-04 10:49:48  roessler  (roessler)

	* imap/browse.c, imap/imap.c, imap/imap.h, imap/imap_private.h,
	imap/util.c, account.c, account.h, browser.c, curs_main.c, url.c,
	url.h: patch-bac.imapurl-4

	* po/ru.po, po/da.po, po/da.po: update

	* po/id.po: update.

	* recvcmd.c: Fix a segmentation fault when replying to multiple
	message/rfc822-type attachments.  Noted by David Champion.

2000-09-01 08:58:39  roessler  (roessler)

	* init.c: Don't mutt_pretty_mailbox when setting variables,
	since this may badly interact with non-default settings.
	Suggested by Byrial Jensen.

2000-08-31 15:14:25  roessler  (roessler)

	* muttlib.c: patch-1.3.8.bj.pretty_mailbox.1

	* doc/manual.sgml.head: patch-1.3.8.bj.manquote.1

	* imap/command.c, imap/imap.c: patch-bac.command-3

2000-08-30 21:34:42  roessler  (roessler)

	* pager.c: Fix display of backspace sequences.	From EGE.

	* po/fr.po, po/de.po: update

	* po/sk.po, po/sv.po, po/uk.po, po/zh_CN.GB2312.po,
	po/zh_TW.Big5.po, po/id.po, po/it.po, po/ko.po, po/nl.po,
	po/pl.po, po/pt_BR.po, po/ru.po, po/cs.po, po/da.po, po/de.po,
	po/el.po, po/eo.po, po/es.po, po/fr.po, po/gl.po, ChangeLog,
	VERSION: automatic post-release commit for mutt-1.3.8

	* VERSION: ups

	* po/POTFILES.in, imap/Makefile.am, imap/imap_ssl.c,
	imap/imap_ssl.h, imap/md5.h, imap/md5c.c, imap/util.c, ChangeLog,
	Makefile.am, VERSION, configure.in, curs_main.c, init.c, md5.h,
	md5c.c, mutt_socket.c, mutt_ssl.c, mutt_ssl.h, reldate.h: SSL
	unification patch from Vsevolod.

	* imap/command.c, imap/imap.c, imap/message.c, imap/message.h:
	patch-bac.expunge-2

	* muttlib.c: Fix mutt_prety_mailbox.  From Vsevolod.

2000-08-29 11:36:25  roessler  (roessler)

	* curs_lib.c: The next version of Byrial Jensen's yesorno patch,
	this time without a memory leak.

	* acconfig.h, configure.in, curs_lib.c, main.c: Use locale for
	yes/no expressions.

2000-08-28 13:14:55  roessler  (roessler)

	* rfc2231.c: Little fix from EGE.

	* po/ru.po: Update from Vsevolod.

2000-08-28 09:40:28  EGE  (roessler)

	* complete.c: Fix a buffer overrun in complete.c.

2000-08-28 09:39:36  Brendan Cully  <brendan@kublai.com>  (roessler)

	* imap/auth_sasl.c, imap/command.c, imap/imap_private.h,
	muttlib.c: The attached small patch adjusts mutt_pretty_mailbox
	to handle URLs.

2000-08-28 09:38:42  Edmund GRIMLEY EVANS  <edmundo@rano.org>  (roessler)

	* browser.c, curs_lib.c, hdrline.c, protos.h, recvattach.c: This
	patch moves hdr_format_s from hdrline.c to curs_lib.c and renames
	it to mutt_format_s. The function is then used in various places
	in browser.c and recvattach.c where previously there was "%%%ss".

2000-08-28 09:37:44  roessler  (roessler)

	* rfc2047.c, rfc2047.h, rfc2231.c, rfc2231.h, sendlib.c: Do
	character set selection for RFC2231 encodings.	From EGE, but
	with choose_charset renamed to mutt_choose_charset.

2000-08-28 09:32:58  edmundo@rano.org (EGE)  (roessler)

	* mbyte.c, protos.h, utf8.c, wcwidth.c: This is the patch TAKIZAWA
	Takashi and I came up with in the end.

	When the Charset is euc-jp or shift_jis, iconv is used for
	mbrtowc and wcrtomb. The worst part is mbrtowc_iconv(), where
	I attempted to make mbrtowc both restartable (it can process
	part of multibyte character) and fast in the case where there
	is nothing left over from a previous character. Also I try to
	make no assumptions about how those character sets work, which
	is easy, because I know very little about them ...

	People who don't use one of those two stateless Japanese display
	charsets shouldn't be affected. People whose systems provide
	the wchar_t functions should be even less affected, because they
	don't even get this code in their binary.

2000-08-25 06:28:24  roessler  (roessler)

	* imap/imap.c, imap/imap_ssl.c, imap/imap_ssl.h, imap/util.c,
	account.c, account.h, browser.c, mutt_socket.c, mx.c, url.c,
	url.h: patch-bac.imapurl-2, with small modifications.

2000-08-22 22:23:10  roessler  (roessler)

	* muttlib.c: Fix #251, from Brendan.

	* Makefile.am, main.c, parse.c, protos.h, url.c, url.h: Add an
	URL parser, and support for mailto URLs.

	* doc/manual.sgml.head: Minor fixes from Will Fiveash.

	* po/ru.po: update

	* hdrline.c: Fix %B in index_format.

2000-08-21 19:25:26  roessler  (roessler)

	* imap/browse.c, imap/imap.c, mutt_socket.c, muttlib.c:
	patch-bac.parsepath-2

	* doc/manual.sgml.head, doc/manual.sgml.tail: Documentation
	patch from Lars Hecking.

	* imap/imap.h, imap/imap_private.h, imap/message.c, imap/util.c,
	imap/browse.c, imap/command.c, imap/imap.c, doc/manual.sgml.head,
	browser.c, browser.h, buffy.c, functions.h, globals.h, init.h,
	OPS: patch-bac.createplus-1

	* imap/auth_anon.c, imap/auth_cram.c, imap/auth_gss.c,
	imap/auth_login.c, imap/auth_sasl.c, imap/browse.c,
	imap/command.c, imap/imap.c, imap/imap_private.h, imap/message.c:
	patch-bac.command-2

2000-08-17 06:06:02  roessler  (roessler)

	* po/zh_CN.GB2312.po, configure.in: Adding zh_CN.GB2312
	translation.

	* imap/Makefile.am, doc/Makefile.in, mutt_socket.c, mx.c: Random
	cleanup from Brendan Cully.

	* hdrline.c: Fix justification of number formats.  (EGE)

2000-08-15 17:21:19  roessler  (roessler)

	* po/ru.po: update

	* mbyte.c, pager.c, protos.h: Another charset fix from EGE.

2000-08-10 15:48:13  roessler  (roessler)

	* imap/Makefile.am: Fix from Brendan Cully.

	* doc/mutt.man, doc/muttrc.man.tail: More minor fixes.

	* doc/mutt.man: Document $MAILDIR.

	* init.c: Tell mutt about the MAILDIR environment variable DJB
	talks about in maildir (5).

	* doc/muttbug.man: Fix a typo.

	* doc/mbox.man: fix some typos.

2000-08-09 21:14:35  roessler  (roessler)

	* doc/Makefile.in, doc/mbox.man: Install mbox (5), and fix a typo.

	* doc/mbox.man: Document the mbox format in a manual page.
	There may be some need for this.

	* Makefile.am, configure.in, init.c, main.c: Minor portability
	and compilation fixes.

2000-08-08 18:17:54  roessler  (roessler)

	* po/POTFILES.in: Some files were missing.  From Vsevolod Volkov.

	* imap/Makefile.am, imap/command.c, imap/imap.c,
	  imap/imap_private.h, imap/message.c, init.c, mutt_socket.c,
	  mx.c: * handles expunged messages better. Previously mutt's
	  state was only updated when syncing the mailbox. This was the
	  reason for Bob Bell's segfault when manipulating mailboxes
	  with multiple simultaneous clients.
	* makes a small adjustment for Sam's weird Courier server, which
	  returns an OK FETCH completed response even when FETCH fails. I
	  should probably report that behaviour to him as a bug, though.
	* renames IMAP_REOPEN_PENDING to IMAP_EXPUNGE_PENDING * gets
	rid of the _("Closing mailbox...") message, which was obscuring
	  the status updates.  * clears some spurious mutt_clear_error
	calls in imap_cmd_finish.  * makes socket reads and writes check
	that they have an open
	  connection. Shouldn't be necessary (and such calls are logged),
	  but can happen currently.
	* Some SASL vs regular authenticator tweaks in the imap Makefile.

	(From Brendan Cully.)

2000-08-07 08:31:36  roessler  (roessler)

	* po/Makefile.in.in, imap/Makefile.am, Makefile.am, configure.in,
	mapping.h, sort.h: Cross compilation patches from Rüdiger Kuhlmann
	<ruediger.kuhlmann@stud.uni-karlsruhe.de>.

2000-08-06 14:35:15  roessler  (roessler)

	* curs_lib.c: Return an exit value of 1 if mutt is left via
	ctrl-c.  From Andre Albsmeier <andre.albsmeier@mchp.siemens.de>.

2000-08-05 17:50:03  roessler  (roessler)

	* imap/imap.c, imap/imap_private.h, imap/message.c,
	imap/Makefile.am, imap/auth_anon.c, imap/auth_cram.c,
	imap/auth_gss.c, imap/auth_login.c, imap/auth_sasl.c,
	imap/browse.c, imap/command.c, mutt_socket.c: Unified IMAP
	command code.

	* doc/manual.sgml.head, doc/manual.sgml.head: Fix keyboard
	binding documentation.	From Thomas Schultz <tststs@gmx.de>.

2000-08-04 21:47:11  roessler  (roessler)

	* sendlib.c: Fix a character set encoding bug. From EGE.

	* imap/auth_sasl.c, imap/imap_ssl.c, doc/manual.sgml.head,
	account.c, mutt_sasl.c, mutt_sasl.h, mutt_socket.c, mutt_socket.h:
	SASL patch from Brendan Cully.

2000-08-03 22:08:13  roessler  (roessler)

	* charset.c: fix a segmentation fault.

	* po/eo.po, po/sv.po: update.

	* po/ru.po, po/sk.po, po/sv.po, po/uk.po, po/zh_TW.Big5.po,
	po/ko.po, po/nl.po, po/pl.po, po/pt_BR.po, po/fr.po, po/gl.po,
	po/id.po, po/it.po, VERSION, imap/Makefile.am, po/cs.po, po/da.po,
	po/de.po, po/el.po, po/eo.po, po/es.po, reldate.h, ChangeLog:
	automatic post-release commit for mutt-1.3.7

	* sendlib.c: Use a correct Envelope from when bouncing with
	$envelope_from enabled.

	* imap/BUGS, imap/auth_sasl.c, imap/imap.c, imap/imap_ssl.c,
	mutt_sasl.c: More IMAP fixes from Brendan.

2000-08-02 18:03:21  roessler  (roessler)

	* po/it.po: update

2000-08-01 18:04:42  roessler  (roessler)

	* mx.c: Fix from BC

	* imap/auth.c, imap/auth_gss.c, imap/auth_sasl.c, imap/message.c:
	Brendan's latest patches.

2000-07-31 10:49:00  roessler  (roessler)

	* po/fr.po: update.

	* m4/gettext.m4, imap/Makefile.am, imap/auth.c, imap/auth.h,
	imap/auth_anon.c, imap/auth_cram.c, imap/auth_gss.c,
	imap/auth_login.c, imap/auth_sasl.c, imap/command.c,
	imap/imap.c, imap/imap_private.h, Makefile.am, acconfig.h,
	account.c, account.h, configure.in, globals.h, init.h, main.c,
	mutt_sasl.c, mutt_sasl.h, mutt_socket.c, mutt_socket.h: Brendan
	Cully's SASL patch.  I hope I didn't miss any files.

2000-07-29 16:33:53  roessler  (roessler)

	* po/id.po: update.

	* imap/README: updated readme file.

	* Makefile.am: Make sure checktypes and makedoc don't depend on
	the intl library.

	* po/de.po: update.

2000-07-28 19:00:31  roessler  (roessler)

	* po/ru.po, po/sk.po, po/sv.po, po/uk.po, po/zh_TW.Big5.po,
	po/it.po, po/ko.po, po/nl.po, po/pl.po, po/pt_BR.po, po/eo.po,
	po/es.po, po/fr.po, po/gl.po, po/id.po, po/cs.po, po/da.po,
	po/de.po, po/el.po, ChangeLog, VERSION, reldate.h: automatic
	post-release commit for mutt-1.3.6

	* Makefile.am: parse.h no longer exists, so don't try to
	distribute it.

	* po/sv.po: branches:  1.27.2.6.2; automatic post-release commit
	for mutt-1.2.5

	* po/uk.po: branches:  1.42.2.6.2; automatic post-release commit
	for mutt-1.2.5

	* po/zh_TW.Big5.po: branches:  1.30.2.6.2; automatic post-release
	commit for mutt-1.2.5

	* po/pt_BR.po: branches:  1.20.2.6.2; automatic post-release
	commit for mutt-1.2.5

	* po/ru.po: branches:  1.67.2.7.2; automatic post-release commit
	for mutt-1.2.5

	* po/sk.po: branches:  1.28.2.6.2; automatic post-release commit
	for mutt-1.2.5

	* po/ko.po: branches:  1.31.2.6.2; automatic post-release commit
	for mutt-1.2.5

	* po/nl.po: branches:  1.36.2.6.2; automatic post-release commit
	for mutt-1.2.5

	* po/pl.po: branches:  1.39.2.6.2; automatic post-release commit
	for mutt-1.2.5

	* po/gl.po: branches:  1.23.2.6.2; automatic post-release commit
	for mutt-1.2.5

	* po/id.po: branches:  1.31.2.7.2; automatic post-release commit
	for mutt-1.2.5

	* po/it.po: branches:  1.59.2.6.2; automatic post-release commit
	for mutt-1.2.5

	* po/el.po: branches:  1.31.2.6.2; automatic post-release commit
	for mutt-1.2.5

	* po/eo.po: branches:  1.30.2.6.2; automatic post-release commit
	for mutt-1.2.5

	* po/es.po: branches:  1.49.2.6.2; automatic post-release commit
	for mutt-1.2.5

	* po/fr.po: branches:  1.45.2.7.2; automatic post-release commit
	for mutt-1.2.5

	* po/cs.po: branches:  1.35.2.7.2; automatic post-release commit
	for mutt-1.2.5

	* po/da.po: branches:  1.13.2.7.2; automatic post-release commit
	for mutt-1.2.5

	* po/de.po: branches:  1.99.2.7.2; automatic post-release commit
	for mutt-1.2.5

	* reldate.h: automatic post-release commit for mutt-1.2.5

	* ChangeLog: branches:	2.40.2.6.2; automatic post-release commit
	for mutt-1.2.5

	* VERSION: branches:  2.28.2.6.2; automatic post-release commit
	for mutt-1.2.5

	* imap/imap.c, imap/imap_private.h, imap/message.c: Use UIDs
	instead of sequence numbers in IMAP.  (Brendan)

	* imap/imap.c, imap/imap_private.h, imap/message.c,
	imap/message.h, imap/command.c, mutt.h, muttlib.c, mx.c: Handle
	expunged messages.  From Brendan Cully.

2000-07-26 09:30:01  roessler  (roessler)

	* doc/manual.sgml.head: Nits from Michael Sobolev.

2000-07-25 16:35:48  roessler  (roessler)

	* Makefile.am: Include the muttbug wrapper with the distribution.

	* doc/Makefile.in: Install muttbug.man als flea.1.

	* doc/mutt.man, doc/muttbug.man, Makefile.am, main.c, muttbug:
	Install muttbug(1) as flea(1), and adjust the documentation
	accordingly.  Note: Typing muttbug will still work.

	* doc/muttbug.man: More tiny fixes.

	* doc/muttbug.man: Fix some typos.  In particular, it's bug
	tracking system, not buck tracking system.  Oh well.

	* doc/Makefile.in, doc/mutt.man, doc/muttbug.man: muttbug(1)
	has a manual page of it's own now.

	* muttbug.sh.in: Fix a little bug concerning version numbers.

	* Makefile.am: The warning about README.UPGRADE can go.

	* doc/mutt.man: Mention the bug tracking system.

	* INSTALL: Mention that mutt needs an iconv implementation,
	and point users to libiconv.

	* INSTALL: Mention OpenBSD

	* Makefile.am: Remove types.h at "make clean" time.

	* curs_main.c: Fix a segmentation fault in the index.

	* curs_main.c: Try to fix a segmentation fault in the index.

2000-07-24 07:48:53  roessler  (roessler)

	* browser.h: make bit types unsigned.  From albert chin
	<china@thewrittenword.com>.

	* curs_lib.c, hdrline.c, help.c, mbyte.c, mbyte.h, menu.c:
	Replace wctomb and mbtowc with wcrtomb and mbrtowc.  From TAKIZAWA
	Takashi <taki@luna.email.ne.jp>, with small changes from Edmund
	Grimley Evans.

2000-07-23 21:47:01  roessler  (roessler)

	* menu.c: Fix #108, from Gero Treuner.

	* configure.in, resize.c: sys/ioctl.h vs. ioctl.h.  From Sam
	Roberts.

	* rfc2231.c: Fix an obvious bug which prevented rfc2231 _encoding_
	support from working.

2000-07-22 09:01:43  roessler  (roessler)

	* configure.in, mutt.h: Some more QNX compiling aides.

2000-07-21 07:32:12  roessler  (roessler)

	* imap/md5.h, Makefile.am, checktypes.c: Try to be smart about
	integer types.

	* imap/imap.c: Fix imap_passive.  From Brendan Cully.

	* contrib/Makefile.in: Fix #150.  From Brendan Cully.

2000-07-20 17:51:52  roessler  (roessler)

	* doc/devel-notes.txt: Typo.

	* imap/browse.c, imap/command.c, imap/imap.c, imap/imap.h,
	imap/imap_private.h, imap/util.c, mutt_socket.c, mutt_socket.h,
	mx.c, pop.c: Another IMAP patch from Brendan.

	* imap/util.c: quick hack against mx->mbox being NULL.

	* imap/BUGS, imap/imap.c, imap/imap.h, imap/util.c, postpone.c:
	patch-bac.postpone-2

	* pop.c: Use shared socket code, from Vsevolod Volkov.

2000-07-19 10:21:57  roessler  (roessler)

	* po/POTFILES.in, imap/Makefile.am, imap/auth.c, imap/auth_gss.c,
	imap/browse.c, imap/imap.c, imap/imap.h, imap/imap_private.h,
	imap/imap_socket.h, imap/imap_ssl.c, imap/imap_ssl.h,
	imap/message.c, imap/socket.c, imap/util.c, Makefile.am,
	acconfig.h, account.c, account.h, browser.c, configure.in,
	gettext.c, globals.h, init.c, init.h, mutt_socket.c,
	mutt_socket.h: IMAP socket moves by Brendan Cully, with a fix
	from Tommi Komulainen, and most likely based on input from
	Vsevolod Voykov (sp?).

	* imap/util.c: Fix more possible IMAP memory corruption.
	From Brendan Cully.

	* imap/util.c: Fix possible memory corruption in stable.
	From Brendan Cully.

	* imap/imap_private.h, imap/message.c, imap/socket.c, imap/imap.c:
	Backport various IMAP bug-fixes to stable.  From Brendan Cully.

2000-07-18 14:38:13  roessler  (roessler)

	* imap/auth.c, imap/auth_gss.c, imap/browse.c, imap/command.c,
	imap/imap.c, imap/imap_private.h, imap/message.c, imap/socket.c:
	More IMAP clean-up from Brendan Cully.

	* imap/imap.c, imap/imap_private.h, imap/message.c, imap/socket.c,
	imap/utf7.c: IMAP fixes from Brendan Cully.

	* init.h, init.h: Documentation fix.

2000-07-17 18:08:27  roessler  (roessler)

	* imap/message.c: Fix possible heap corruption.  From Brendan
	Cully.

	* imap/utf7.c: Name changes left out by EGE's patch.

	* imap/util.c, imap/imap_private.h: imap/UTF7 related fixes
	from EGE.

	* curs_main.c: Fix #192.

2000-07-16 15:35:14  roessler  (roessler)

	* imap/Makefile.am, imap/browse.c, imap/imap.c,
	imap/imap_private.h, imap/message.c, imap/utf7.c, imap/util.c:
	Support modified UTF-7 in folder names.  From Edmund Grimley
	Evans, modified by Brendan Cully.

	* handler.c: Another qp fix.

	* handler.c: More qp decoder modifications: We should handle
	multibyte characters spanning soft line breaks.

	* handler.c: Rewrite the quoted-printable decoder so it properly
	chops off trailing white space.  Problem noted by Byrial Jensen.

2000-07-15 06:51:47  roessler  (roessler)

	* imap/socket.c: Add a message that we are looking up a host.

2000-07-14 15:03:43  roessler  (roessler)

	* imap/message.c, imap/message.h: Brendan's latest IMAP changes.

	* README.SSL: Tommi Komulainen's entropy gathering patch -
	documentation.

2000-07-12 14:17:46  roessler  (roessler)

	* po/cs.po: update.

	* imap/imap_ssl.c: Entropy gathering fixes.

	* configure.in: Re-apply the iconv patch from vvv.

	* configure.in: undo the enable-external-dotlock patch.

	* handler.c: Initialize a variable in order to avoid a
	segmentation fault.  From Aaron Schrab.

2000-07-11 20:38:49  roessler  (roessler)

	* imap/imap.c, imap/imap_private.h, imap/socket.c: Unify logout
	stuff in _one_ function.  From Vsevolod Volkov.

	* imap/message.c: Disable a bug work-around which actually
	breaks things.

	* configure.in: Typo, noted by Brad <brad@comstyle.com>.

2000-07-10 19:52:12  roessler  (roessler)

	* main.c: Typo.

	* po/id.po: update.

	* rfc2047.c: Fix some possible NULL pointer deferences in the
	RFC2047 code.

	* imap/command.c, imap/imap.c, imap/message.c, imap/socket.c,
	browser.c, pgpkey.c, pop.c, query.c, remailer.c: Fix a bunch
	of cases where format parameters were missing from calls to
	mutt_message and mutt_error.

	* imap/command.c, imap/imap.c, imap/message.c, browser.c,
	pgpkey.c, pop.c, query.c, remailer.c: [stable] Fix a bunch of
	cases where format parameters were missing to calls of mutt_error
	and mutt_message.

	* po/ru.po, po/de.po, po/da.po: update.

	* po/da.po: Update.

	* INSTALL, acconfig.h, charset.c, configure.in, main.c: Some
	changes from EGE.

2000-07-07 15:12:37  roessler  (roessler)

	* po/fr.po: update

	* attach.c, copy.c, editmsg.c, from.c, mbox.c, parse.c, parse.h,
	pgp.c, protos.h: Fix #185:  is_from would return 0 (i.e., error)
	when parsing Jan 1 1970 12:00 - apparently, this point of time
	occurs on real mail folders.

2000-07-06 23:08:39  roessler  (roessler)

	* po/sv.po, po/uk.po, po/zh_TW.Big5.po, po/pt_BR.po, po/ru.po,
	po/sk.po, po/nl.po, po/pl.po, po/it.po, po/ko.po, po/es.po,
	po/fr.po, po/gl.po, po/id.po, po/da.po, po/de.po, po/el.po,
	po/eo.po, ChangeLog, VERSION, po/cs.po: automatic post-release
	commit for mutt-1.2.4

	* muttlib.c: ups, this should be fixed in stable.

	* po/pt_BR.po, po/ru.po, po/sk.po, po/sv.po, po/uk.po,
	po/zh_TW.Big5.po, po/ko.po, po/nl.po, po/pl.po, po/eo.po,
	po/es.po, po/fr.po, po/gl.po, po/id.po, po/it.po, po/cs.po,
	po/da.po, po/de.po, po/el.po, reldate.h, ChangeLog, VERSION:
	automatic post-release commit for mutt-1.3.5

	* po/sv.po, po/uk.po, po/zh_TW.Big5.po, po/pt_BR.po, po/ru.po,
	po/sk.po, po/ko.po, po/nl.po, po/pl.po, po/fr.po, po/gl.po,
	po/id.po, po/it.po, po/el.po, po/eo.po, po/es.po, po/cs.po,
	po/da.po, po/de.po, reldate.h, ChangeLog, VERSION: automatic
	post-release commit for mutt-1.2.3

	* po/fr.po: update.

	* imap/auth.c, imap/auth_gss.c, imap/browse.c, imap/command.c,
	imap/imap.c, imap/imap_private.h, imap/imap_socket.h,
	imap/message.c, imap/socket.c: More IMAP clean-up.

	* imap/imap_private.h, imap/imap_socket.h, imap/message.c,
	imap/socket.c, imap/util.c, imap/browse.c, imap/command.c,
	imap/imap.c: More IMAP fixes from Brendan Cully.

2000-07-05 14:39:14  roessler  (roessler)

	* imap/socket.c: Fix the Fix.  From TK.

2000-07-05 10:32:17  Tommi Komulainen  <Tommi.Komulainen@iki.fi>
(roessler)

	* imap/imap_ssl.c, imap/socket.c: - imap_logout_all assumed
	  every connection with descriptor value != 0 to be ready for
	  reading/writing. Unfortunately when the descriptor was closed,
	  conn->fd remained untouched. This is why mutt segfaulted if
	  IMAP login was aborted with ^G.

	- ssl_socket_close was called without calling ssl_socket_open
	  first.  This caused a segfault because conn->sockdata was
	  NULL. Apparently there was also a memory leak, because
	  conn->sockdata was never free'd :-]

2000-07-05 08:05:03  roessler  (roessler)

	* imap/BUGS, imap/TODO, imap/auth.c, imap/imap.c, imap/socket.c:
	IMAP cosmetics from Brendan Cully.

2000-07-04 17:59:10  roessler  (roessler)

	* doc/manual.sgml.head: slight documentation imrpovement from
	Will Fiveash.

2000-07-03 15:26:22  roessler  (roessler)

	* po/de.po: update

	* imap/BUGS, imap/command.c, imap/imap.c, imap/imap.h,
	imap/imap_socket.h, imap/socket.c, imap/util.c, curs_main.c:
	IMAP logout patch from Brendan Cully.

	* po/id.po: update

	* po/id.po: update.

	* rfc2047.c: "Where have all the headers gone" fix from EGE.

	* sendlib.c: utf8 -> utf8 fix (From EGE).

	* rfc2047.c: RFC 2047 patch from EGE.

2000-06-30 08:28:56  roessler  (roessler)

	* po/pl.po: fix a format.

	* sendlib.c: Character set fix from EGE.

2000-06-27 22:28:01  roessler  (roessler)

	* sendlib.c: minor change from EGE.

	* main.c, rfc2047.c: Cosmetics.  No, I didn't touch the word-wrap
	code. ;-)

2000-06-26 23:10:26  roessler  (roessler)

	* muttlib.c: Fix a possible segfault in mutt_expand_folder. Noted
	by AMK; [stable].

	* muttlib.c: Fix a possible segmentation fault in
	mutt_expand_path.  Noted by Andreas M. Kirchwitz.

	* doc/Makefile.in, contrib/Makefile.in: "make check" cosmetics.

	* contrib/sample.muttrc-tlr: update.

	* configure.in: Iconv detection patch.	From Lars Hecking.

	* color.c, color.c: Fix #173.  From Roland Rosenfeld.

2000-06-22 23:18:36  roessler  (roessler)

	* muttlib.c: Avoid crashing when forwarding message/rfc822-type
	attachments.

	* Makefile.am, prepare: Lars Hecking's build process patch
	for stable.

	* rfc822.c: branches:  2.9.2.1.2; Fix stack corruption
	in the RFC822 parser.  Noted by Ari Gordon-Schlosberg
	<ari@heavyware.com>.

	* rfc822.c: Fix stack corruption in the RFC822 parser.
	Problem noted by Ari Gordon-Schlosberg <ari@heavyware.com>.

	* recvattach.c: Merge two almost-identical string constants.
	From Byrial.

2000-06-21 19:23:23  roessler  (roessler)

	* imap/auth_gss.c: More debug code which needs #ifdefs.

	* imap/auth_gss.c: More debugging code which needs #ifdefs.

	* po/eo.po: update.

	* Makefile.am, prepare: Work-around for keymap_defs and other
	dependency problems.  From Lars Hecking.

	* muttlib.c: Fix ~logname expansion for stable.

	* muttlib.c: Fix ~logname expansion.

	* README: Remove explicit list of mirrors, and refer to
	download.html.

	* mbox.c: Fix another mbox synch problem.

	* mbox.c: Fix another bug in mbox synching.

	* postpone.c: Some more character set cleanup,.

	* commands.c, compose.c, muttlib.c, pgpkey.c, postpone.c,
	protos.h, recvattach.c, send.c, sendlib.c: More character set
	clean-up.

	* postpone.c: Improve character set handling when postponing
	messages.  This patch may lead to information loss under very
	special circumstances.

	* muttlib.c, protos.h: Remove unused mutt_dup_body () function.

	* compose.c, pgpkey.c, protos.h, recvattach.c, send.c, sendlib.c:
	Fix character set selection.  Postponing and recalling messages
	should work again, now.

	* postpone.c, sendlib.c: Fix a file descriptor leak in sendlib.c.

	* main.c, main.c: patch-1.3.2.tbm.lastfolder, from Martin
	Michlmayr <tbm@cyrius.com>.

	* commands.c, hook.c, protos.h, recvattach.c, recvcmd.c, send.c:
	Apply message-hook to more commands, and make it more useful by
	permitting the "~h" and "~b" pattern specifiers.  Bad enough, this
	removes message-hook abilities from the receive-attachment menu.

2000-06-20 22:23:37  roessler  (roessler)

	* po/sv.po, po/uk.po, po/zh_TW.Big5.po, po/pl.po, po/pt_BR.po,
	po/ru.po, po/sk.po, po/it.po, po/ko.po, po/nl.po, po/es.po,
	po/fr.po, po/gl.po, po/id.po, po/el.po, po/eo.po, po/cs.po,
	po/da.po, po/de.po, ChangeLog, VERSION, reldate.h: automatic
	post-release commit for mutt-1.2.2

	* build-release: Add a "make" call, so build-release will also
	work from a source tree which hasn't been built recently.

	* commands.c: Do some comparisons case-insensitive.

	* po/ru.po: update.

	* doc/muttrc.man.head: s/display-hook/message-hook/

	* po/de.po: Fix a misleading fuzzy translation about PGP
	signature validity.  From Roland Rosenfeld.

	* imap/imap.c: Don't use debuglevel unless DEBUG is defined.
	Noted by china@thewrittenword.com.

	* imap/imap.c: Only use debuglevel if DEBUG is defined.  Noted by
	Albert Chin <china@thewrittenword.com>,

	* po/fr.po: update.

2000-06-19 21:13:19  roessler  (roessler)

	* doc/devel-notes.txt, doc/manual.sgml.head, init.h, makedoc.c:
	patch-1.3.3.bj.docref.1

	* build-release: Make sure m4/Makefile is _really_ rebuilt.

	* po/zh_TW.Big5.po, po/ru.po, po/sk.po, po/sv.po, po/uk.po,
	po/ko.po, po/nl.po, po/pl.po, po/pt_BR.po, po/es.po, po/fr.po,
	po/gl.po, po/id.po, po/it.po, po/da.po, po/de.po, po/el.po,
	po/eo.po, po/cs.po, ChangeLog, VERSION, reldate.h: automatic
	post-release commit for mutt-1.2.1

	* doc/manual.sgml.head: Fix some more mentions of display-hook.

	* po/ru.po, po/sk.po, po/sv.po, po/uk.po, po/zh_TW.Big5.po,
	po/fr.po, po/gl.po, po/id.po, po/it.po, po/ko.po, po/nl.po,
	po/pl.po, po/pt_BR.po, ChangeLog, VERSION, po/cs.po, po/da.po,
	po/de.po, po/el.po, po/eo.po, po/es.po, reldate.h: automatic
	post-release commit for mutt-1.3.4

	* compose.c: No need to include iconv.h.

	* po/da.po: update.

	* po/ru.po: update

2000-06-17 08:07:36  roessler  (roessler)

	* imap/imap_ssl.c: Certificate verification fix from Tommi
	Komulainen.

	* imap/imap_ssl.c: SSL fix.

	* po/ru.po: upate

2000-06-16 10:21:34  roessler  (roessler)

	* OPS, commands.c, compose.c, functions.h, mutt.h, sendlib.c:
	patch-1.3.3.tlr.change_charset.1

	* po/ru.po: nit.

2000-06-15 21:37:07  roessler  (roessler)

	* doc/manual.sgml.head, doc/muttrc.man.head, commands.c, hook.c,
	init.h, mutt.h, recvcmd.c, send.c: patch-1.3.3.tlr.message_hook.1

	* mutt.h, sendlib.c: patch-1.3.3.tlr.content_info.1

	* imap/imap.c: shut up the compiler.

	* po/ru.po, commands.c, init.h: nits.

	* commands.c, globals.h, init.h: patch-1.2.bbell.display_filter.2.

	* complete.c: patch-1.3.2.bbell.complete.1 - autocomplete "!",
	which is helpful in certain IMAP contexts.

	* copy.c, mbox.c, mh.c, mx.c: [stable] Prevent data corruption
	when the temporary space runs full.  Backport from unstable.

	* po/el.po, po/fr.po: updates.

	* po/ru.po: update.

	* rfc2047.c, sendlib.c, copy.c, handler.c: Avoid dumping core
	when Charset isn't set.

	* init.h: Little documentation fix from Aaron Schrab.

2000-06-14 09:23:45  roessler  (roessler)

	* OPS, charset.c, charset.h, compose.c, functions.h, handler.c:
	Remove recode-attachment, and the "decoder" API.  (EGE)

	* gettext.c: Make sure --disable-nls works.  (EGE)

2000-06-13 20:36:33  roessler  (roessler)

	* init.h, mutt.h, sendlib.c: EGE's latest send-charset patch.

	* m4/curslib.m4: New file, contains Tom Dickey's CF_CURSES_LIBS
	macro from lynx.

	* configure.in: Use CF_CURSES_LIBS macro for better detection
	of platform-specific curses libraries.	From Lars Hecking.

	* main.c: Inform us about ICONV_NOTRANS.  From EGE.

	* configure.in: iconv detection.  From EGE.

	* commands.c: Only display PGP signature verification status if
	verification was tried.

2000-06-12 07:02:42  roessler  (roessler)

	* configure.in: A new check for working wchar functions.

2000-06-11 19:05:12  roessler  (roessler)

	* mh.c, mx.c: Fix some issues with synching of maildir/mh folders.
	Problems noted by Byrial Jensen.

2000-06-09 17:42:14  roessler  (roessler)

	* pattern.c: Force decimal parsing on dates, so 09 is parsed as 9,
	and not as "invalid".

	* imap/imap_ssl.c, imap/imap_ssl.c: Fix a mix-up.

	* po/sv.po, po/uk.po, po/zh_TW.Big5.po, po/de.po, po/el.po,
	po/eo.po, po/es.po, po/fr.po, po/gl.po, po/id.po, po/it.po,
	po/ko.po, po/nl.po, po/pl.po, po/pt_BR.po, po/ru.po, po/sk.po,
	VERSION, po/cs.po, po/da.po, ChangeLog, po/ru.po, po/sk.po,
	po/sv.po, po/uk.po, po/zh_TW.Big5.po, po/da.po, po/de.po,
	po/el.po, po/eo.po, po/es.po, po/fr.po, po/gl.po, po/id.po,
	po/it.po, po/ko.po, po/nl.po, po/pl.po, po/pt_BR.po, po/cs.po,
	reldate.h, ChangeLog: automatic post-release commit for mutt-1.3.3

	* charset.c, init.c: Fix some typos in the nl_langinfo stuff.

	* rfc2047.c: Latest patch from EGE.

2000-06-08 21:44:14  roessler  (roessler)

	* copy.c, mbox.c: This patch should fix the mailbox corruption
	various people observed.

	* charset.c, charset.h, init.c: Fix up the value returned by
	nl_langinfo(CODESET).

	* mbox.c: Improve error reporting with mbox folders a bit.

	* send.c: patch-1.2.bj.ed_mtime.1

	* Makefile.am, acconfig.h, configure.in, main.c, mbyte.c:
	Removing the built-in charset support.

	* doc/muttrc.man.head: one-character typo.

	* imap/imap_ssl.c: Fix #157.  From Enrik Berkhan
	<Enrik.Berkhan@fun.de>.

	* imap/imap_ssl.c: [stable] Fix #157.  From Enrik Berkhan
	<Enrik.Berkhan@fun.de>.

	* README.SSL, init.h, mutt.h, imap/imap_ssl.c: [stable]
	patch-1.3.2.tl.sslcerts.1.

	* charset.c: Don't return data on the stack.  Noted by "Andrew
	W. Nosenko" <awn@bcs.zp.ua>.

	* po/sv.po: update.

2000-06-04 18:18:56  roessler  (roessler)

	* doc/manual.sgml.head: Nits from Mikko Hänninen.

2000-06-02 10:05:41  roessler  (roessler)

	* imap/imap.h, imap/imap.h, pgp.c: Fix #152.

2000-05-30 12:52:41  roessler  (roessler)

	* po/pl.po: update

2000-05-29 22:34:12  roessler  (roessler)

	* rfc2047.c, rfc2047.h, send.c, sendlib.c: Edmund's latest
	RFC2047 encoding update.

2000-05-28 20:32:05  roessler  (roessler)

	* commands.c: Don't bother the user with messages about PGP
	signature verification when there is no PGP stuff about the
	message.

	* README.SSL, init.h, mutt.h: SSL certificate verification fixes
	from Tommi Komulainen.

	* imap/imap_ssl.c: SSL certificate verification fix from Tommi
	Komulainen.

	* imap/command.c: [stable] Handle connection take-down by servers
	more graciously.  From Patrick Caulfield.

	* doc/manual.sgml.head, contrib/pgp2.rc, contrib/pgp5.rc,
	commands.c, init.h, pgp.c, pgp.h: Modified version of Byrial
	Jensen's signature verification patch.

2000-05-25 12:21:29  roessler  (roessler)

	* pgp.c: Use strftime for time indications with PGP verification.

	* curs_lib.c, mbyte.c: Somewhat different sigsegv fix suggested
	by EGE.

	* mbyte.c: wctomb(0,wc) is needed to work for bounds checking.

	* mutt.h: Include stdlib.h from mutt.h.

	* makedoc.c, init.h: Minor fixes from Byrial.

	* doc/manual.sgml.head: typo.

	* doc/devel-notes.txt, init.h, makedoc.c: Documentation
	beautification patch from Byrial Jensen.  Thanks!

2000-05-24 19:20:07  roessler  (roessler)

	* po/ru.po: Fixes #143.

	* po/ru.po: Some fixes - #143.

	* charset.c, charset.h, compose.c, gnupgparse.c: Make charset-hook
	work with an external iconv implementation.

	* imap/command.c: Handle disconnects more gracefully.
	From Patrick Caulfield <patrick@sco.com>.

	* config.guess, config.sub: [stable] Latest versions from
	ftp.gnu.org/pub/gnu/config

	* config.guess, config.sub: Latest versions from
	ftp.gnu.org/pub/gnu/config.

2000-05-23 17:16:46  roessler  (roessler)

	* po/id.po, po/it.po, po/ko.po, po/nl.po, po/pl.po, po/pt_BR.po,
	po/ru.po, po/sk.po, po/sv.po, po/uk.po, po/zh_TW.Big5.po,
	ChangeLog, VERSION, po/cs.po, po/da.po, po/de.po, po/el.po,
	po/eo.po, po/es.po, po/fr.po, po/gl.po, reldate.h: automatic
	post-release commit for mutt-1.3.2

	* contrib/gpg.rc: Make this work on QNX.

	* contrib/gpg.rc: Change suggested by Sam Roberts
	<sroberts@uniserve.com> to make this work on QNX.

2000-05-22 16:15:35  roessler  (roessler)

	* po/pl.po: update

	* rfc2047.c: Fix a stupid segmentation fault.

	* lib.c: cosmetics.

	* rfc2047.c: Fix a memory leak.

	* charset.c, lib.c, lib.h, protos.h: Add mutt_str_adjust ().

	* parse.c: Fix a possible cause for heap corruption.

	* po/de.po: update.

	* charset.c, gettext.c: Make mutt_gettext () a bit more compact.

2000-05-21 18:45:15  roessler  (roessler)

	* mbyte.h: Small fix from EGE.

	* sendlib.c: Some fixes so ISO-2022-JP* works with mutt.
	Mostly from TAKIZAWA Takashi <taki@luna.email.ne.jp>.

	* muttlib.c: Comment a bit of code.

2000-05-20 18:16:18  roessler  (roessler)

	* po/fr.po: update.

	* charset.c, charset.h, curs_lib.c, rfc2047.c, rfc2231.c: String
	conversion patch from EGE.

	* doc/manual.sgml.head, hook.c: Second version of Byrial's
	display-hook patch.

	* po/uk.po, po/zh_TW.Big5.po, po/fr.po, po/gl.po, po/id.po,
	po/it.po, po/ko.po, po/nl.po, po/pl.po, po/pt_BR.po, po/ru.po,
	po/sk.po, po/sv.po, ChangeLog, VERSION, po/cs.po, po/da.po,
	po/de.po, po/el.po, po/eo.po, po/es.po, reldate.h: automatic
	post-release commit for mutt-1.3.1

	* doc/muttrc.man.head: Document display-hook in the manual page.

	* commands.c, hook.c, init.h, mutt.h, protos.h, send.c: Add a
	display-hook command.  From Byrial Jensen.

	* alias.c, browser.c, init.c, lib.c, mutt.h, muttlib.c, protos.h:
	Add mutt_gecos_name function which centrally handles the GECOS
	processing.

	* imap/imap.c: Shut up some warnings.  We may have to think
	about mutt_stristr again.

	* configure.in: Verify that regmatch_t has offsets, and not
	only pointers.	From Sam Roberts <sroberts@uniserve.com>.

	* configure.in: Don't look for curses in /usr/5lib any more -
	this broke things for some people.

	* configure.in: Don't look for the curses library in /usr/5lib
	any more.  This broke things for some people.

	* sendlib.c: Real fix for the pointer problem noted by Heiko
	Schlichting.

	* sendlib.c: Fix a "string on stack returned" bug found by
	Heiko Schlichting.

2000-05-19 07:36:42  roessler  (roessler)

	* hdrline.c: Fix %. formats.  From EGE.

2000-05-18 17:06:59  roessler  (roessler)

	* copy.c, parse.c, rfc2047.c, rfc2047.h, rfc2231.c, send.c,
	sendlib.c: rfc2047_decode change from EGE.

	* charset.c: Catch a segmentation fault in mutt_convert_string ().

	* acconfig.h: Don't enable debugging by default in the stable
	branch.

	* configure.in, main.c: More debugging output, and a warning
	in configure.in.

	* main.c: Tell us something about internal iconv and CHARMAPS_DIR
	from mutt -v.

2000-05-17 12:39:16  roessler  (roessler)

	* mkjtags.c: handle ^L lines correctly.

	* mkjtags.c: Some beautifications.

	* Makefile.am, mkjtags.c: Add a little tool to help with building
	tags files my editor groks.

	* handler.c: When displaying a deleted attachment's information,
	present the file name if it is present.  Suggested by Pete
	Wenzel <pete@stc.com>.

	* imap/imap_ssl.c: SSL certificate check fix.  From Tommi
	Komulainen.

	* imap/imap_ssl.c: Certificate check fix, from Tommi Komulainen.

	* OPS, enter.c, functions.h: Add forward-word and backward-word
	functions to the editor.

	* OPS, enter.c, functions.h: Add a kill-eow function to the
	line editor.

	* init.c: Small fix to mutt_set_default().

2000-05-16 19:01:50  roessler  (roessler)

	* Makefile.am: We don't need to build in the charmaps/ directory
	unless we use the included iconv.

	* compose.c, mutt.h, protos.h, sendlib.c: Some fixes to the size
	calculation code.

	* compose.c, globals.h, init.h, sendlib.c: A modified version
	of Will Fiveash's compose format patch.

	* acconfig.h, configure.in, init.c, init.h: Use nl_langinfo's
	return value as the default for $charset.

	* init.c: More default setting.  This can easily be done much
	cleaner than the last version of the patch.

	* init.c: Hack: mutt_restore_default() now stores the latest
	value of a variable as it's default if there was no default
	before.  The code in question is executed precisely once: when
	mutt_restore_default() is invoked from mutt_init().

	* hook.c, lib.c, lib.h, muttlib.c, protos.h: Let _mutt_expand_path
	escape regular expression special characters.  For stable.

	* hook.c, lib.c, lib.h, muttlib.c, protos.h: mutt_expand_path
	is now able to escape special characters for use in regular
	expressions.  This is needed to make folder-hooks work like
	intended.

	* muttlib.c: Sanitize file names passed to mutt_adv_mktemp.

	* muttlib.c: Sanitize file name suggestions passed to
	mutt_adv_mktemp.

	* doc/manual.sgml.tail, OPS, enter.c, functions.h: Add a
	transpose-character function to the editor.  From Aaron Schrab.

	* configure.in: Improve the wchar_t checks.  From "Andrew
	W. Nosenko" <awn@bcs.zp.ua>.

2000-05-15 12:00:53  roessler  (roessler)

	* configure.in, mbyte.c, pager.c: More iconv-related patches
	from EGE.

2000-05-13 17:39:03  roessler  (roessler)

	* configure.in: HP/UX vs. ANSI C.  From Lars Hecking and Albert
	Chin. [stable]

	* configure.in: Configuration for ANSI C / HP/UX.  From albert
	chin and Lars Hecking.

2000-05-12 13:41:34  roessler  (roessler)

	* mbyte.c, wcwidth.c: Make things compile. ;-)

	* mbyte.c, mbyte.h, wcwidth.c: Isprint-related changes.
	Suggested by Andrew Nosenko, adapted by EGE.

	* gettext.c: Replacing some more free() calls by safe_free().

	* acconfig.h, configure.in, curs_lib.c, gettext.c, help.c,
	mbyte.c, mbyte.h, mutt.h, pager.c, wcwidth.c: wide-character
	related patches.  From Edmund Grimley Evans.

	* configure.in: HP/UX -Ae detection.  From Albert Chin. [stable]

	* configure.in: Improve the HP/UX check for the -Ae command
	line parameter.  From albert chin (china@thewrittenword.com).

	* gen_defs: Make sure gen_defs returns success.  [stable]

	* gen_defs: Sam Roberts reports that some shells do strange
	things with exit states.

	* doc/manual.sgml.head: Fix $spool vs. $spoolfile.  From David
	Ellement.

2000-05-11 07:10:32  roessler  (roessler)

	* doc/mutt.man: Remove some unnecessary spaces.

	* doc/mutt.man, main.c: Fix usage information.	Noted by Mikko
	Hänninen.

	* acconfig.h, configure.in, globals.h: Check volatility of
	sig_atomic_t.

2000-05-10 18:02:31  roessler  (roessler)

	* configure.in: Support for old Kerberos versions.  From David
	Champion <dgc@uchicago.edu>.

	* configure.in: Fix support for old Kerberos libraries.

	* hdrline.c, thread.c: updated messages-in-thread (%e) patch
	from Markus Holmberg.

	* po/pl.po: update.

	* init.h, mutt.h, pop.c: Fix a segmentation fault introduced by
	the change of pop_delete to a quad option.

	* po/fr.po: Update the French translation.

2000-05-09 20:19:28  roessler  (roessler)

	* parse.c: more mailtool brain-damage support.

	* acconfig.h, configure.in, parse.c: Sun mailtool message support.
	The format is ugly, but the patch is reasonably clean.

	* Makefile.am: include mbyte.h with the distribution.

	* doc/devel-notes.txt: Add a word about format flags.

	* imap/message.c: Make the X-Label patch work over IMAP.

	* po/nl.po, po/pl.po, po/pt_BR.po, po/ru.po, po/sk.po, po/sv.po,
	po/uk.po, po/zh_TW.Big5.po, po/cs.po, po/da.po, po/de.po,
	po/el.po, po/eo.po, po/es.po, po/fr.po, po/gl.po, po/id.po,
	po/it.po, po/ko.po, reldate.h, ChangeLog, VERSION: automatic
	post-release commit for mutt-1.3

	* hdrline.c, init.h, protos.h, thread.c: Add a %e option
	for thread-relative message numbers.  From Markus Holmberg
	<markush@acc.umu.se>.

	* doc/manual.sgml.head, hdrline.c, init.h, mutt.h, parse.c,
	pattern.c: X-Label header support from David Champion
	<dgc@uchicago.edu>.

	* init.h, pop.c: Make pop_delete a quad-option.  From Honza
	Pazdziora <adelton@informatics.muni.cz>.

	* VERSION: Ups, we should leave the version file on 1.2, so the
	diff will get built properly when I release 1.3.

	* lib.h, mbyte.c, mbyte.h, menu.c, muttlib.c, pager.c,
	pgppubring.c, protos.h, rfc2047.c, rfc2231.c, sendlib.c,
	utf8.c, wcwidth.c, Makefile.am, VERSION, charset.c, charset.h,
	commands.c, compose.c, configure.in, curs_lib.c, curs_main.c,
	enter.c, gettext.c, gnupgparse.c, hdrline.c, help.c, init.c:
	Edmund Grimley Evans' UTF-8 patch.

	* po/ko.po, po/nl.po, po/pl.po, po/pt_BR.po, po/ru.po, po/sk.po,
	po/sv.po, po/uk.po, po/zh_TW.Big5.po, VERSION, po/cs.po,
	po/da.po, po/de.po, po/el.po, po/eo.po, po/es.po, po/fr.po,
	po/gl.po, po/id.po, po/it.po, reldate.h, ChangeLog: automatic
	post-release commit for mutt-1.2

	* build-release: unstable branch.

	* build-release: start preparing 1.2.

2000-05-03 07:48:46  roessler  (roessler)

	* po/zh_TW.Big5.po: branches:  1.30.2; automatic post-release
	commit for mutt-1.1.14

	* po/da.po: branches:  1.13.2; automatic post-release commit
	for mutt-1.1.14

	* po/de.po: branches:  1.99.2; automatic post-release commit
	for mutt-1.1.14

	* po/el.po: branches:  1.31.2; automatic post-release commit
	for mutt-1.1.14

	* po/eo.po: branches:  1.30.2; automatic post-release commit
	for mutt-1.1.14

	* po/es.po: branches:  1.49.2; automatic post-release commit
	for mutt-1.1.14

	* po/fr.po: branches:  1.45.2; automatic post-release commit
	for mutt-1.1.14

	* po/gl.po: branches:  1.23.2; automatic post-release commit
	for mutt-1.1.14

	* po/id.po: branches:  1.31.2; automatic post-release commit
	for mutt-1.1.14

	* po/it.po: branches:  1.59.2; automatic post-release commit
	for mutt-1.1.14

	* po/ko.po: branches:  1.31.2; automatic post-release commit
	for mutt-1.1.14

	* po/nl.po: branches:  1.36.2; automatic post-release commit
	for mutt-1.1.14

	* po/pl.po: branches:  1.39.2; automatic post-release commit
	for mutt-1.1.14

	* po/pt_BR.po: branches:  1.20.2; automatic post-release commit
	for mutt-1.1.14

	* po/ru.po: branches:  1.67.2; automatic post-release commit
	for mutt-1.1.14

	* po/sk.po: branches:  1.28.2; automatic post-release commit
	for mutt-1.1.14

	* po/sv.po: branches:  1.27.2; automatic post-release commit
	for mutt-1.1.14

	* po/uk.po: branches:  1.42.2; automatic post-release commit
	for mutt-1.1.14

	* ChangeLog: branches:	2.40.2; automatic post-release commit
	for mutt-1.1.14

	* VERSION: branches:  2.28.2; automatic post-release commit
	for mutt-1.1.14

	* po/cs.po: branches:  1.35.2; automatic post-release commit
	for mutt-1.1.14

	* po/sk.po, po/sv.po, po/uk.po, po/zh_TW.Big5.po, po/da.po,
	po/de.po, po/el.po, po/eo.po, po/es.po, po/fr.po, po/gl.po,
	po/id.po, po/it.po, po/ko.po, po/nl.po, po/pl.po, po/pt_BR.po,
	po/ru.po, ChangeLog, VERSION, po/cs.po: automatic post-release
	commit for mutt-1.1.13

	* reldate.h: branches:	2.25.2; automatic post-release commit
	for mutt-1.1.13

2000-04-30 06:58:21  roessler  (roessler)

	* imap/message.c: branches:  1.24.2; Catch the case that an IMAP
	server sends "\n\n" after a mail header.  Diagnosed by Brendan.

2000-04-29 13:38:05  roessler  (roessler)

	* query.c: branches:  2.5.2; Fix a possible segmentation fault
	with the external query feature.

	* imap/imap.c: branches:  1.26.2; Fix the "empty screen after
	sync" bug observed with certain versions of the Courier IMAP
	server.  From Brendan Cully.

2000-04-26 17:43:00  roessler  (roessler)

	* imap/util.c: branches:  1.23.2; Fix the imap_force_ssl option.

	* po/da.po: update.

	* contrib/pgp6.rc: Fix a little typo.  Noted by Steve Brewer
	<limako@mediaone.net>.

	* imap/imap_ssl.c: branches:  1.12.2; Add a new option named
	imap_force_ssl.

	* imap/imap_ssl.h, imap/util.c: Add a new option named
	imap_force_ssl.

	* init.h: branches:  2.80.2; Add a new option named
	imap_force_ssl.

	* mutt.h: branches:  2.62.2; Add a new option named
	imap_force_ssl.

2000-04-25 18:39:01  roessler  (roessler)

	* acconfig.h: branches:  2.15.2; Revised version of Lars' patch.

	* configure.in: branches:  2.61.2; Revised version of Lars' patch.

	* m4/funcdecl.m4: New macros CF_CHECK_FUNCDECL,
	CF_CHECK_FUNCDECLS, CF_UPPER. These are slightly modified versions
	of T. E. Dickey's macros from the lynx distribution. (From
	Lars Hecking.)

	* configure.in: Use new CF_CHECK_FUNCDECLS macro for curses
	functions. This should catch function declarations and macros
	alike. Due to a misfeature in autoheader, we have to explicitly
	AC_DEFINE the curses functions.  (From Lars Hecking.)

	* acconfig.h: acconfig.h: Remove duplicate VERSION and unused
	HAVE_GETOPT_DECL.  Remove DEBUGGER (it's AC_SUBST'ed, not
	AC_DEFINE'd). Add defines for curses functions. (From Lars
	Hecking.)

	* po/it.po: update.

2000-04-24 13:10:11  roessler  (roessler)

	* imap/util.c: Fix a segmentation fault with folder completion.
	From Brendan.

	* imap/message.c: Fall back to INTERNALDATE when Date header
	isn't present.	From Brendan.

2000-04-22 18:34:29  roessler  (roessler)

	* po/ko.po, po/nl.po, po/pl.po, po/pt_BR.po, po/ru.po, po/sk.po,
	po/sv.po, po/uk.po, po/zh_TW.Big5.po, ChangeLog, VERSION,
	po/cs.po, po/da.po, po/de.po, po/el.po, po/eo.po, po/es.po,
	po/fr.po, po/gl.po, po/id.po, po/it.po, reldate.h: automatic
	post-release commit for mutt-1.1.12

	* doc/manual.sgml.head: branches:  1.31.2; Add a link to
	http://www.mutt.org/download.html.

	* init.c, init.h, thread.c: Handle sort_aux="threads"
	somewhat different, and probably more safely.  Problem and
	principle of fix noted by Gero Treuner and Michael Tatge
	<Michael.Tatge@studserv.uni-stuttgart.de>.

	* lib.c: branches:  2.23.2; Coda compatibility.  From Jan Harkes
	<jaharkes@cs.cmu.edu>.

	* parse.c: Fix message parsing.  This fixes the "Reply-To in
	body" bug.  From Edmund GRIMLEY EVANS.

	* doc/manual.sgml.tail: Fix the sgmltools URL.	From Martin
	Michlmayr.

	* charset.c: branches:	2.19.2; Comment cosmetics.  From Martin
	Michlmayer.

	* editmsg.c, extlib.c, gnupgparse.c, lib.c: Comment cosmetics.
	From Martin Michlmayer.

	* lib.h: branches:  2.7.2; Comment cosmetics.  From Martin
	Michlmayer.

	* pgpinvoke.c: Comment cosmetics.  From Martin Michlmayer.

	* pgpkey.c: branches:  2.24.2; Comment cosmetics.  From Martin
	Michlmayer.

	* pgplib.c, pgppubring.c, recvcmd.c: Comment cosmetics.
	From Martin Michlmayer.

	* remailer.c: branches:  2.11.2; Comment cosmetics.  From Martin
	Michlmayer.

	* rfc2231.c, rfc2231.h: Comment cosmetics.  From Martin
	Michlmayer.

	* doc/manual.sgml.head: Document the elmish "!!" shortcut for
	the last folder.  From Martin Michlmayr <tbm@cyrius.com>.

	* curs_main.c: branches:  2.44.2; Fix various inconsistencies
	with respect to thread deletion.

	* pager.c: Fix various inconsistencies with respect to thread
	deletion.

2000-04-12 16:32:26  roessler  (roessler)

	* browser.c: branches:	2.21.2; Initialize some more memory.
	Noted by Vsevolod Volkov <vvv@lucky.net>.

	* headers.c: Catch some error conditions.

	* main.c: branches:  2.29.2; Tell us whether debugging is enabled
	or not.

2000-04-09 13:32:36  roessler  (roessler)

	* po/sv.po: Update.

	* imap/imap_ssl.c: Another file mode change.

	* po/fr.po, po/es.po, po/el.po: update.

	* imap/imap_ssl.c: Save more than one SSL certificate to the
	certificate file.

	* po/da.po, po/cs.po: update.

	* imap/socket.c: branches:  1.9.2; Make host name comparison
	case-insensitive.

	* doc/manual.sgml.head: Minor typo in the documentation.
	Noted by Vsevolod Volkov <vvv@lucky.net>.

	* muttlib.c: branches:	2.16.2; The "!!" shortcut had another
	flaw.  Noted by Martin Michlmayr <tbm@cyrius.com>.

	* imap/BUGS: branches:	1.12.2; Documentation patch from Brendan
	Cully.

	* pattern.c: Fix ^ and ! pattern modifiers.

2000-03-31 12:37:21  roessler  (roessler)

	* po/pl.po, po/id.po: update.

2000-03-30 15:33:14  roessler  (roessler)

	* po/uk.po, po/zh_TW.Big5.po, po/sk.po, po/sv.po, po/pt_BR.po,
	po/ru.po, po/nl.po, po/pl.po, po/ko.po, po/it.po, po/fr.po,
	po/gl.po, po/id.po, po/eo.po, po/es.po, po/el.po, po/da.po,
	po/de.po, po/cs.po, VERSION, reldate.h, ChangeLog: automatic
	post-release commit for mutt-1.1.11

	* po/uk.po, po/zh_TW.Big5.po, po/sv.po, po/sk.po, po/pt_BR.po,
	po/ru.po, po/nl.po, po/pl.po, po/ko.po, po/id.po, po/it.po,
	po/gl.po, po/fr.po, po/es.po, po/eo.po, po/el.po, po/de.po,
	po/da.po, po/Makefile.in.in, po/POTFILES.in, po/cs.po: make
	update-po, and undo most parts of Lars' and Tommi's patch -
	it broke things here.

	* imap/imap_ssl.c: Typo, noticed by Vsevolod Volkov
	<vvv@lucky.net>.

	* po/de.po: update.

	* po/eo.po: fix.

	* contrib/Makefile.in: Distribute pgp6.rc. Ups.

	* po/uk.po: Updated Ukrainian translation.

	* curs_main.c: Cursor cosmetics.  From Byrial.

	* contrib/Makefile.in: Installation process patch from Bill
	Nottingham <notting@redhat.com>.

	* build-release: Explicitly use scp1.

2000-03-29 20:16:36  roessler  (roessler)

	* po/zh_TW.Big5.po, po/sv.po, po/uk.po, po/sk.po, po/pt_BR.po,
	po/ru.po, po/pl.po, po/ko.po, po/nl.po, po/id.po, po/it.po,
	po/gl.po, po/fr.po, po/eo.po, po/es.po, po/el.po, po/de.po,
	po/da.po, po/cs.po, VERSION, reldate.h, ChangeLog: automatic
	post-release commit for mutt-1.1.10

	* imap/message.c: Fix access to read-only folders via IMAP.

	* po/de.po, doc/Makefile.in, doc/manual.sgml.head, init.c,
	thread.c: Various little patches from Gero Treuner.

	* imap/Makefile.am: Build diff from Brendan Cully.

	* Makefile.am: branches:  2.61.2; Build diff from Brendan Cully.

2000-03-28 10:09:19  roessler  (roessler)

	* po/Makefile.in.in, po/POTFILES.in, Makefile.am: A patch from
	Tommi Komulainen (and Lars Hecking) for building outside the
	source directory.

2000-03-27 23:56:35  roessler  (roessler)

	* imap/auth_gss.c: branches:  1.3.2; NetBSD portability patches
	from Brendan Cully.

	* imap/imap_ssl.c, acconfig.h, configure.in: NetBSD portability
	patches from Brendan Cully.

2000-03-25 18:22:09  roessler  (roessler)

	* keymap.c: Timeout occasionally in menus, with the notable
	exception of the editor.  This is needed to avoid some more
	IMAP timeouts.	[patch-1.1.9.tlr.timeout.1]

2000-03-23 12:21:10  roessler  (roessler)

	* remailer.c: Little fix for the remailer menu.

	* configure.in: Fix Kerberos configuration.  From David Champion
	<dgc@uchicago.edu>.

2000-03-22 08:24:45  roessler  (roessler)

	* mutt.h, sort.c, init.h: Sorting fix from Gero Treuner.

2000-03-21 22:01:42  roessler  (roessler)

	* configure.in: Fix charmap configuration.  This was broken in
	configure.in,v 2.54.

2000-03-20 10:32:18  roessler  (roessler)

	* muttlib.c: Fix the "!!" shortcut for the last folder.  Noted by
	Byrial Jensen.

	* po/da.po, po/eo.po: update

	* configure.in, Muttrc.head, Muttrc.head.in: Put Muttrc.head under
	autoconf control - we need to substitute @docdir@ for the <f1>
	macro to work.

2000-03-19 09:19:30  roessler  (roessler)

	* po/nl.po: Fix some sloppiness errors.  From Brendan Cully.

2000-03-17 08:26:22  roessler  (roessler)

	* po/nl.po: update

	* rfc2047.c: Don't override iso-2022-jp with us-ascii.

	* sendlib.c: branches:	2.46.2; Don't override iso-2022-jp
	with us-ascii.

2000-03-16 10:01:43  roessler  (roessler)

	* commands.c, init.h, mutt.h: Add the $print_decode option.

	* po/ru.po, po/sv.po: updates

	* po/it.po: update.

	* editmsg.c: Use Editor with a fall-back to visual when editing
	messages.

	* muttlib.c: Localization nit from Byrial Jensen.

	* doc/manual.sgml.head, init.h: Documentation fixes from Mikko
	Hänninen.

2000-03-15 23:25:47  roessler  (roessler)

	* imap/imap_ssl.c, imap/imap_ssl.h, imap/socket.c: Fix entropy
	gathering in the IMAP SSL support.  From Tommi Komulainen.

	* README.SSL: branches:  2.4.2; Fix entropy gathering in the
	IMAP SSL support.  From Tommi Komulainen.

	* configure.in, init.h: Fix entropy gathering in the IMAP SSL
	support.  From Tommi Komulainen.

	* Makefile.am: Add a dependency for keymap_defs.h.  Hope it
	works now.

	* po/da.po: update

2000-03-14 21:05:00  roessler  (roessler)

	* po/pl.po, po/cs.po: updates.

	* configure.in: Fix a charmap configuration flaw.  From Gero
	Treuner.

	* doc/Makefile.in: Install all the documentation.  Problem noted
	and fix supplied by Gero Treuner.

	* po/es.po: Update from Boris Wesslowski.

	* base64.c: Add the original fetchmail copyright notice.

	* contrib/Makefile.in, contrib/pgp6.rc: More nits: Include a
	sample configuration file for using mutt with pgp6, and install
	and actually distribute Tin.rc.

2000-03-13 22:36:56  roessler  (roessler)

	* makedoc.c, send.c, charset.h, init.h: Various nits, noted by
	Gero Treuner.

	* po/uk.po, po/zh_TW.Big5.po, po/sk.po, po/sv.po, po/pt_BR.po,
	po/ru.po, po/pl.po, po/id.po, po/it.po, po/ko.po, po/nl.po,
	po/gl.po, po/es.po, po/fr.po, po/eo.po, po/el.po, po/da.po,
	po/de.po, po/cs.po, reldate.h, VERSION, ChangeLog: automatic
	post-release commit for mutt-1.1.9

	* build-release: change code for going on-line.

	* po/uk.po, po/zh_TW.Big5.po, po/sk.po, po/sv.po, po/pl.po,
	po/pt_BR.po, po/ru.po, po/ko.po, po/nl.po, po/gl.po, po/id.po,
	po/it.po, po/eo.po, po/es.po, po/fr.po, po/el.po, po/de.po,
	po/cs.po, po/da.po: make update-po.

	* po/sv.po, po/fr.po: updates.

2000-03-10 11:38:32  roessler  (roessler)

	* handler.c: Fix the handling of raw carriage return characters
	in the base64 handler.

2000-03-09 11:58:11  roessler  (roessler)

	* pgpinvoke.c: Bail on empty PGP formats.

	* po/ko.po: update.

2000-03-08 18:08:03  roessler  (roessler)

	* imap/message.c: Another fix from Brendan Cully.

	* po/pl.po: update.

	* sendlib.c, parse.c: Fix more RFC2047 encoding bugs.  Once again
	from Gero Treuner <gero@faveve.uni-stuttgart.de>.

2000-03-07 19:53:19  roessler  (roessler)

	* po/da.po, configure.in: Adding a Danish translation.
	Thanks to Morten Bo Johansen <mojo@image.dk> and
	the members of the sslug-locale mailing list, see
	http://www.sslug.dk/emailarkiv/locale/.

	* color.c: branches:  2.8.2; The uncolor/unmono commands weren't
	parsed correctly when not applicable.  This fixes bug#65.

	* makedoc.c: Make gcc happy.

	* TODO: Remove an old item from this list.  From Brendan Cully.

	* sendlib.c, TODO: Correct header encodings when postponing
	messages.

	* protos.h: branches:  2.40.2; Correct header encodings when
	postponing messages.

	* send.c: Correct header encodings when postponing messages.

	* po/de.po: update

	* po/pt_BR.po, po/el.po: updates.

	* curs_main.c: Fix NULL pointer deferences.

2000-03-04 12:57:53  roessler  (roessler)

	* po/zh_TW.Big5.po, po/uk.po, po/sk.po, po/sv.po, po/pt_BR.po,
	po/ru.po, po/pl.po, po/nl.po, po/ko.po, po/it.po, po/id.po,
	po/gl.po, po/fr.po, po/eo.po, po/es.po, po/el.po, po/de.po,
	po/cs.po, reldate.h, build-release, VERSION, ChangeLog: automatic
	post-release commit for mutt-1.1.8

	* protos.h, send.c, alias.c, headers.c: Unify alias expansion.

2000-03-03 16:52:41  roessler  (roessler)

	* contrib/gpg.rc: branches:  1.5.2; Don't use gpg-2comp by
	default, but leave the command lines using this one there as
	comments.

	* po/sv.po, po/uk.po, po/zh_TW.Big5.po, po/ru.po, po/sk.po,
	po/pl.po, po/pt_BR.po, po/nl.po, po/it.po, po/ko.po, po/es.po,
	po/fr.po, po/gl.po, po/id.po, po/el.po, po/eo.po, po/cs.po,
	po/de.po, imap/imap_ssl.c, imap/imap_ssl.h, imap/message.c,
	imap/message.h, imap/socket.c, imap/util.c, imap/auth.c,
	imap/auth_gss.c, imap/browse.c: The FSF apparently has moved.

	* imap/command.c: branches:  1.8.2; The FSF apparently has moved.

	* imap/imap.c: The FSF apparently has moved.

	* imap/imap.h: branches:  1.16.2; The FSF apparently has moved.

	* imap/imap_private.h: branches:  1.17.2; The FSF apparently
	has moved.

	* imap/imap_socket.h, doc/dotlock.man, doc/manual.sgml.head,
	doc/mutt.man, doc/muttrc.man.head, rfc822.h, score.c, send.c,
	sendlib.c, signal.c, sort.c, sort.h, status.c, system.c, thread.c,
	recvcmd.c, remailer.c, remailer.h, resize.c, rfc1524.c, rfc1524.h,
	rfc2047.c, rfc2047.h, rfc2231.c, rfc2231.h: The FSF apparently
	has moved.

	* rfc822.c: branches:  2.9.2; The FSF apparently has moved.

	* pgpinvoke.c, pgpkey.c, pgplib.c, pgplib.h, pgppubring.c:
	The FSF apparently has moved.

	* pop.c: branches:  2.7.2; The FSF apparently has moved.

	* postpone.c, protos.h, query.c, recvattach.c, mx.h, pager.c,
	pager.h, parse.c, pattern.c, pgp.c, pgp.h, menu.c: The FSF
	apparently has moved.

	* mh.c: branches:  2.22.2; The FSF apparently has moved.

	* mime.h, mutt.h, mutt_curses.h, mutt_menu.h, mutt_regex.h,
	muttbug.sh.in, muttlib.c: The FSF apparently has moved.

	* mx.c: branches:  2.41.2; The FSF apparently has moved.

	* history.c: branches:	2.5.6; The FSF apparently has moved.

	* history.h: The FSF apparently has moved.

	* hook.c: branches:  2.9.2; The FSF apparently has moved.

	* init.c, init.h, keymap.c, keymap.h, lib.c, lib.h, mailbox.h,
	main.c, makedoc.c, mapping.h: The FSF apparently has moved.

	* mbox.c: branches:  2.15.2; The FSF apparently has moved.

	* dotlock.h, edit.c, editmsg.c, enter.c, extlib.c, filter.c,
	flags.c, from.c, functions.h: The FSF apparently has moved.

	* globals.h: branches:	2.23.2; The FSF apparently has moved.

	* gnupgparse.c, handler.c, hash.c, hash.h, hdrline.c, headers.c,
	help.c, charset.c, charset.h, color.c, commands.c, complete.c,
	compose.c: The FSF apparently has moved.

	* copy.c: branches:  2.13.2; The FSF apparently has moved.

	* copy.h: The FSF apparently has moved.

	* curs_lib.c: branches:  2.18.2; The FSF apparently has moved.

	* curs_main.c, date.c, dotlock.c, COPYRIGHT, addrbook.c, alias.c,
	attach.c, attach.h, base64.c, browser.c, browser.h, buffy.c,
	buffy.h: The FSF apparently has moved.

	* po/sv.po: Swedish translation.

	* imap/imap.h, imap/imap.c, commands.c, compose.c, curs_main.c,
	editmsg.c, mailbox.h, mbox.c, mh.c, mx.c, mx.h, pop.c, postpone.c,
	send.c, sendlib.c, attach.c: Fix index updates when closing or
	synching mail folders fails.  There were some bug-fixes hidden
	in that code.

	* imap/message.c: More missing fclose (3) calls.

2000-03-02 21:01:27  roessler  (roessler)

	* imap/imap_ssl.c, imap/message.c: Fix a bunch of file descriptor
	leaks.

	* po/de.po: A one-character patch from Gero Treuner.

	* INSTALL, README.SSL: Add some SSL documentation.  From Tommi
	Komulainen.

	* mh.c, mx.c: Fix incompatible return value checking.  This should
	fix #29.

	* mutt.h, send.c, init.h: Add $reverse_realname option.
	Essentially suggested by ws@rhein.de.

2000-03-01 21:27:36  roessler  (roessler)

	* Muttrc.head: Fix #26: A little typo.

	* contrib/Makefile.in, contrib/sample.muttrc-tlr: Add a commented
	version of my .muttrc as an example.

	* contrib/sample.muttrc: Fix some mail addresses.

	* README.UPGRADE: Add some more documentation for users who
	are upgrading.	This is more precise than the NEWS file, but
	confined to the more notable changes.

	* configure.in: Another fix from Tommi Komulainen.

	* po/eo.po, po/id.po, po/de.po: update.

	* imap/util.c: Don't crash with NULL Context pointers.

	* po/fr.po: Update.

	* doc/dotlock.man, doc/mutt.man: dotlock is called mutt_dotlock
	for quite some time now.

	* po/sk.po, po/sv.po, po/uk.po, po/zh_TW.Big5.po, po/pt_BR.po,
	po/ru.po, po/nl.po, po/pl.po, po/fr.po, po/gl.po, po/id.po,
	po/it.po, po/ko.po, po/el.po, po/eo.po, po/es.po, po/de.po,
	po/cs.po, VERSION, reldate.h, ChangeLog: automatic post-release
	commit for mutt-1.1.7

	* imap/command.c, init.h, mutt.h, README.SECURITY, configure.in:
	Add $imap_servernoise option to suppress IMAP server messages.
	From Brendan Cully.

	* imap/Makefile.am: Include auth_gss.c with the distribution.

2000-02-29 22:40:46  roessler  (roessler)

	* po/uk.po, po/zh_TW.Big5.po, po/sk.po, po/sv.po, po/pt_BR.po,
	po/ru.po, po/ko.po, po/nl.po, po/pl.po, po/it.po, po/fr.po,
	po/gl.po, po/id.po, po/eo.po, po/es.po, po/el.po, po/de.po,
	po/cs.po, reldate.h, VERSION, ChangeLog: automatic post-release
	commit for mutt-1.1.6

	* po/zh_TW.Big5.po, po/sv.po, po/uk.po, po/sk.po, po/ru.po,
	po/pt_BR.po, po/nl.po, po/pl.po, po/ko.po, po/gl.po, po/id.po,
	po/it.po, po/es.po, po/fr.po, po/el.po, po/eo.po, po/cs.po,
	po/de.po: Some updates; make update-po.

	* charset.c: Add error checking to the recode-attachment code.
	From "Andrew W.  Nosenko" <awn@bcs.zp.ua>.

	* configure.in: Replace --enable-ssl by --with-ssl.  From Tommi
	Komulainen.

	* imap/imap.c, mx.c, curs_main.c: More IMAP folder update hacks.
	Brendan says it works.

2000-02-28 18:06:35  roessler  (roessler)

	* doc/manual.sgml.head: Martin Michlmayr told me about a typo.

	* imap/imap.h, imap/util.c, menu.c, pager.c: New IMAP keep-alive
	code.  This should work from all menus, and it should always
	poll the current folder.

	* menu.c, pager.c: Do IMAP keep-alive polls from all menus.

	* curs_main.c, pager.c: Don't do Context updates from the
	background, part 2.

	* imap/imap.h, imap/imap_private.h, imap/util.c, imap/command.c,
	imap/imap.c: Don't do Context updates from the background.

2000-02-27 08:49:34  roessler  (roessler)

	* po/POTFILES.in: imap/auth_gss.c was missing.	Noted by "Andrew
	W. Nosenko" <awn@bcs.zp.ua>.

2000-02-26 18:14:24  roessler  (roessler)

	* Makefile.am: muttbug is a script, not a program.  Tell automake
	about this.

	* mx.c: Don't use an uninitialized string for error reporting.

	* imap/browse.c: Fix a segmentation fault.  Patch from Brendan
	Cully.

2000-02-25 08:57:05  roessler  (roessler)

	* .cvsignore: ignore muttbug{,.sh}

	* Makefile.am: Tell users about README.UPGRADE.

2000-02-24 21:34:10  roessler  (roessler)

	* po/zh_TW.Big5.po, po/sk.po, po/sv.po, po/uk.po, po/ru.po,
	po/pt_BR.po, po/pl.po, po/ko.po, po/nl.po, po/fr.po, po/gl.po,
	po/id.po, po/it.po, po/es.po, po/cs.po, po/de.po, po/el.po,
	po/eo.po, reldate.h, ChangeLog, VERSION: automatic post-release
	commit for mutt-1.1.5

	* main.c: Fix #52, from Mikko.Hanninen@iki.fi.

2000-02-23 13:26:03  roessler  (roessler)

	* po/zh_TW.Big5.po, po/sk.po, po/sv.po, po/uk.po, po/pl.po,
	po/pt_BR.po, po/ru.po, po/nl.po, po/id.po, po/it.po, po/ko.po,
	po/el.po, po/eo.po, po/es.po, po/fr.po, po/gl.po, po/cs.po,
	po/de.po: New German translation; make update-po.

	* po/zh_TW.Big5.po, po/sk.po, po/sv.po, po/uk.po, po/pt_BR.po,
	po/ru.po, po/ko.po, po/nl.po, po/pl.po, po/fr.po, po/gl.po,
	po/id.po, po/it.po, po/eo.po, po/es.po, po/Makefile.in.in,
	po/cs.po, po/de.po, po/el.po: Fix some dependency, and do
	update-po again.  Also, Edmund Evans submitted a new Esperanto
	translation.

	* mx.c: safe_fclose() doesn't like FILE pointers.

	* mx.h, mx.c: Don't core dump when locking a folder fails.

2000-02-22 19:22:29  roessler  (roessler)

	* po/sv.po, po/uk.po, po/zh_TW.Big5.po, po/sk.po, po/ru.po,
	po/pl.po, po/pt_BR.po, po/ko.po, po/nl.po, po/id.po, po/it.po,
	po/fr.po, po/gl.po, po/el.po, po/eo.po, po/es.po, po/de.po,
	po/cs.po: update-po.

	* po/ko.po: New Korean translation from
	<redhands@linux.sarang.net>.

	* muttbug.sh.in: Fix bug#42: A missing "'".

	* main.c: Cosmetic fix from Marco d'Itri.

	* imap/browse.c, browser.c, doc/manual.sgml.head: Brendan Cully's
	latest IMAP browser fixes.

2000-02-18 10:56:24  roessler  (roessler)

	* muttlib.c: In mutt_copy_body(), we also need to strdup()
	the content-description.

	* imap/command.c: Reasonably handle suerfluous EXIST messages
	from IMAP servers.  From Brendan Cully.

2000-02-17 18:22:27  roessler  (roessler)

	* send.c: Fix content-description encoding - it was done after
	signing, not before signing.

	* sendlib.c, attach.c, mx.c, pop.c: Do more error checking when
	writing messages to folders.

2000-02-16 17:29:33  roessler  (roessler)

	* send.c: Fix mail-followup-to generation.

	* sendlib.c: Don't output empty header fields.	This is made
	necessary by the addition of possibly empty my_hdr commands.

	* init.c: Permit empty my_hdrs.  Suggested by Edmund Grimley
	Evans.

	* po/cs.po: update.

	* pattern.c, protos.h, send.c: Generate mail-followup-to headers
	which contain the user's mail address when sending messages to
	_known_ mailing lists.

	* po/de.po: update.

2000-02-15 22:26:39  roessler  (roessler)

	* po/fr.po: update.

	* po/eo.po: New translation from Edmund Grimley.

	* OPS: Fix a typo.

	* globals.h: Increase the size of ErrorBuf.

	* po/sv.po, po/uk.po, po/zh_TW.Big5.po, po/pl.po, po/ru.po,
	po/sk.po, po/id.po, po/it.po, po/ko.po, po/nl.po, po/eo.po,
	po/es.po, po/fr.po, po/gl.po, po/cs.po, po/de.po, po/el.po,
	VERSION, reldate.h, ChangeLog: automatic post-release commit
	for mutt-1.1.4

	* doc/manual.sgml.head: Add improved documentation for the "push"
	command, and macros.  From Byrial Jensen, based on a patch by
	Mikko Hanninen.

	* functions.h: Fix the <exit> function on the pager.

	* doc/manual.sgml.head, doc/muttrc.man.head, hook.c, init.c,
	init.h, protos.h: Byrial Jensen's unhook command patch.

	* doc/Makefile.in: Remove superfluous empty lines from the text
	version of the manual.

	* OPS: Change the documentation string for OP_MAIN_PREV_UNDELETED
	- it may be confusing.

	* functions.h, keymap.c: More OP_EXIT fixes.

	* OPS, functions.h, keymap.c, pager.c: Remove the OP_PAGER_EXIT
	opcode, and change it to OP_EXIT.

	* doc/manual.sgml.head: Add more documentation for subscribe
	and lists.

2000-02-14 20:51:37  roessler  (roessler)

	* init.h: Fix documentation for $followup_to.

	* po/de.po: Fix the fixes.  Folks, when submitting changes to the
	.po files, please try a "make" in the po subdirectory afterwards.

	* po/it.po: New Italian translation from Marco d'Itri.

	* imap/imap.c, imap/Makefile.am, imap/auth.c, imap/auth_gss.c,
	imap/browse.c, doc/manual.sgml.head, mx.c, .cvsignore,
	Makefile.am, browser.c, browser.h, configure.in: Brendan Cully's
	patch from <20000212185021.A7365@xanadu.kublai.com>.

	* po/de.po: Fixes from Roland Rosenfeld.

	* attach.c, compose.c: Fix a couple of random perror() calls
	and related problems.

	* sendlib.c: Fix encoding for text/* attachments with long lines.

2000-02-11 09:04:22  roessler  (roessler)

	* contrib/Pine.rc: Fix bug #23.

	* init.h, makedoc.c: Fix minor documentation problems noted by
	Marius Gedminas <mgedmin@takas.lt>.

2000-02-10 19:46:13  roessler  (roessler)

	* imap/message.c, pager.c, parse.c, pattern.c, pgp.c, pgp.h,
	pgpkey.c, pgplib.h, postpone.c, protos.h, recvattach.c, send.c,
	sendlib.c, sort.h, functions.h, globals.h, handler.c, hdrline.c,
	headers.c, hook.c, init.c, init.h, keymap.c, keymap.h, main.c,
	mutt.h, muttlib.c, mx.c, Makefile.am, acconfig.h, attach.c,
	commands.c, compose.c, configure.in, copy.c, copy.h, curs_main.c:
	PGP-cleanup patch from Roland Rosenfeld.  Thanks!

	* muttbug.sh.in: ${prefix} should be defined, as it may be used
	by autoconf.

2000-02-09 18:28:45  roessler  (roessler)

	* doc/manual.sgml.head: Fix a minor typo.  From Mikko Hänninen.

	* muttbug.sh.in: Mostly Debian-related fixes from Roland
	Rosenfeld.

	* main.c: Small translation-related fix from Roland.

	* po/fr.po: Update from Vincent Lefevre.

	* pgpewrap: Portability patch to make pgpewrap work under HP/UX.
	From David Ellement <ellement@sdd.hp.com>.

	* doc/Makefile.in, doc/manual.sgml.head, doc/manual.sgml.tail,
	init.h: Documentation changes from Roland Rosenfeld.

2000-02-08 20:55:33  roessler  (roessler)

	* po/zh_TW.Big5.po, po/sk.po, po/sv.po, po/uk.po, po/ru.po,
	po/ko.po, po/nl.po, po/pl.po, po/fr.po, po/gl.po, po/id.po,
	po/it.po, po/de.po, po/el.po, po/eo.po, po/es.po, build-release,
	po/cs.po, reldate.h, Makefile.am, VERSION, ChangeLog: automatic
	post-release commit for mutt-1.1.3

	* build-release: Don't build US releases.  RedHat and Caldera
	don't object, Debian uses the international version anyways,
	and SuSE (1) sits in Germany and (2) doesn't react.

	* contrib/pgp2.rc: add a comment concerning +encrypttoself.

	* pager.c, keymap.c: Avoid IMAP timeouts when viewing messages.
	From Tommi.Komulainen@iki.fi.

	* po/eo.po: Small fix from Edmund.

2000-02-07 19:16:41  roessler  (roessler)

	* doc/manual.sgml.head: Add a note on my_hdr when used from
	send-hook.

	* muttbug.sh.in: Remove another Debian reference from the severity
	level descriptions.

	* muttbug.sh.in: More fixes.

	* muttlib.c, protos.h, rfc2047.c, rfc2231.c: Fix bug#22.

	* muttbug.sh.in: Various fixes from Roland Rosenfeld.

	* buffy.c: Fix a NULL pointer deference.

2000-02-03 13:41:38  roessler  (roessler)

	* acconfig.h, configure.in, muttbug.sh.in: Add debugger support
	to muttbug.

	* init.c: Add a comment concerning muttbug.sh.

	* muttbug.sh.in: More changes to the bug report script.  Most of
	them were suggest by Roland Rosenfeld.

	* po/de.po: Minor fixes from Roland Rosenfeld.

	* muttbug.sh.in: Add some Debian specifics.

	* muttbug.sh.in: Strip comments from included configuration files.

	* muttbug.sh.in: another minor fix.

	* muttbug.sh.in: Minor fixes.

	* Makefile.am, configure.in, main.c, muttbug.sh.in: Add muttbug,
	the bug reporting utility.  (Yes, we are about to get a real
	bug-tracking system, see http://bugs.guug.de/.)

	* doc/manual.sgml.head: Documentation fix.

2000-02-02 10:53:28  roessler  (roessler)

	* init.c: Make the parsing of integers more

	* lib.c: Use O_NOFOLLOW when it's there, and needed.

2000-02-01 18:47:49  roessler  (roessler)

	* main.c: Cosmetics.

	* doc/mutt.man, doc/muttrc.man.head: Cosmetics.  Additionally,
	remove the y2k compliance notice from the manual page.

	* makedoc.c: Change the font used for typesetting "tables",
	so we get usable output when roffing the muttrc (5) manual page
	for a postscript printer.

	* po/zh_TW.Big5.po, po/sk.po, po/sv.po, po/uk.po, po/pl.po,
	po/ru.po, po/ko.po, po/nl.po, po/gl.po, po/id.po, po/it.po,
	po/el.po, po/eo.po, po/es.po, po/fr.po, po/cs.po, po/de.po:
	Include various po-file updaes, and make update-po.

	* po/Makefile.in.in, po/POTFILES.in, Makefile.am: Build fix for
	the po/ subdirectory, from Edmund G. Evans.

	* po/eo.po: New Esperanto translation.

	* init.h: Add a bit more documentation on $recall.

2000-01-30 13:35:22  roessler  (roessler)

	* po/sv.po, po/uk.po, po/zh_TW.Big5.po, po/ru.po, po/sk.po,
	po/nl.po, po/pl.po, po/id.po, po/it.po, po/ko.po, po/es.po,
	po/fr.po, po/gl.po, po/eo.po, po/POTFILES.in, po/cs.po, po/de.po,
	po/el.po, po/Makefile.in.in, configure.in: Try to fix the build
	process in the po/ subdirectory.

	* configure.in: Add some languages to ALL_LINGUAS.

	* po/gl.po, po/sv.po: Adding translations from stable to unstable.

	* po/ru.po, po/zh_TW.Big5.po, po/fr.po, po/id.po, po/ko.po,
	po/pl.po, po/de.po, po/el.po, po/eo.po: make update-po; including
	new revisions submitted so far.

2000-01-29 08:03:48  roessler  (roessler)

	* init.h: Another change to attach_format.

	* pgp.c, recvattach.c, send.c, sendlib.c, OPS, compose.c,
	functions.h, init.h, mutt.h, parse.c: Michael Elkins'
	content-disposition patch, with some small changes.

2000-01-28 21:32:47  roessler  (roessler)

	* init.h: Make the documentation for rfc2047_parameters
	comprehensible to the end user.

	* init.h: Documentation fix.

	* rfc2231.c: RFC2231 support should understand utf-8.

2000-01-27 09:57:09  roessler  (roessler)

	* imap/imap_ssl.c, README.SSL, init.h, mutt.h: Add options
	to disallow individual SSL protocols.  From Jeremy Katz
	<katzj@linuxpower.org>.

2000-01-25 21:21:10  roessler  (roessler)

	* imap/BUGS: Brendan Cully's latest changes:

	   Here is a patch to add some support for read-only IMAP folders.
	   This is most useful if you have multiple copies of mutt open,
	   but it also allows you to open a folder read-only and not
	   have to worry about flags getting changed. Toggling read-only
	   still doesn't work correctly - you may lose your 'N' flags
	   if you open a folder normally and switch to read-only.

	  I've also decided to try using UID FETCH, although I'm not
	  sure if older IMAP servers support it, but then again I'm
	  not sure if anyone's using any really old IMAP servers. The
	  main advantage is in the case of multiple clients, where
	  one client is deleting messages and the other isn't getting
	  notification. I'm experiencing that on my UW-IMAP 4.6 server. On
	  the other hand, this server seems to have all sorts of terrible
	  problems with this scenario, so I'm not sure how well the code
	  functions. It's a two-line change so far, it's experimental,
	  and it's the only IMAP code in an #if 0 block...

	* imap/README: branches:  1.4.2; Brendan Cully's latest changes:

	   Here is a patch to add some support for read-only IMAP folders.
	   This is most useful if you have multiple copies of mutt open,
	   but it also allows you to open a folder read-only and not
	   have to worry about flags getting changed. Toggling read-only
	   still doesn't work correctly - you may lose your 'N' flags
	   if you open a folder normally and switch to read-only.

	  I've also decided to try using UID FETCH, although I'm not
	  sure if older IMAP servers support it, but then again I'm
	  not sure if anyone's using any really old IMAP servers. The
	  main advantage is in the case of multiple clients, where
	  one client is deleting messages and the other isn't getting
	  notification. I'm experiencing that on my UW-IMAP 4.6 server. On
	  the other hand, this server seems to have all sorts of terrible
	  problems with this scenario, so I'm not sure how well the code
	  functions. It's a two-line change so far, it's experimental,
	  and it's the only IMAP code in an #if 0 block...

	* imap/TODO, imap/command.c, imap/imap.c, imap/message.c:
	Brendan Cully's latest changes:

	   Here is a patch to add some support for read-only IMAP folders.
	   This is most useful if you have multiple copies of mutt open,
	   but it also allows you to open a folder read-only and not
	   have to worry about flags getting changed. Toggling read-only
	   still doesn't work correctly - you may lose your 'N' flags
	   if you open a folder normally and switch to read-only.

	  I've also decided to try using UID FETCH, although I'm not
	  sure if older IMAP servers support it, but then again I'm
	  not sure if anyone's using any really old IMAP servers. The
	  main advantage is in the case of multiple clients, where
	  one client is deleting messages and the other isn't getting
	  notification. I'm experiencing that on my UW-IMAP 4.6 server. On
	  the other hand, this server seems to have all sorts of terrible
	  problems with this scenario, so I'm not sure how well the code
	  functions. It's a two-line change so far, it's experimental,
	  and it's the only IMAP code in an #if 0 block...

	* doc/Makefile.in: Make the build process work when sgmltools
	aren't present.  From Lawrence Greenfield <leg+@andrew.cmu.edu>.

	* imap/auth.c: Fix GSSAPI support.  From Lawrence Greenfield
	<leg+@andrew.cmu.edu>.

2000-01-24 13:17:17  roessler  (roessler)

	* dotlock.h, mx.c, dotlock.c: Locking fix.

	* enter.c: patch-1.1.2.mg.autocomplete.1 - from Marius Gedminas
	<mgedmin@pub.osf.lt>.

	* Makefile.am: small build process fix.

	* m4/Makefile.am.in: Patch from Lars Hecking in order to build
	mutt cleanly under Solaris 2.6.

	* doc/manual.sgml.head: More list-reply documentation from
	Mikko.Hanninen@iki.fi.

	* init.h, mutt.h, rfc822.c: Removing rewrite_uucp.  There were
	too many objections against it.

	* init.h, mutt.h, rfc822.c: Adding the $rewrite_uucp option.

	* po/ru.po: update.

	* po/eo.po, configure.in: Adding the Esperanto translation
	to unstable.  From Edmund GRIMLEY EVANS <edmundo@rano.org>.

2000-01-21 09:28:56  roessler  (roessler)

	* po/el.po: New greek translation.

	* po/id.po: updated translation.

2000-01-20 17:35:41  roessler  (roessler)

	* po/pl.po: Updated polish translation.

	* contrib/Makefile.in, Makefile.am: "make distclean" fixes from
	Marco d'Itri.

	* compose.c: Typo noted by edmundo@rano.org.

	* po/ko.po: Update.

	* send.c: Honor mail-followup-to when doing a list-reply.
	From Mikko.Hanninen@iki.fi.

2000-01-19 14:59:01  roessler  (roessler)

	* commands.c: Don't move the index cursor after a failed attempt
	to save a message.  From Joe Orton <joe@orton.demon.co.uk>.

	* po/de.po: New German translation for unstable, from Roland
	Rosenfeld.

	* pgp.c: Fiksing a speling mysdeik nodet by Michael Sobolev. ;-)

	* NEWS: Add a notice on display-toggle-weed.

	* doc/manual.sgml.head, doc/manual.sgml.tail, OPS, functions.h:
	Rename display-headers to display-toggle-weed.

2000-01-18 22:46:18  roessler  (roessler)

	* mx.c: mx_open_mailbox_append: Add an error message and remove
	a file descriptor leak when we can open, but can't lock an MMDF
	or MBOX folder.

	* po/zh_TW.Big5.po, po/uk.po, po/sv.po, po/sk.po, po/ru.po,
	po/pt_BR.po, po/pl.po, po/nl.po, po/ko.po, po/it.po, po/gl.po,
	po/id.po, po/fr.po, po/eo.po, po/es.po, po/el.po, po/de.po,
	po/cs.po, reldate.h, VERSION, ChangeLog: automatic post-release
	commit for mutt-1.0.1

	* contrib/Makefile.in: Respect $DESTDIR in contrib/Makefile.
	From Hao Li <hli@rainfinity.com>.

	* imap/imap.c, imap/message.c: Fix use of confirmcreate with IMAP.
	A patch for this was suggested by Brian R. Gaeke.

	* init.h, alias.c: Documentation fix about gecos_mask.	From Will
	Fiveash.

2000-01-16 14:44:12  roessler  (roessler)

	* po/eo.po: new esperanto translation from edmundo@rano.org.

	* editmsg.c: Use Visual, not Editor, for editing messages.
	Noted by Marius Gedminas <mgedmin@pub.osf.lt>.

	* rfc822.c: quote-related fix to the RFC822 parser.  From Edmund
	Grimley Evans.

2000-01-12 09:20:34  roessler  (roessler)

	* init.c: It was impossible to unset a string.	If you did
	"unset realname" it would just print out the value of the string.
	Attached is the fix.

2000-01-10 21:34:06  roessler  (roessler)

	* reap.pl: Handle #ifndef in reap.pl.

	* configure.in: Recognize differently-named gccs as such, and
	enable warnings.  From "Andrew W. Nosenko" <awn@bcs.zp.ua>.

	* pgp.c: To compile on SunOs 4.1.4, the order of two includes
	needs to be switched (<sys/resource.h> contains a struct timeval.)

	From Mark Seiden <mis@seiden.com>.

	* doc/manual.sgml.head, pgplib.h, postpone.c, recvattach.c,
	recvcmd.c, remailer.c, remailer.h, rfc2231.c, rfc2231.h,
	attach.c, charset.c, charset.h, dotlock.h, editmsg.c, extlib.c,
	gnupgparse.c, lib.c, lib.h, makedoc.c, mh.c, muttlib.c, mx.c,
	mx.h, pgp.h: More copyright cosmetics - noted by Martin Michlmayr
	<tbm@cyrius.com>.

	* lib.c: Use safe_free() instead of free() with mutt_str_replace -
	equivalent, but nicer.

	* parse.c, pgpkey.c, postpone.c, protos.h, recvattach.c,
	rfc1524.c, rfc2047.c, send.c, sendlib.c, attach.c, browser.c,
	compose.c, curs_main.c, edit.c, history.c, init.c, lib.c,
	main.c, menu.c, mh.c, muttlib.c: Add (and use) a function
	mutt_str_replace, which essentially replaces the sequence:

		safe_free (&s); s = safe_strdup (t);

	* build-release, gnupgparse.c: Fix PGP uid parsing.  Noted by
	Edmund GRIMLEY EVANS <edmundo@rano.demon.co.uk>.

2000-01-08 10:31:28  roessler  (roessler)

	* VERSION, reldate.h, ChangeLog: automatic post-release commit
	for mutt-1.1.2

	* keymap.c: Fix a macro-related segmentation fault in stable.
	From Byrial Jensen.

	* keymap.c: Fix a macro-related segmentation fault.  From Byrial
	Jensen.

	* OPS, commands.c, compose.c, curs_main.c, functions.h, protos.h,
	recvattach.c: Unified edit-type function for the index, compose,
	and receive-attachment menus.  Mostly by Michael Elkins.

	* curs_lib.c: patch-1.1.1.me.endwin.1, from Michael Elkins.

	* mutt.h, parse.c, init.h: Undo Michaels "pgpsearchext" patch.

2000-01-06 12:00:50  roessler  (roessler)

	* rfc2231.c, rfc2231.h, rfc822.c, rfc822.h, score.c, send.c,
	sendlib.c, signal.c, sort.c, sort.h, status.c, system.c, thread.c,
	pgplib.c, pgplib.h, pgppubring.c, pop.c, postpone.c, protos.h,
	query.c, recvattach.c, recvcmd.c, remailer.c, remailer.h,
	resize.c, rfc1524.c, rfc1524.h, rfc2047.c, rfc2047.h, mh.c,
	mime.h, mutt.h, mutt_curses.h, mutt_menu.h, mutt_regex.h,
	muttlib.c, mx.c, mx.h, pager.c, pager.h, parse.c, pattern.c,
	pgp.h, pgpinvoke.c, keymap.c, keymap.h, lib.c, lib.h, mailbox.h,
	main.c, makedoc.c, mapping.h, mbox.c, menu.c, init.h, hash.h,
	hdrline.c, headers.c, help.c, history.c, history.h, hook.c,
	init.c, copy.h, curs_lib.c, curs_main.c, date.c, dotlock.c,
	dotlock.h, edit.c, editmsg.c, enter.c, extlib.c, filter.c,
	flags.c, from.c, functions.h, globals.h, gnupgparse.c, handler.c,
	hash.c, attach.c, attach.h, browser.c, browser.h, buffy.c,
	buffy.h, charset.c, charset.h, color.c, commands.c, complete.c,
	compose.c, copy.c, addrbook.c, alias.c: Update copyright notices
	for unstable.

	* signal.c, socket.c, sort.c, sort.h, status.c, system.c,
	thread.c, query.c, recvattach.c, resize.c, rfc1524.c,
	rfc1524.h, rfc2047.c, rfc2047.h, rfc822.c, rfc822.h, score.c,
	send.c, sendlib.c, pattern.c, pgp.c, pgpinvoke.c, pgpkey.c,
	pgppubring.c, pop.c, postpone.c, protos.h, pager.h, parse.c,
	menu.c, mh.c, mime.h, mutt.h, mutt_curses.h, mutt_menu.h,
	mutt_regex.h, mutt_socket.h, mx.c, mx.h, pager.c, imap.h,
	init.c, init.h, keymap.c, keymap.h, lib.c, mailbox.h, main.c,
	mapping.h, mbox.c, hash.c, hash.h, hdrline.c, headers.c,
	help.c, history.c, history.h, hook.c, imap.c, curs_main.c,
	date.c, dotlock.c, dotlock.h, edit.c, enter.c, filter.c, flags.c,
	from.c, functions.h, globals.h, gnupgparse.c, handler.c, buffy.c,
	buffy.h, charset.c, charset.h, color.c, commands.c, complete.c,
	compose.c, copy.c, copy.h, curs_lib.c, addrbook.c, alias.c,
	attach.c, attach.h, browser.c: Updat copyright notices in stable.

2000-01-05 09:40:52  roessler  (roessler)

	* init.h, mutt.h, parse.c: patch-1.1.1.me.pgpsearchtext.1.
	From Michael Elkins.

2000-01-03 10:15:54  roessler  (roessler)

	* strcasecmp.c: New str*casecmp replacements for stable.

	* strcasecmp.c: Fix strncasecmp and strcasecmp replacement
	functions.  Problem noted by Stu Heiss <stu@jpusa1.chi.il.us>.

2000-01-01 17:59:51  roessler  (roessler)

	* parse.c: y2k fix for 1.0.

	* parse.c: A y2k fix for those who still use two-digit year
	numbers as originally specified in RFC 822.

1999-12-29 18:38:07  roessler  (roessler)

	* po/zh_TW.Big5.po: New Chinese translation; from Anthnoy Wong
	<ypwong@debian.org>; Dec 21 1999.

	* sort.c: Fix a minor threading bug.  From Edmund GRIMLEY EVANS
	<edmundo@rano.demon.co.uk>, Dec 14 1999.

	* browser.c: Fix the use of link_is_dir() in the file
	browser.  This should fix the bug reported by John Yates
	<yates@flatiron.com> on Dec 07 1999.  (Details noted by Byrial
	Jensen <byrial@image.dk> on Dec 09 1999.)

	* send.c: Don't use IMAP folders for FCCs when sending messages
	in batch mode.	This is _not_ Brendan's patch, which may be
	included later.

1999-12-14 10:29:25  roessler  (roessler)

	* INSTALL: Add a short note that EXACT_ADDRESS is broken.
	In order to fix it, we'd need a RFC 2047 implementation
	which knows about RFC 822 syntax.  (This would also help with
	In-Reply-To headers, BTW, but would be considerably more complex.)

1999-12-13 11:36:01  roessler  (roessler)

	* init.h, mutt.h, protos.h, send.c, sendlib.c: Adding the
	envelope_from option.

1999-12-09 11:17:35  roessler  (roessler)

	* imap/README, imap/auth.c, imap/browse.c, imap/imap.c,
	imap/imap.h, imap/imap_private.h, imap/imap_socket.h,
	imap/imap_ssl.c, imap/message.c, imap/socket.c, imap/util.c,
	doc/manual.sgml.head, init.c, browser.c: Tommi Komulainen's
	multiple IMAP usernames patch.

1999-12-06 09:59:28  roessler  (roessler)

	* mbox.c: Cosmetic improvement for reading mmdf folders.
	From John Hawkinson <jhawk@bbnplanet.com>.

1999-12-04 15:42:07  roessler  (roessler)

	* mx.c: Check for the presence of .overview files when testing
	whether some directory is an MH folder.  This way, you can at
	least read Usenet news from the spool using Mutt. ;-)

	* alias.c, init.h, mutt_regex.h: William Feavish's GECOS regexp
	patch.

1999-12-03 16:54:03  roessler  (roessler)

	* doc/manual.sgml.head: Fix the documentation on how to join
	the mutt lists.  Noted by Marius Gedminas <mgedmin@takas.lt>.

	* init.h: Fix a small bug in the documentation for $hidden_host.

	* configure.in: Fix the handling of --disable configure switches.

	* configure.in: patch-1.0.rr.autoconf-disable.1: --disable-pop
	shouldn't enable pop.

	* rfc2047.c: Properly tag quoted-printable encoded RFC 2047
	strings with $send_charset, not with $charset.

	* Makefile.am, README, README.UPGRADE: Adding one more readme
	file.  This one is intended to serve as some kind of "howto"
	for the most notable incompatible configuration changes.

1999-12-02 16:29:26  roessler  (roessler)

	* pgpkey.c: Fix the PGP key selection menu's title.

	* imap/imap_ssl.c: SSL fixes from Tommi Kommulainen.

	* NEWS: Announce edit-message and resend-message, and the changes
	in recvcmd.c.

	* doc/manual.sgml.head: Clarify the documentation of
	lists/unlists/subscribe/unsubscribe a bit.

1999-12-01 12:06:31  roessler  (roessler)

	* imap/util.c: Now, I should have got the signal handling right.

	* imap/util.c: another alarm (0) was missing.  (However, this
	one didn't crash mutt.)

	* imap/util.c: imap_keepalive: cancel pending alarms.  Otherwise,
	mutt will die frequently.

	* imap/util.c: Re-set the list of blocked signals after the
	imap_keepalive stuff.

	* imap/imap.h, imap/util.c, curs_lib.c, mutt.h, system.c:
	A modified version of Tommi Kommulainen's imap keepalive patch.

1999-11-26 09:19:03  roessler  (roessler)

	* imap/message.c: Fix the lines header.

1999-11-25 15:18:02  roessler  (roessler)

	* imap/imap.h, imap/util.c, curs_lib.c, mutt.h, system.c: Undo
	the IMAP keepalive patch.  It has just bitten me while mutt was
	trying to dotlock a folder.  Seems that there needs some more
	work to be done.

	* imap/imap.h, imap/util.c, mutt.h, system.c, curs_lib.c:
	A modified version of Tommi Komulainen's imap keepalive patch.

1999-11-24 16:29:58  roessler  (roessler)

	* NEWS: Change some headlines: Instead of "major changes
	since <unstable version>", it's "major changes since 1.0" now.
	In addition, I changed the note concerning the lists/subscribe
	change to be more explicit than the old one.

	* imap/message.c: IMAP line count fix from
	Tommi.Komulainen@iki.fi.

1999-11-23 23:43:51  roessler  (roessler)

	* postpone.c: mutt_prepare_template() didn't work with
	PGP-encrypted messages due to an - errm - interesting typo.

	* doc/manual.sgml.head: Document the fact that users can enter
	a mail-followup-to header in the editor.  There seems to have
	been some confusion about this.

	* doc/PGP-Notes.txt, acconfig.h, configure.in, pgp.c: Disable
	core dumps before we ask the user for a pass phrase.  Suggested by
	<Stefan.Alfredsson@kau.se>.

	* doc/PGP-Notes.txt: Include the maildrop recipe Mark Weinem
	<mark.weinem@unidui.uni-duisburg.de> sent me some weeks ago.

	* muttlib.c: Permit !! for the last folder.  Elm compatibility.

	* NEWS: Tell our users that fcc_clear exists.

	* init.h, mutt.h, send.c: Adding an fcc_clear option for
	unencrypted and unsigned FCCs.

	* imap/Makefile.am: Include the SSL-related code with "make dist".

1999-11-22 16:01:42  roessler  (roessler)

	* imap/imap.c, imap/imap.h, imap/imap_private.h, imap/message.c,
	imap/util.c, imap/BUGS, imap/README, imap/TODO, OPS, browser.c,
	functions.h, pgppubring.c: IMAP folder creation and deletion.
	From Brendan Cully.

	* po/de.po: Der Versuch, "Diskussionsfaden" durch etwas
	Verständlicheres zu ersetzen. ;-)

1999-11-18 16:19:35  roessler  (roessler)

	* init.h: Include SSL documentation in the manual.

	* dotlock.c: indentation noise.

	* imap/socket.c: Small code clean-up.

	* mx.c: Detect .mew_cache files in MH folders.	Suggested by
	Kawaguti Ginga <ginga@amalthea.phys.s.u-tokyo.ac.jp>.

	* doc/manual.sgml.head: Documentation nit from Byrial Jensen.

	* lib.c: patch-1.0.bj.lastline.1: Handle last lines in
	configuration files nicely, even when they are not terminated
	by a \n character.

	* parse.c, rfc2231.c: Some rather cosmetic changes.

1999-11-17 22:47:59  roessler  (roessler)

	* menu.c: some reorganizations of the dialog menu code.

	* alias.c: Fix the address sanitizer.  You should now be
	able to auto-create an alias for someone like "Jon K. Hellan"
	<hellan@acm.org>.

	* imap/Makefile.am, imap/browse.c, imap/imap.c, imap/imap.h,
	imap/imap_private.h, imap/imap_socket.h, imap/imap_ssl.c,
	imap/imap_ssl.h, imap/message.c, imap/socket.c, imap/util.c,
	doc/manual.sgml.head, Makefile.am, NEWS, README.SSL, acconfig.h,
	configure.in, init.c, init.h, main.c, mutt.h: Tommi Komulainen's
	IMAP/SSL support patches.

	* menu.c, mutt_menu.h: Tommi Komulainen's menu/dialog patch.

1999-11-15 17:44:15  roessler  (roessler)

	* pgp.c: Fix the pgp-hook logic.

	* color.c: Small color fix from T. E. Dickey.

	* color.c: A small patch from TE Dickey.

1999-11-11 18:30:25  roessler  (roessler)

	* rfc822.c: ups, the previous patch included a small buffer
	overflow.

	* po/gl.po: Roberto Suarez Soto <robe@ceu.fi.udc.es> sent us a
	new translation.

	* rfc822.c: Fix a header quoting bug.

	* doc/Makefile.in: Another build process patch from Brendan Cully.

1999-11-10 21:35:33  roessler  (roessler)

	* rfc2231.c: Ignore empty MIME parameters.

1999-11-09 12:40:14  roessler  (roessler)

	* mbox.c, parse.c: Add some more sanity checks about
	content-length.

	* curs_lib.c: Fix an SLang-related compilation problem.
	Originally from Jon Kåre Hellan.

	* postpone.c: Simplify mutt_prepare_template ().  Instead of
	copying around all kinds of data, we re-parse the postponed
	message's structure.

	* postpone.c: Make sure mutt doesn't forget MIME structure when
	the user resends a message/rfc822 body from the recvattach menu.
	Note, however, that this is more of a temporary solution
	- I think there is some more space for improvements in
	mutt_prepare_template().

	* imap/Makefile.am, doc/Makefile.in, contrib/Makefile.in,
	configure.in, Makefile.am: Build process fixes from Brendan Cully.

	* pager.c: Add a missing redraw after resend-message.

1999-11-08 22:10:49  roessler  (roessler)

	* VERSION: Undo changes which are due to release-building tests.
	After all, we want the _right_ diff next time.

	* build-release: Finalize the new build-release script.

	* ChangeLog, VERSION, build-release: automatic post-release
	commit for mutt-1.1.1.2

	* LAST_TAG, Makefile.am, OVERSION, VERSION, build-release,
	ChangeLog: automatic post-release commit for mutt-1.1.1.1

	* LAST_TAG, Makefile.am, OVERSION: Preparing some improvements
	to the build process.

	* po/de.po, reldate.h, VERSION, ChangeLog: automatic post-release
	commit for mutt-1.1.1

1999-11-07 22:52:40  roessler  (roessler)

	* sendlib.c: short-cut utf-7 as a 7bit character set.  Currently,
	utf-7 may be overridden by us-ascii.

	* protos.h, recvattach.c, recvcmd.c, rfc1524.c, rfc1524.h,
	send.c, sendlib.c, attach.c, attach.h, browser.c, commands.c,
	compose.c, curs_main.c, functions.h, init.h, mutt.h, muttlib.c,
	pager.c, pager.h, postpone.c, Makefile.am: Rewriting lots of
	the recvattach code.

	* po/eo.po: branches:  1.1.2; file eo.po was initially added on
	branch mutt-1-0-stable.

	* po/eo.po, configure.in: Esperanto translation from Edmund
	GRIMLEY EVANS <edmundo@rano.demon.co.uk>.

1999-11-05 07:28:11  roessler  (roessler)

	* pgppubring.c: preprocess out some unused strings.

1999-11-04 21:35:32  roessler  (roessler)

	* rfc2231.c: Catch a segmenatation fault.  Note that this is
	not the real fix for the problem...

	* menu.c: Change a short to an int where it should have been one.

	* po/gl.po: New version.

	* protos.h, send.c, status.c, buffy.c, globals.h, postpone.c:
	IMAP postpone changes from Byrial Jensen.

1999-11-03 20:30:19  roessler  (roessler)

	* recvattach.c: Adding a comment which describes some ideas on
	how the attachment menu should work.

1999-11-02 15:51:07  roessler  (roessler)

	* imap/BUGS, imap/command.c, imap/imap.c, imap/imap_private.h,
	imap/message.c, imap/util.c, buffy.c: Various IMAP-related fixes
	from Brendan Cully.

1999-10-31 17:12:55  roessler  (roessler)

	* po/it.po: [stable] Small fix from Marco d'Itri.

	* m4/.cvsignore, intl/.cvsignore, imap/BUGS, imap/message.c,
	contrib/.cvsignore: From Brendan Cully: IMAP updates should work
	properly again.

1999-10-29 05:43:40  roessler  (roessler)

	* po/.cvsignore: Cosmetics.

	* imap/BUGS: Update the documentation.

	* doc/.cvsignore: Cosmetics.

	* buffy.c, globals.h, postpone.c, send.c, status.c: Don't check
	the number of postponed messages every time the status line
	is updated - this gets quite slow when used with slow IMAP
	connections.

1999-10-28 17:42:07  roessler  (roessler)

	* README: Fix the version number in the README file.

	* pop.c: Cosmetic POP fixes from Evan DiBiase
	<evand@telerama.com>.

	* pop.c: Cosmetic fixes from Evan DiBiase <evand@telerama.com>.

1999-10-28 08:15:38    <Jon.K.Hellan@item.ntnu.no>  (roessler)

	* imap/imap_socket.h, imap/socket.c, init.h, globals.h: Adding
	imap_preconnect.  This way, you can let mutt start an ssh tunnel
	before it tries to connect to an IMAP server.

1999-10-27 12:17:34  roessler  (roessler)

	* po/gl.po: branches:  1.1.2; file gl.po was initially added on
	branch mutt-1-0-stable.

	* po/gl.po, configure.in: Adding a Galician translation.

1999-10-26 15:14:01  roessler  (roessler)

	* curs_lib.c, main.c: Some display-related fixes from Andrej
	Gritsenko.

	* editmsg.c: Fix a small bug in the new edit-message feature.
	From Andrej Gritsenko.

	* imap/imap.c, imap/imap_private.h, imap/util.c, imap/auth.c,
	imap/browse.c, imap/command.c: * stops mutt from logging CRAM
	secrets in debug mode.	* should fix mutt segfaulting when trying
	to open {} * helps with the problem of mutt detecting new mail
	in the wrong
	  folder. Now, IMAP commands from the SELECTED state should call
	  imap_cmd_finish after they've executed commands. I've only put
	  this is imap_buffy_check for now - in my opinion the command
	  execution path is still not stable, and rewrites may obviate
	  the need for this...

	(From: Brendan Cully <brendan@kublai.com>)

1999-10-25 20:05:14  roessler  (roessler)

	* po/sv.po: branches:  1.1.2; file sv.po was initially added on
	branch mutt-1-0-stable.

	* po/sv.po, configure.in: Adding the Swedish translation to
	stable.

	* po/de.po: Updated German translation from Roland Rosenfeld.

	* imap/imap.h, imap/imap_private.h, imap/message.c, imap/util.c,
	imap/.cvsignore, imap/BUGS, imap/Makefile.am, imap/browse.c,
	imap/command.c, imap/imap.c, init.h: Brendan Cully's IMAP code
	movements patch.

1999-10-22 08:49:30  roessler  (roessler)

	* Makefile.am, VERSION, reldate.h, ChangeLog: automatic
	post-release commit for mutt-1.1

	* po/zh_TW.Big5.po, po/uk.po, po/sk.po, po/pt_BR.po, po/ru.po,
	po/pl.po, po/nl.po, po/ko.po, po/it.po, po/id.po, po/fr.po,
	po/es.po, po/el.po, po/de.po, po/cs.po, NEWS, VERSION, reldate.h,
	ChangeLog: post-release commit for one dot zero.  (yes, really.)

1999-10-21 08:07:22  roessler  (roessler)

	* compose.c: Another sprintf-vs-null issue.

1999-10-20 14:51:57  roessler  (roessler)

	* po/id.po: new indonesian translation.

	* imap/message.c: Flags should only be modified using
	mutt_set_flag().  Everything else leads to neglected side effects.
	In this case, index colors, searches and possibly other side
	effects were ignored when a message which resides on an IMAP
	folder was read.

	* imap/auth.c: Let the user skip CRAM-MD5 by entering an empty
	secret.

	* po/id.po, po/el.po: translation updates.

	* configure.in: Don't use GNU grep specific options.

1999-10-19 15:34:04  roessler  (roessler)

	* imap/auth.c: Fix some sloppiness-induced, but harmless,
	nonsense.

	* imap/imap_private.h, imap/auth.c, imap/imap.c: Add
	AUTHENTICATE=ANONYMOUS support to the IMAP authentication methods.
	This is, for instance, needed to access the cyrus-related mailing
	lists' archives at CMU.

	* po/el.po: New greek translation.

1999-10-18 09:13:42  roessler  (roessler)

	* pgp.c: Handle Ctrl-G on the pgp-hook prompt correctly.

1999-10-16 15:19:29  roessler  (roessler)

	* Makefile.am: doc/PGP-Notes.txt vs. doc/PGP-Notes.

	* Makefile.am: [stable] doc/PGP-Notes.txt has an extension. ups.

	* send.c: [stable] Fix Debian bug #47408.

	* send.c: Fix Debian bug #47408: When the postponed folder
	is a maildir, messages should only be written to the _new_
	subdirectory.

	* po/nl.po: New nl translation from Johan van Selst
	<johans@stack.nl>.

	* po/cs.po: New cs translation from Jiri Pavlovsky
	<pavlovsk@ff.cuni.cz>.

	* po/zh_TW.Big5.po: [stable] chinese translation fixes from
	Anthony Wong <ypwong@debian.org>.

	* init.h: scoring documentation fix.

	* globals.h, init.h, mutt.h, mx.c, protos.h, score.c, sort.c:
	Scoring improvements.

1999-10-14 16:09:10  roessler  (roessler)

	* po/ru.po: New Russian tranlation for stable.

	* contrib/gpg.rc: New gpg.rc from Roland Rosenfeld.

	* po/fr.po: [stable] New french translation.

	* po/de.po: [stable] Fixes to the German translation.

	* pattern.c: [stable] Fix a segmentation fault when attempting
	to search pgp-encrypted messages.

	* pattern.c: Fix a segmentation fault when search PGP-encrypted
	messages.

1999-10-11 20:26:41  roessler  (roessler)

	* VERSION, po/es.po, reldate.h, ChangeLog: automatic post-release
	commit for mutt-0.96.8

	* po/zh_TW.Big5.po, po/uk.po, po/sk.po, po/ru.po, po/pl.po,
	po/nl.po, po/ko.po, po/it.po, po/id.po, po/fr.po, po/es.po,
	po/el.po, po/de.po, po/cs.po, VERSION, reldate.h, ChangeLog:
	post-release commit for 1.0pre4.

	* po/zh_TW.Big5.po: New Chinese Translation.

	* dotlock.c: [stable] Use dotlock.c from unstable.

1999-10-06 20:20:54  roessler  (roessler)

	* Makefile.am: Makefile.am fix for unstable.

	* Makefile.am: [stable] Check for mutt_dotlock in
	$(DESTDIR)$(bindir), not in $(bindir). This should fix some
	Debian build problems.

	* init.h: fix the $from documentation.	Noted by David DeSimone.

1999-10-05 06:50:34  roessler  (roessler)

	* compose.c, mutt.h, recvattach.c: small fixes from Gero Treuner.

	* mutt.h, recvattach.c, compose.c: [stable] small fixes from
	Gero Treuner.

1999-10-04 10:05:26  roessler  (roessler)

	* configure.in: [stable] add pt_BR to ALL_LINGUAS.

	* configure.in: add pt_BR to ALL_LINGUAS.

	* po/pt_BR.po: Brasilian translation.

	* po/pt_BR.po: branches:  1.1.2; file pt_BR.po was initially
	added on branch mutt-1-0-stable.

	* po/pt_BR.po: Brasilian translation.

	* imap/BUGS, imap/Makefile.am, imap/README, imap/auth.c,
	imap/imap.c, imap/util.c, .cvsignore, mx.c: Some fixes from
	Brendan Cully.

	* pgpewrap: pgpewrap spits out ugly error messages when used
	with ash.

	* configure.in: AM_C_PROTOTYPES seems to be too recent for the
	installed automake/autoconf base.

	* postpone.c: Remove some nonsense from the resend-message
	patches.

	* postpone.c: Fix a memory leak.

1999-09-30 22:05:28  roessler  (roessler)

	* imap/message.c, send.c, sendlib.c, OPS, buffy.c, curs_main.c,
	functions.h, headers.c, main.c, mbox.c, mh.c, mutt.h, parse.c,
	parse.h, postpone.c, protos.h, recvattach.c: Add a resend-message
	function (similar to the _old_ edit-message), and redo large
	parts of mutt_prepare_edit_message (now mutt_prepare_template).

	* main.c: unstable cosmetics.

	* main.c: [stable] cosmetic change suggested by marco d'itri.

	* po/es.po, po/es.po: New spanish translation from Boris
	Wesslowsky.

	* imap/Makefile.am, makedoc.c: Build fixes from Lars Hecking.

	* doc/manual.sgml.in, Muttrc.in, NEWS, globals.h, init.h, send.c:
	[stable] Re-add in_reply_to, this time with the right default
	value.

	* sendlib.c: [unstable] fix the duplicate x-mailer/uesr-agent
	problem.

	* send.c, globals.h, init.h: [unstable] Re-add in-reply-to.
	This time with a suitable default. #-\

1999-09-29 17:47:33  roessler  (roessler)

	* configure.in: More fixes from Lars Hecking.

	* configure.in: Adding AC_PREREQ to configure.in.

	* configure.in: make sure the right software is used for building
	mutt. Patch suggested by Lars Hecking and Will Fiveash.

	* pgpinvoke.c: don't leak /dev/null file descriptors.  From Roland
	Rosenfeld.

	* curs_main.c: fix^2 for stable.

	* curs_main.c: Fixing the fix - missing brackets.

	* curs_main.c, parse.c: [stable] Fix some memory leaks noted by
	purify running on behalf of Daniel Eisenbud.

	* curs_main.c, parse.c: Fix some memory leaks noted by purify
	running on behalf of Daniel Eisenbud.

1999-09-28 18:55:31  roessler  (roessler)

	* po/ru.po: Here goes an update for version 1.0-pre3i.	The main
	feature of this translation is that one-letter answers to
	multiple choice questions are not localized (Thomas, could you
	please add this as comment to the update in CVS?)

	(From: Michael Sobolev.)

	* sendlib.c: [stable] Include SPACE and HT with MIME specials.

	* sendlib.c: [unstable] Include SPACE and HT with MimeSpecials.

	* Makefile.am: Better solution for the makedoc build using
	automake.

	* Makefile.am: Some makes apparently have to be told about how
	to build makedoc.

1999-09-27 17:55:14  roessler  (roessler)

	* copy.c: A back-port from unstable had missed some parts which
	could lead to message corruption with mh mail folders.

	* po/it.po: new Italian translation from Marco d'Itri.

	* po/pl.po: New polish translation.

	* po/de.po, po/de.po: Translation fix from Roland Rosenfeld.

	* doc/manual.sgml.in: Documentation fix from Roland Rosenfeld.

1999-09-25 07:37:51  roessler  (roessler)

	* po/zh_TW.Big5.po, po/uk.po, po/sk.po, po/ru.po, po/pl.po,
	po/nl.po, po/ko.po, po/it.po, po/id.po, po/fr.po, po/es.po,
	po/el.po, po/de.po, po/cs.po: post-release commit for 1.0pre3.

	* VERSION, reldate.h, ChangeLog: pre-release commit for 1.0pre3.

1999-09-24 17:51:55  roessler  (roessler)

	* po/uk.po, po/zh_TW.Big5.po, po/sk.po, po/pl.po, po/ru.po,
	po/it.po, po/ko.po, po/nl.po, po/fr.po, po/id.po, po/el.po,
	po/es.po, po/cs.po, po/de.po, ChangeLog, VERSION, reldate.h:
	automatic post-release commit for mutt-0.96.7

1999-09-23 21:13:55  roessler  (roessler)

	* po/el.po: New Greek tranlsation from Fanis <madf@geocities.com>.

	* browser.c: [stable] Solaris snprintf vs. NULL pointers.

	* browser.c: Try not to pass NULL pointers to snprintf
	- the Solaris version doesn't like them.  (Noted by
	Thomas.Parmelan@efrei.fr.)

	* imap/imap_private.h, imap/socket.c, imap/util.c, imap/BUGS,
	imap/imap.c, buffy.c: Brendan Cully's latest changes:

	* includes all of my last patch, since it hasn't been committed
	yet.  * catches a couple segfault problems if Context is NULL.
	* works harder to avoid sending null STORE FLAGS commands. May not
	  be perfect yet, but also has extra debugging code.  * has the
	beginnings of a more interactive IMAP error handler.
	  Doesn't do anything yet, I'm just including it because I want
	  to get the rest of the patch out.

	* doc/Makefile.in, Makefile.am: Use $(MAKE) instead of make.
	Noted by Ryan Murray <rmurray@cyberhqz.com>.

	* doc/Makefile.in, Makefile.am, configure.in, init.h: A small
	portability fix related to makedoc.

	* po/es.po: [stable] new spanish translation from Boris Wesslowski
	<Boris.Wesslowski@StudBox.Uni-Stuttgart.DE>.

	* alias.c: increase this limit for stable as well.

	* handler.c: [stable] Fix a buffer overflow and a bug helping
	with exploiting this overflow in the text/enriched handler.

	* handler.c: Fix a buffer overflow and a bug helping with
	exploiting this overflow in the text/enriched handler.

	* imap/browse.c, doc/manual.sgml.head, curs_main.c: This small
	patch:

	* catches a possible null-pointer dereference in mx_close_mailbox
	  when logging out of the server.
	* fixes IMAP tab-completion cosmetics (slightly broken with last
	  Cyrus-compatibility updates)
	* adds a bit to the IMAP part of the manual.

	Brendan Cully <brendan@kublai.com>

	* alias.c: Increase a buffer to make larger group aliases
	possible.  The current STRING buffer was far too small.

1999-09-12 19:39:10  roessler  (roessler)

	* po/es.po: [stable] Updated spanish translation from Boris
	Wesslowski.

	* po/es.po: [stable] Fixes for the Spanish translation.
	From Nicolás Lichtmaier <nick@debian.org>.

	* imap/BUGS, imap/Makefile.am, imap/TODO, imap/auth.c,
	imap/imap.c, imap/imap.h, imap/imap_private.h, imap/message.c,
	imap/util.c, buffy.c, commands.c, globals.h, init.h: The attached
	patch (imap-turbocharge.diff):

	* changes mutt_buffy_check to only poll the selected folder
	  when it is opened, not all mailboxes (unless the timeout
	  has expired).  This is a noticeable win if you have a few
	  IMAP mailboxes.

	* sets the default checkinterval to 60 seconds from 0. Things
	  are much much slower with 0.

	* makes some cosmetic renames

	* moves lots of generic imap stuff into a separate file,
	imap/util.c

	* abstracts the process of sending a command to an IMAP server
	  a bit better (lots more to do here, though).

	* moves the message-set creation code used by the new fastdelete
	  code into its own function, since it is generally useful.

	* implements server-side copy of messages. Tagged messages
	  are copied in one command, thanks to the message-set
	  function. Speedy!

	(From: Brendan Cully; modifications by tlr.)

1999-09-11 17:04:12  roessler  (roessler)

	* po/pl.po: [stable] new polish translation from Pawel Dienkonski.

	* po/es.po: [stable] New Spanish translation from Boris
	Wesslowski.

	* configure.in: [stable] Hurd portability patch from Marcus
	Brinkmann.

	* configure.in: Hurd portability patch from Marcus Brinkmann.

	* imap/browse.c, imap/imap.c: Fix IMAP fast deletion.
	From Brendan.

	* Muttrc.in: typos fixed by Telsa.

	* doc/manual.sgml.in: Small manual fix for stable.  Noted by
	Telsa <hobbit@aloss.ukuu.org.uk>.

1999-09-08 06:05:54  roessler  (roessler)

	* imap/imap.c, imap/imap.h, imap/imap_private.h, mx.c,
	curs_main.c: The attached patch:

	* gets Mutt to properly log off the IMAP server when
	  quitting. Clients don't care, but it's polite and proper.
	* further updates the flags changes from yesterday * uses CLOSE
	instead of EXPUNGE when closing a mailbox and purging
	  messages, for some slight speed gain.  * purges all messages
	marked for deletion in one command (if purging),
	  making for very cool speed gains switching mailboxes if you're
	  on, say, a few high volume mailing lists. Yeah, baby! (I
	  personally love this one).

	(From Brendan Cully <brendan@kublai.com>)

1999-09-07 17:01:28  roessler  (roessler)

	* Makefile.am: Bail out if the chmod of mutt_dotlock fails.

	* pgpkey.c: Fix a strtok NULL pointer problem.

	* doc/manual.sgml.in: notes on how to produce secure mailcaps.

	* gnupgparse.c, pgpinvoke.c: GPG-related fix from Gero Treuner.

	* imap/BUGS, imap/Makefile.am, imap/TODO, imap/imap.c,
	  imap/imap_private.h, imap/message.c, imap/message.h, mutt.h,
	  muttlib.c, mx.c, status.c, complete.c, flags.c: * redoes the
	  folder update optimisation I did yesterday. It's somewhat
	  cleaner and less invasive, and I'm not so worried about memory
	  leaks now.

	* Fixes the bug where mutt would append a '/' to $folder even
	  if it was only {mailhost}, causing mutt to browse the root
	  directory instead of the home directory.

	* includes a first stab at preserving the D flag on the IMAP
	  server.  Now if you answer no to 'Purge deleted', the server
	  still stores the messages as deleted, but doesn't expunge them
	  on exit.

	  NOTE: this is a first attempt. Play around, but don't mark
	  things as deleted that you'd be sorry to see disappear.

	(From: Brendan Cully <brendan@kublai.com>)

	* doc/manual.sgml.head: Adding notes from README.SECURITY.

1999-09-06 09:16:53  roessler  (roessler)

	* imap/Makefile.am, imap/TODO, imap/imap.c, imap/imap.h,
	imap/imap_private.h, imap/message.c, imap/message.h, mutt.h,
	muttlib.c: * Small imap/Makefile.am tweak for make dist

	* Hold on to mailbox flags, message flags, do update in one pass
	  instead of two, halving traffic on mailbox sync.

	* Update message flags at fetch as well as header download,
	  if the server thinks they've changed. Saves some unneeded
	  updates on sync.

	* Move some structures out of imap_private.h into message.h,
	  since they are local now.

	(From: Brendan Cully <brendan@kublai.com>)

1999-09-05 08:42:23  roessler  (roessler)

	* contrib/Tin.rc: add a sample of tin/lynx-like key bindings.

	* imap/Makefile.am: include message.c with the IMAP library.

	* init.c: [stable] Fixing "unignore *".

	* init.c: Fix "unignore *": We must not add "*" to the unignore
	list.

	* init.h: Documentation nit, from Liviu.

1999-09-04 04:55:58  roessler  (roessler)

	* imap/BUGS, imap/browse.c, imap/imap.c, imap/imap_private.h,
	imap/message.c: Fix some more IMAP problems.  From Brendan Cully.

1999-09-03 21:42:16  roessler  (roessler)

	* contrib/sample.muttrc: fix mailing list addresses.  Noted by
	David Benfell <benfell@greybeard95a.com>.

	* browser.c: - If the name of the folder returned by an IMAP
	  server is empty, Mutt could segfault in the browser window
	  attempting to display it.
	- add_folder in browser.c looks like it got corrupted in
	  some CVS update. A small patch makes things work again for
	  examine_mailboxes.
	(From: Brendan Cully <brendan@kublai.com>)

	* strdup.c, configure.in: strdup for unstable.

	* configure.in: [stable] Some systems may not have strdup.
	Substitute it.

	* strdup.c: branches:  1.1.2; file strdup.c was initially added
	on branch mutt-1-0-stable.

	* strdup.c: [stable] Some systems may not have strdup.
	Substitute it.

	* browser.c: [stable] cosmetic fix from Brendan Cully.

1999-09-02 18:50:46  roessler  (roessler)

	* editmsg.c: Don't copy the Status header to the user's edit
	buffer - we destroy it later when copying the message back.

	* acconfig.h, configure.in, init.c, init.h, main.c:
	[stable] Improved pgp 6.5.1 support.  From Jochen Schmitt
	<Jochen@herr-schmitt.de>.

	* doc/manual.sgml.head, Makefile.am, OPS, compose.c, curs_main.c,
	editmsg.c, mutt.h, protos.h, send.c, sendlib.c: A new edit-message
	feature, giving the raw message in an editor.

	* imap/auth.c: Fix a tiny signedness warning.

	* dotlock.c: Remove a superfluous label.

	* dotlock.c: [stable] remove a superfluous label.

	* po/cs.po: New czech translation.  From Jiri Pavlovsky
	<pavlovsk@ff.cuni.cz>.

	* doc/manual.sgml.in: [stable] It's www.sgmltools.org, not
	www.sgml-tools.org.  Noted by Heiko Schlichting.

1999-09-01 21:41:19  roessler  (roessler)

	* doc/Makefile.in, Makefile.am: A couple of build process
	and portability fixes concerning the automatically generated
	documentation.

	* mutt.h, init.c: [stable] Fix ignore/unignore.  This is a
	back-port from the unstable branch.

	* po/ko.po: New Korean translation.  From Byeong-Chan Kim
	<redhands@linux.sarang.net>.

	* curs_lib.c, edit.c, hdrline.c, sendlib.c: Fix a couple of
	possible compilation warnings.	(Noted by "John C.  Place"
	<placej@ctcdist.com>.)

	* hdrline.c, sendlib.c, curs_lib.c, edit.c: [stable] Fix a couple
	of small warnings.  Noted by "John C. Place" <placej@ctcdist.com>.

	* ChangeLog: check-point commit.

	* mx.c: Don't clear the error line whenever dotlocking a file.

	* mx.h: adding a prototype.

	* curs_main.c, mailbox.h, mx.c: When the user synchronizes a
	mail folder, do a thorough check.

1999-08-31 20:26:33  roessler  (roessler)

	* po/uk.po, po/zh_TW.Big5.po, po/ru.po, po/sk.po, po/ko.po,
	po/nl.po, po/pl.po, po/id.po, po/it.po, po/es.po, po/fr.po,
	VERSION, po/cs.po, po/de.po, po/el.po, reldate.h, Makefile.am,
	ChangeLog: automatic post-release commit for mutt-0.96.6

	* po/zh_TW.Big5.po, po/uk.po, po/sk.po, po/ru.po, po/pl.po,
	po/nl.po, po/ko.po, po/it.po, po/id.po, po/fr.po, po/es.po,
	po/el.po, po/de.po, po/cs.po, VERSION, reldate.h, ChangeLog:
	post-release commit for 1.0pre2.

	* doc/manual.sgml.tail, doc/manual.sgml.head, protos.h, thread.c,
	OPS, curs_main.c, functions.h: Adding a <parent-message>
	function. From Roland Rosenfeld <roland@spinnaker.rhein.de>.

	* curs_lib.c: Fix possible signedness problem with localized
	y/n responses.

	* po/ru.po: New russian translation.  From Michael Sobolev
	<mss@transas.com>.

	* imap.c: [stable] fix IMAP caching.

1999-08-30 16:10:45  roessler  (roessler)

	* configure.in, imap/imap.c, main.c: Properly handle IMAP
	cache files.

	* mh.c: cosmetics.

	* mh.c: [stable] Back-port various fixes from stable.

	* mh.c: Avoid a memory and temporary file leak.

	* mx.c, buffy.c, configure.in, imap.c: [stable] back-port
	of various IMAP-related fixes.	From Brendan Cully
	<brendan@kublai.com>.

1999-08-27 07:41:44  roessler  (roessler)

	* TODO: some notes on generic limiting.

1999-08-26 20:26:56  roessler  (roessler)

	* keymap.c: Change alias menu key bindings to something more
	reasonable.

	* imap/TODO: Adding a TODO list.

	* mh.c: hrmpf.

	* doc/manual.sgml.tail: Fix the sgml-tools url.  Noted by Heiko
	Schlichting.

	* doc/manual.sgml.in: Fix the URL to the sgml-tools package.
	Noted by Heiko Schlichting.

	* mh.c: Fixing a somewhat hypothetical error condition.

	* curs_main.c, keymap.c, pager.c, recvattach.c: IRIX fixes.

	* keymap.c, main.c, pager.c, recvattach.c, curs_main.c, edit.c:
	Various fixes to make mutt compile on IRIX.  Additionally,
	we introduce default bindings for the <enter> key which is
	used by xwsh for "return".  Suggested by Heiko Schlichting
	<heiko@cis.fu-berlin.de>.

1999-08-25 06:33:37  roessler  (roessler)

	* configure.in: We need ranlib even when we don't use IMAP.

	* compose.c: Trivial patch to make attach-message work for
	IMAP folders.

1999-08-24 21:27:20  roessler  (roessler)

	* po/de.po: Updates from Roland Rosenfeld.

	* Makefile.am: Automake clean-up.  From Lars Hecking.

	* po/id.po: Updates.

	* doc/Makefile.in: build muttrc.man before installing it.

	* reldate.h, Makefile.am, VERSION, ChangeLog: automatic
	post-release commit for mutt-0.96.5

	* po/zh_TW.Big5.po, po/uk.po, po/sk.po, po/ru.po, po/pl.po,
	po/nl.po, po/ko.po, po/it.po, po/id.po, po/fr.po, po/es.po,
	po/el.po, po/de.po, po/cs.po, NEWS, VERSION, reldate.h, ChangeLog:
	release-commit 1.0pre1.

	* Makefile.am: Still more bugs in the release-building process.

	* Makefile.am: *grrrr*	typos.

	* po/sk.po, po/uk.po, po/zh_TW.Big5.po, po/ru.po, po/nl.po,
	po/pl.po, po/fr.po, po/id.po, po/it.po, po/ko.po, po/cs.po,
	po/de.po, po/el.po, po/es.po, ChangeLog: translation update.

	* Makefile.am: Some of the targets were broken.

	* Makefile.am: Another tidbit.

	* Makefile.am: Still more build-process stuff. Let's see whether
	this automatically builds 0.96.5.

	* doc/manual.sgml, doc/muttrc.man, Muttrc: Remove some auto-built
	files from the repository.

	* Makefile.am: Further distribution process fixes.

	* po/POTFILES.in: Make translations fit together with actual
	source tree.

	* doc/Makefile.in, Muttrc, ChangeLog, Makefile.am: More fixes
	to the distribution-building process; check-point commit for
	documentation and ChangeLog.

	* doc/Makefile.in, doc/manual.sgml, doc/muttrc.man: Various
	experimental changes to automate the distribution-building
	process; documentation update.

	* Makefile.am: Various experimental changes to automate the
	distribution-building process.

1999-08-23 22:12:05  roessler  (roessler)

	* configure.in: Fix charmaps part of the build process.

	* copy.c: Fix an off-by-one error which lead to a segmentation
	fault.

	* charset.c: Don't delete symbol -> character code mappings.
	Character sets may define multiple symbols. :-(

	* imap/auth.c, imap/browse.c, imap/imap.c, imap/imap.h,
	imap/imap_private.h, browser.c, configure.in, Makefile.am,
	acconfig.h: Inclue GSS authentization for IMAP.

	* dotlock.c, mx.c: Remove a couple of NFS-related hacks which
	seem to be unnecessary.

	* main.c: Fix a small typo affecting mutt -v's output.

1999-08-20 08:24:13  roessler  (roessler)

	* po/fr.po: Fixed french translation.

	* imap/Makefile.am, imap/auth.c, imap/browse.c, imap/imap.c,
	imap/imap.h, imap/imap_private.h, imap/imap_socket.h, imap/md5.h,
	imap/md5c.c, imap/socket.c, socket.c, globals.h, imap.c, imap.h,
	init.h, lib.h, mime.h, mutt_socket.h: Brendan Cully's latest
	IMAP clean-up.

	* prepare: branches:  2.8.2; Brendan Cully's latest IMAP clean-up.

	* protos.h, rfc2047.c, sendlib.c, Makefile.am, base64.c,
	configure.in, copy.c: Brendan Cully's latest IMAP clean-up.

	* doc/manual.sgml.in, NEWS, copy.c, init.h, mutt.h, sendlib.c:
	Back-port $bounce_delivered from unstable.

	* po/fr.po: [stable] Small fixes.

1999-08-19 10:04:28  roessler  (roessler)

	* sendlib.c: [stable] Fix a back-porting bug.

	* configure.in: [stable] Albert Chin-A-Young
	<china@thewrittenword.com> suggests a different check for -lnsl
	and -lsocket.

	* configure.in: Albert Chin-A-Young suggests a slightly different
	check for libsocket and libnsl.

	* doc/manual.sgml.in: [stable] fix the urlview url.

	* doc/manual.sgml.head: fix the urlview url.

	* main.c: copyright message cosmetics.

	* Makefile.am, configure.in, prepare: Remove the $output.in hack,
	and create a fake charmaps directory instead.

	* acconfig.h, configure.in: [stable] check signal.h for
	sig_atomic_t.  This should help to build this version of mutt
	on systems such as SunOS 4.1.

	* sendlib.c: [stable] Force quotes around the boundary parameter's
	value.

	* sendlib.c: Force quotes around the boundary parameter.
	Another courtesy towards Outlook.

	* pgp.c: [stable] Make sure the boundary MIME parameter is the
	last one on multipart/signed.  Otherwise, Outlook will fail.
	Pointed out by Ian Bell, Turnpike.

	* muttlib.c, pgp.c: Ian Bell (turnpike) reports that Outlook
	Express expects the boundary parameter to be the _last_ MIME
	parameter on a multipart/* body part, and otherwise displays
	messages as empty.

1999-08-18 06:54:13  roessler  (roessler)

	* doc/muttrc.man, doc/muttrc.man.head, doc/manual.sgml, NEWS:
	documentation fixes.

	* commands.c: Fetch senders' keys also when decrypting a message.
	There may be a signature.

	* main.c: Don't try to create $maildir if it's an IMAP folder.

1999-08-17 20:04:07  roessler  (roessler)

	* reldate.h: :-(

	* reldate.h: *grmbls*

	* po/de.po, ChangeLog, VERSION: post-release commit for 0.96.4.

	* po/de.po, VERSION, ChangeLog: post-release commit for 0.95.7.

	* doc/manual.sgml, doc/muttrc.man, Muttrc: ispell's default path.

	* postpone.c: Fixing a mutt -p segfault.

	* doc/mutt.man, main.c: cosmetics; mention warranties in the
	manual page.

1999-08-15 19:59:09  roessler  (roessler)

	* compose.c: Make attach-message work with IMAP folders.

	* po/cs.po: New CS translation.

	* doc/Makefile.in, doc/manual.sgml, doc/muttrc.man, mutt.h, mx.c,
	pgp.c, pgp.h, pgpinvoke.c, prepare, send.c, Makefile.am, Muttrc,
	NEWS, README.SECURITY, browser.c, browser.h, commands.c, copy.c,
	curs_main.c, globals.h, init.c, init.h, main.c: Various changes
	added over the last week:

	- $delete_untag - creation of "application/pgp" messages -
	an attempt to fix prepare.  - Browser format changes

	* dotlock.h: cosmetics.

	* dotlock.c: [stable] take dotlock.c from unstable.

	* dotlock.c: Commit remaining changes.

	* copy.c, mh.c, mutt.h: Remove ugly mh-synching kludge.

	* dotlock.c, dotlock.h: Really fix $save_empty, even when the
	dotlocking code is compiled into mutt.

	* dotlock.c, dotlock.h: [stable] Fix $save_empty even when the
	dotlocking code is linked into mutt.

1999-08-09 19:03:12  roessler  (roessler)

	* ChangeLog, ChangeLog: check-point commit.

	* po/sk.po, po/uk.po, po/zh_TW.Big5.po, po/ko.po, po/nl.po,
	po/pl.po, po/ru.po, po/de.po, po/el.po, po/es.po, po/fr.po,
	po/id.po, po/it.po, po/cs.po: update-po.

	* po/zh_TW.Big5.po: [stable] Fixing a small typo in the Chinese
	translation.

	* po/zh_TW.Big5.po, po/uk.po, po/sk.po, po/ru.po, po/pl.po,
	po/nl.po, po/ko.po, po/it.po, po/id.po, po/fr.po, po/el.po,
	po/es.po, po/de.po, po/cs.po: [stable] Adding the new polish
	translation; general "make update-po".

	* Muttrc, doc/muttrc.man, doc/muttrc.man.head, main.c,
	po/zh_TW.Big5.po: Various fixes.  Additionally, mutt will now
	create the $folder directory when started in curses mode and if
	it doesn't exist.

1999-08-08 14:57:13  roessler  (roessler)

	* po/zh_TW.Big5.po: new chinese translation.

	* po/zh_TW.Big5.po: New chinese translation.

	* Makefile.am: Fix order of some dependencies.

	* Makefile.am: Fix keymap_defs.h dependency.

	* po/it.po: Fix a translation string in it.po.

	* po/it.po: Fixing a message.  From Marco.

	* doc/muttrc.man, init.h: Include complete documentation
	regardless of actual features.

	* doc/manual.sgml.in, doc/manual.sgml.tail, doc/mutt.man,
	doc/mutt.man.in, doc/muttrc.man, doc/muttrc.man.head,
	doc/muttrc.man.tail, contrib/Makefile.in, contrib/gpg.rc,
	doc/Makefile.in, doc/devel-notes.txt, doc/dotlock.man,
	doc/dotlock.man.in, doc/manual.sgml, doc/manual.sgml.head,
	Makefile.am, Muttrc.head, Muttrc.in, NEWS, configure.in, init.h,
	makedoc.c: Documentation updates; autogeneration of documentation
	from init.h.

1999-08-04 19:58:13  roessler  (roessler)

	* NEWS: documentation to prepare the next release.

	* doc/dotlock.man.in, dotlock.c, dotlock.h, mbox.c, mx.c, mx.h:
	[stable] Fix $save_empty.

	* ChangeLog: ChangeLog.

	* NEWS, protos.h, send.c: Various fixes; documentation.

	* doc/dotlock.man.in: Document the -d option.

	* dotlock.h, mbox.c, mx.c, mx.h, dotlock.c: Fix $save_empty.

1999-07-29 09:17:29  roessler  (roessler)

	* doc/manual.sgml.in: Remove references to the old PGP
	configuration interface.  Noted by Hanno Wagner <wagner@fitug.de>.

	* browser.c, complete.c, enter.c, imap.c, imap.h, main.c,
	protos.h: Brendan Cully's latest IMAP patches.

1999-07-28 20:40:49  roessler  (roessler)

	* doc/manual.sgml.in: Fix "lists" documentation.  From Jeremy
	Blosser <jblosser@firinn.org>.

	* doc/manual.sgml.in: Fix the description of the lists command.
	Patch provided by Jeremy Blosser <jblosser@firinn.org>.

	* doc/PGP-Notes.txt, pgp.h, pgpinvoke.c, init.c, init.h, pgp.c:
	PGP 6 support.

	* doc/manual.sgml.in, doc/mutt.man.in, doc/manual.sgml.in,
	doc/mutt.man.in: Documentation fixes from Jeremy Blosser.

	* mh.c: Replarse mh message' headers when updating them.

	* mh.c: Re-parse mh messages when committing them to disk.
	The structure may have changed.

	* rfc822.h, commands.c, init.h, pgp.c, pgp.h, pgpinvoke.c: Add a
	hook which enables us to fetch PGP keys from servers on demand.
	Look out for pkspxy. :-)

	* hdrline.c: Enable the use of %F in conditionals.  From Aaron
	Schrab <aaron+mutt@schrab.com>.

1999-07-26 21:04:53  roessler  (roessler)

	* dotlock.c: impose a hard limit on the number of locking
	attempts.

	* dotlock.c: Impose a hard limit on dotlock attempts.

	* recvattach.c, gnupgparse.c, pgpinvoke.c: Fix an error message.
	Also, close Debian bug #37394 for stable.

	* acconfig.h, configure.in: Check for gpgm.

	* recvattach.c: Make an error message ready for translation.
	From Gero Treuner.

	* Makefile.am: Add missing dependencies for pgpring.  Fix from
	David Ellement <ellement@sdd.hp.com>

	* Makefile.am: Create keymap_defs.h when it isn't present.
	Fix from Lars Hecking <lhecking@nmrc.ucc.ie>.

	* Makefile.am: Generate keymap_defs.h when it isn't present.
	Fix proposed by Lars Hecking <lhecking@nmrc.ucc.ie>.

	* doc/manual.sgml.in, handler.c, init.h, mutt.h, parse.c: Undo
	the content-disposition changes.  They don't merge well with
	operations such as printing, and need some more thought.

	* doc/manual.sgml.in, init.h, mutt.h, parse.c, handler.c: When an
	attachment's content-disposition is different from "inline", and
	if the user sets the use_cdisp option, don't auto_view this part.

	* ChangeLog: checkpointing.

	* flags.c, protos.h, recvattach.c: When replying to message/rfc822
	type attachments, Context statistics would go out of order.
	Problem noted by Johan van Selst <johans@stack.nl>.

	* flags.c, protos.h, recvattach.c: When replying to a
	message/rfc822 attachment, the Context statistics would get out
	of order.  Problem noted by Johan van Selst <johans@stack.nl>.

	* curs_lib.c: Dynamically allocate the unget buffer.  Fixes Debian
	bug #41042.  From Gero Treuner.

	* curs_lib.c: Dynamically allocate the unget buffer.  Fixes Debian
	bug #41042.  From Gero Treuner <gero@faveve.uni-stuttgart.de>.

	* curs_main.c: Fix read_only in folder-hooks.

	* curs_main.c, ChangeLog: The following:

		folder-hook !asdf unset read_only folder-hook asdf
		set read_only

	wouldn't work.	Fix from Gero Treuner
	<gero@faveve.uni-stuttgart.de>.

	* browser.h, imap.c, imap.h, mx.c, postpone.c, browser.c:
	Assorted IMAP fixes.  From Brendan Cully <brendan@kublai.com>,
	message <19990725150346.A19750@xanadu.kublai.com>.

	* parse.c, rfc2047.c, rfc2231.c, rfc2231.h, sendlib.c,
	Makefile.am, TODO, copy.c, init.h, mutt.h: Implement RFC 2231.

	* ChangeLog: *** empty log message ***

	* commands.c: Fix a missing #ifdef. From Matt Armstrong
	<matt@lickey.com>.

	* doc/devel-notes.txt: Add some notes.	From Matt Armstrong
	<matt@lickey.com>.

1999-07-24 14:55:45  roessler  (roessler)

	* rfc2047.c: Add some sanity checks to the RFC 2047 decoder.
	From "Alexander V.  Lukyanov" <lav@yars.free.net>.

1999-07-23 06:31:09  roessler  (roessler)

	* parse.c: There was some code missing about TYPEMODEL.  Noted by
	Brian Salter-Duke <b_duke@lacebark.ntu.edu.au>.

1999-07-22 14:56:44  roessler  (roessler)

	* mutt.h: Fix content-type's widths.

1999-07-21 13:02:12  roessler  (roessler)

	* recvattach.c: When forwarding or replying to attachments,
	use the proper time stamp for From_ lines of Fccs.  Note: This
	code may need some clean-up, it's horribly slow.

	* buffy.c: Fix compilation problem for non-imap systems.

	* compose.c: *grr* avoid a warning about /* in a comment.

	* compose.c: call mutt_update_encoding() after changing an
	attachment's content type.

1999-07-20 20:09:13  roessler  (roessler)

	* send.c, sendlib.c, protos.h: Use $from for resent-from headers
	when bouncing messages.

	* imap.c: Fix from Gero Treuner.

	* init.c: Fix value completion for DT_ADDR variables.  While we
	are on it, proper quoting is added.

	* init.h, send.c, alias.c, globals.h, init.c: As Aaron Schrab
	noted, patch-0.95.6.tlr.reverse_name.1 broke the use of my_hdr
	from send-hooks.  This patch introduces a new variable $from
	which can be used to use a default sender address; to make this
	possible, a new variable class DT_ADDR is defined.

	We now have the following algorithm for determining the from
	address:

	- $from is used as the default from address, if defined.
	  Otherwise, the local user name and (if the user wishes so)
	  the local domain are used.
	- This address can be overridden by $reverse_name, if set.
	- Now, send-hooks are evaluated.  - Afterwards, user headers
	are evaluated.	In this step, the from
	  header can be overridden using my_hdr From:.	- When there is
	no real name, $realname is used for it.  Note that,
	  when the default from header is used and $from defines a real
	  name, it takes precedence over $realname.

	* buffy.c, complete.c, imap.c, imap.h: Bugs fixed * Mutt sometimes
	forgets that IMAP folders with new mail have new
	  mail.  * On some common IMAP servers, Mutt erroneously insists
	that the
	  current folder has new mail.	* Mutt constantly polls the
	server for new messages,
	  disregarding the imap_checkinterval option.

	New features * tab-completion of IMAP folders. Not yet namespace
	aware, though it
	  will work within an alternate namespace (eg won't complete
	  #ft -> #ftp, but will complete #ftp/pu -> #ftp/pub). Some
	  tweaking of the browser was necessary to get it to cooperate
	  with completion.  Some remains to be done.

	(From: From: Brendan Cully <brendan@kublai.com>)

	* doc/manual.sgml.in, globals.h, init.h, send.c, Muttrc.in:
	Remove the $in_reply_to configuration variable.

	* doc/manual.sgml.in, globals.h, init.h, send.c, Muttrc.in:
	Remove the $in_reply_to configuration variable and always use
	the message-ID for that header.

	* pgp.c: patch-0.95.6.pgperror.1

	* po/de.po, curs_main.c, pager.c, po/de.po, curs_main.c, pager.c:
	patch-0.95.6.gettext.1.gz, from Gero Treuner.

	* pager.c, pager.c: patch-0.95.6.search_in_help.1, from Gero
	Treuner.

	* po/sk.po: New sk translation.

	* alias.c, enter.c: patch-0.95.6.alias_compl.1.gz, from Gero
	Treuner

1999-07-19 19:18:05  roessler  (roessler)

	* configure.in, pgppubring.c: Fix compilation problems with
	SunOS 4.  From Lars Hecking.

	* po/sk.po: new sk translation.

	* buffy.c: Consider empty folders to be non-existent for buffy's
	purposes.

1999-07-06 22:57:08  roessler  (roessler)

	* send.c, sendlib.c, signal.c, system.c, curs_lib.c, curs_main.c,
	globals.h, menu.c, mutt.h, pager.c, pattern.c, protos.h,
	attach.c, commands.c, compose.c: Applying Liviu Daia's signal
	handling patches.  They work fine with unstable for months now,
	so we may wish to use them with stable.

	* po/zh_TW.Big5.po, po/el.po, configure.in: Greek and Chinese
	translations for unstable.

	* po/zh_TW.Big5.po: branches:  1.1.2; file zh_TW.Big5.po was
	initially added on branch mutt-1-0-stable.

	* po/zh_TW.Big5.po: Chinese translation for stable.

	* configure.in: Adding chinese (big5) translation.

	* po/el.po: branches:  1.1.2; file el.po was initially added on
	branch mutt-1-0-stable.

	* po/el.po, configure.in: Adding greek translation from Fanis
	<madf@geocities.com>.

	* mx.c, mx.h, parse.c, pop.c, postpone.c, protos.h, recvattach.c,
	sendlib.c, attach.c, buffy.c, copy.c, lib.c, mailbox.h, mh.c:
	New mh and maildir folder writing code.  Back-port from unstable.

	* color.c: Fix color problem noted by Todd Larson.  From unstable.

	* color.c: Fixing a string buffer problem noted by Todd Larason
	<jtl@molehill.org>.

	* imap.c: Try creating an IMAP folder before writing to it.
	Hack from "Neulinger, Nathan R." <nneul@umr.edu>.

	* contrib/pgp5.rc, contrib/pgp2.rc: Fix various bugs.

1999-07-01 11:22:22  roessler  (roessler)

	* contrib/gpg.rc: Fix gpg invocation.  Noted by Werner Koch.

	* mx.c: Fix a small imap-related bug.

	* recvattach.c, sendlib.c, buffy.c, copy.c, curs_lib.c,
	globals.h, gnupgparse.c, hdrline.c, init.c, init.h, lib.c,
	lib.h, mailbox.h, mh.c, mutt.h, mx.c, mx.h, parse.c, pattern.c,
	pgpkey.c, pgppubring.c, pop.c, postpone.c, protos.h, attach.c:
	Various patches from last week, including:

	- new mh/maildir access code.  - subscribe/unsubscribe -
	various fixes.

1999-06-14 21:20:42  roessler  (roessler)

	* mutt.h, parse.c, sendlib.c: - Handle CRLF properly in non-text
	MIME parts.  - Correctly parse attachments with CRLF line endings,
	but without a
	  trailing CRLF.

	* alias.c, enter.c: Completion fixes from Gero Treuner
	<gero@faveve.uni-stuttgart.de>.

1999-06-10 09:30:39  roessler  (roessler)

	* alias.c, commands.c, curs_main.c, pager.c, protos.h: Use the
	same address with take-alias and display-address.

1999-06-09 17:17:53  roessler  (roessler)

	* recvattach.c: Fix the fix.  Most of it was wrong.

	* recvattach.c: There was bogus bug-fixing in the last fix.

	* recvattach.c: Fix attachment forwading.  Same problem as
	in unstable.

	* recvattach.c: Fix attachment forwarding.  The leading newline
	for certain MIME boundaries was missing.  *grrrr*

	* send.c: Give reverse_name precedence over my_hdr From:

1999-06-08 18:30:42  roessler  (roessler)

	* acconfig.h, configure.in, pgppubring.c, protos.h: Portability
	patches for SunOS 4.1.	From Lars Hecking.

	* curs_main.c, curs_main.c: Fix "Tab" behaviour when returning
	from the pager.

	* mutt.h, pattern.c, send.c, sendlib.c, commands.c, copy.c,
	copy.h, handler.c, imap.c, attach.c: Don't do charset conversions
	when they aren't necessary.

	Back-port from unstable.

	* pgp.c, pgpinvoke.c, pgpkey.c, pgplib.h, pgppubring.c,
	recvattach.c, Makefile.am, commands.c, compose.c, configure.in,
	hdrline.c, init.c, init.h, mutt.h: - Add a $weed option.  -
	Add out-of-band reporting of signature status.

1999-06-03 21:48:24  roessler  (roessler)

	* curs_main.c: Another header weeding change.  Experimental.

	* commands.c, init.h, mutt.h, send.c: Experimental: Use OPTWEED
	for _all_ header weeding throughout mutt.

	* contrib/Makefile.in, Makefile.am, NEWS, VERSION, reldate.h,
	ChangeLog: post-release commit 0.96.3.

	* po/uk.po, po/sk.po, po/ru.po, po/pl.po, po/nl.po, po/ko.po,
	po/it.po, po/id.po, po/fr.po, po/es.po, po/de.po, po/cs.po,
	gnupgparse.c, reldate.h, NEWS, VERSION, ChangeLog: release
	commit 0.95.6.

	* po/pl.po, po/ko.po, po/fr.po, po/de.po, po/cs.po: Latest
	chagnes.

	* doc/PGP-Notes.txt, contrib/pgp2.rc, contrib/pgp5.rc,
	pgppubring.c: Hardwire some mechanisms for finding secret and
	public key-rings.  This way, we need to hard-wire less stuff in
	the various configuration files, making the use of PGP with mutt
	a bit simpler again.

	* contrib/pgp2.rc: Another little fix.

	* contrib/pgp2.rc: ups, wrong order of arguments when verifying
	signatures.

	* doc/PGP-Notes.txt: Document the new PGP configuration interface.

	* contrib/gpg.rc, contrib/pgp2.rc, contrib/pgp5.rc, pgp.c, pgp.h,
	pgpewrap, pgpinvoke.c, pgpkey.c, pgplib.c, pgplib.h, pgppubring.c,
	Makefile.am, compose.c, configure.in, gnupgparse.c, init.c,
	init.h, mutt.h: Experimental: New PGP invocation interface. The
	invocations are done through formats, so all this should fit
	more cleanly into mutt now.

1999-06-02 18:52:19  roessler  (roessler)

	* Makefile.am, extlib.c, init.c, lib.c, lib.h, mutt.h, muttlib.c,
	protos.h: Major cutting & pasting: We now have a "real" library
	in lib.c which can be linked against external programs without
	much effort.

	* po/ko.po, po/pl.po, po/es.po, po/it.po, po/de.po: various
	updates.

1999-06-01 14:52:09  roessler  (roessler)

	* flags.c, mh.c, curs_main.c: Back-porting the maildir fixes
	from 0.96.2.

1999-05-31 16:11:32  roessler  (roessler)

	* VERSION: Preparing pre-release for 0.95.6.

	* po/uk.po, po/sk.po, po/ru.po, po/pl.po, po/nl.po, po/ko.po,
	po/it.po, po/id.po, po/fr.po, po/es.po, po/de.po, po/cs.po:
	translation updates

	* hook.c, pattern.c, pgp.c, send.c: Backporting fixes from
	unstable.

	* pattern.c, pgp.c, send.c, hook.c: Minor bug-fixes.

1999-05-21 15:55:27  roessler  (roessler)

	* po/ko.po: Adding the Korean translation.

	* configure.in: Korean translation.

	* po/ko.po: branches:  1.1.2; Korean translation.

	* configure.in: Korean translation.

1999-05-18 19:22:55  roessler  (roessler)

	* imap.c, imap.c: Latest IMAP fixes from Brandon.

	* imap.c: The current code wasn't asking for the capabilities
	of the server in the case where the user is using PREAUTH.

	* imap.c: The current IMAP code wasn't asking for the capabilities
	of the server in the case where the user is using PREAUTH.

1999-05-16 06:26:11  roessler  (roessler)

	* po/it.po: New IT translation.

	* pgpkey.c: Add a couple of token delimiters when constructing
	hints.	This way, addresses like "Chr. xyz" <xyz@foo.bar.baz>
	will match key IDs like xyz <xyz@bar>.

	* handler.c: Fix base64 decoding.

1999-05-06 08:29:17  roessler  (roessler)

	* curs_main.c, flags.c, mh.c: Fixing more maildir cursor problems.

1999-05-05 20:33:57  roessler  (roessler)

	* imap.c: The latest IMAP fixes.

	* imap.c: Fixing imap_check_mailbox().	From Brandon Long.

	* imap.c: Mutt would lose user-set "N" flags.

1999-05-03 16:17:29  roessler  (roessler)

	* gnupgparse.c: gnupg gives reasonable trust values now.

	* po/uk.po, po/sk.po, po/ru.po, po/pl.po, po/nl.po, po/it.po,
	po/id.po, po/fr.po, po/es.po, po/de.po, po/cs.po, keymap.c,
	menu.c, send.c: Various fixes from last week.

	* keymap.c, menu.c, pgpkey.c, send.c: Various fixes.

1999-04-23 09:01:42  roessler  (roessler)

	* reldate.h: ups, this should also be updated for 0.95.5 final.

	* ChangeLog: preparing the final 0.95.5.

	* po/uk.po, po/sk.po, po/ru.po, po/pl.po, po/nl.po, po/it.po,
	po/id.po, po/fr.po, po/es.po, po/de.po, po/cs.po: New translations
	and typo fixes.

	* OPS: Fix a documentation typo.

	* po/de.po: translation fixes from Roland and Gero.

1999-04-22 10:21:41  roessler  (roessler)

	* doc/manual.sgml.in: Document %_.

	* menu.c: Fix redraws.	Back-port from unstable.

	* lib.c: Add "_" as an expando option.

	* imap.h, init.h, mutt.h, mutt_socket.h, socket.c, imap.c:
	IMAP update from Brandon Long.

	* send.c: Fix FCC-related SNAFU in the ci_send_message()
	spaghetti.

1999-04-20 19:26:28  roessler  (roessler)

	* sendlib.c: [stable] fix timezone snafu.

	* sendlib.c: Fix a time zone snafu.

	* po/ru.po, po/sk.po, po/uk.po, po/fr.po, po/id.po, po/it.po,
	po/nl.po, po/pl.po, po/cs.po, po/de.po, po/es.po, VERSION,
	reldate.h, ChangeLog: Preparing 0.96.2.

	* po/uk.po, po/sk.po, po/ru.po, po/pl.po, po/nl.po, po/id.po,
	po/it.po, po/fr.po, po/es.po, po/de.po, po/cs.po, VERSION,
	reldate.h, ChangeLog: preparing 0.95.5

1999-04-12 21:02:35  roessler  (roessler)

	* recvattach.c: more multipart/alternative handling.

	* recvattach.c: Change multipart handling when receiving messages.

	* compose.c: Clean-up, from Vikas.

	* parse.c: typo.

	* parse.c: us-ascii is the default character set for text
	attachments we receive.

	* compose.c, sendlib.c: Fix default character set setting when
	attaching text files.

	* imap.c: Fix an IMAP quoting problem.	Essentially from Randall
	Nortman <rnortman@computer.org>.

	* po/sk.po, po/id.po, configure.in: new languages: id, sk.

	* po/id.po, po/sk.po: branches:  1.1.2; New translations: id, sk.

	* configure.in: New translations: id, sk.

1999-03-31 06:35:03  roessler  (roessler)

	* charset.c: Stupid error.

	* charset.c, charset.h: Another small charset optimization.

	* charset.h, handler.c, charset.c: A couple of optimizations,
	most notably for the special case of a non-prefix state.

1999-03-30 23:50:33  roessler  (roessler)

	* charset.c, charset.h, handler.c: This patch removes at least
	some of the horrible utf-8 kluges in charset.c.  The new DECODER
	framework is currently only used in handler.c, and there in
	a horribly inefficient manner.	We should use greater blocks
	of data, which would be much more efficient than what we are
	currently doing.

	Most of the other charset-related code still uses the old
	mutt_display_char() &friends interface, which is actually ok as
	long as you don't try to handle multibyte character sets.

	The most notable change should be the one to
	mutt_get_translation(): It will delay the loading and parsing
	of character set information files until it's really needed,
	catching a huge amount of standard cases.  As a side effect,
	this will make "iso tagged as ascii" "work" again, as long as
	both sides use the same iso character set.

	* send.c: resort headers when forward-decoding them with weed
	switched on.

	* pager.c: Fix a pager failure for long messages. From Liviu.

	* pager.c: Fix pager failure for long messages, changing two
	shorts to ints.  From Liviu Daia.

	* recvattach.c: Add some user feedback to attachment forwarding.
	From Vikas.

1999-03-25 19:46:52  roessler  (roessler)

	* doc/manual.sgml.in, init.h, pgpkey.c, sort.h, Muttrc.in,
	init.c: Roland's sort_keys patch.

1999-03-24 20:35:38  roessler  (roessler)

	* doc/manual.sgml.in, Muttrc.in, recvattach.c: Vikas' latest
	version of attachment forwarding.

	* recvattach.c: patch-0.96.1.vikas.forward_attachment.2

	* main.c: Only exit with "no recipients specified", when
	$auto_edit is set.

1999-03-23 20:21:50  roessler  (roessler)

	* postpone.c, recvattach.c, init.h, mutt.h: Vikas'
	forward_attachment patch.

1999-03-22 16:00:39  roessler  (roessler)

	* doc/manual.sgml.in, pgppubring.c, gnupgparse.c, pgp.h, pgpkey.c:
	PGP key creation time fix by Roland Rosenfeld.

1999-03-17 14:45:10  roessler  (roessler)

	* recvattach.c, recvattach.c: Vikas' attach_tag patch.

1999-03-16 21:42:06  roessler  (roessler)

	* thread.c, configure.in: bug fixes.

	* thread.c: Detect thread loops.

1999-03-15 15:32:19  roessler  (roessler)

	* doc/manual.sgml.in, copy.c, init.h, mutt.h, sendlib.c: Add
	$bounce_delivered.

	* edit.c: another digital unix compile problem.

	* main.c: _Fix_ the compile problems, don't install new ones.

	* send.c: Cleanly handle fcc when the user unsets it and the
	message is postponed.

	* main.c: Fix compilation problems under digital unix.

	* configure.in: Fix sendmail autodetection.

	* color.c: Fix colorN, N > 7 for Slang's curses emulation. From
	Vikas.

1999-03-09 13:34:52  roessler  (roessler)

	* menu.c: another menu.c fix from Kim DeVaughn.

	* send.c, menu.c, handler.c: Fixes.

	* send.c, menu.c, handler.c: handler.c: Properly handle
	message/external-body expiry.  menu.c: Small fix from
	Liviu.	send.c: Honor confirm_create for FCCs.	cvs:
	----------------------------------------------------------------------

1999-03-04 08:00:38  roessler  (roessler)

	* Makefile.am: post-postrelease commit.

1999-03-03 20:06:33  roessler  (roessler)

	* rfc2047.c: ups.

	* po/uk.po, po/ru.po, po/pl.po, po/nl.po, po/it.po, po/fr.po,
	po/es.po, po/de.po, po/cs.po, ChangeLog: releasing 0.95.4.

	* sendlib.c, rfc2047.c, reldate.h, curs_main.c, VERSION,
	ChangeLog: releasing 0.96.1.

	* reldate.h, regex.c, VERSION, Makefile.am, ChangeLog: release
	preparations; back-port a couple of things from unstable.

	* curs_main.c: Vikas' resort_index.3.

	* sendlib.c, imap.c, from.c, curs_main.c: from.c: Backport
	from unstable.	others: latest imap related patches.

1999-03-02 22:13:30  roessler  (roessler)

	* curs_main.c, charset.c: Some small fixes from Vikas.

	* parse.c, init.h, imap.c, globals.h: Brandon Long's latest
	IMAP fixes.

	* parse.c: Latest IMAP-related fix from Brandon Long.

	* thread.c: Correctly handle messages which have themselves in
	their references header.

	* thread.c: Properly handle messages which have themselves in
	"References".

1999-02-28 08:30:19  roessler  (roessler)

	* rfc822.c: Fix a memory leak.	From Liviu.

	* rfc822.c: Fix a memory leak. From Liviu.

	* rfc1524.c, mutt.h, lib.c, attach.c: Fix the $TMPDIR raace
	noted by Hamish Moffat.

	* rfc1524.c, mutt.h, lib.c, attach.c: Fix a $TMPDIR race
	condition.

	* po/uk.po, po/ru.po, po/pl.po, po/nl.po, po/it.po, po/fr.po,
	po/es.po, po/de.po, po/cs.po: post-snapshot commit.

1999-02-26 15:42:07  roessler  (roessler)

	* doc/manual.sgml.in, send.c, regex.c, mutt.h, init.h: Adding
	pgp_replyencrypt.

1999-02-25 06:58:01  roessler  (roessler)

	* from.c: parse some more from_ lines.	Before, there were
	problems with cases like this:

	>From <@x400host:"/G=Bob/S=Allinson/CN=Has
	embedded spaces/OU=X400HOST/
	>OU=xxxx/O=xxx/PRMD=xxxxx/ADMD=XXXXXX/C=GB/"@x400host> >Tue Feb
	23 09:44:52 1999

	Problem noted by johnm@sirius3.demon.co.uk

1999-02-23 20:38:49  roessler  (roessler)

	* imap.c: fix a segfault. From Brandon.

1999-02-22 12:37:43  roessler  (roessler)

	* curs_main.c: Vikas' latest collapse fix.

	* curs_main.c: collapse fix from Vikas.

	* mbox.c, imap.c: Avoid reading past actual headers when reopening
	mailboxes.  From Daniel Eisenbud.

	* mbox.c, imap.c: Avoid reading past the end of actual headers
	when reopening folders.  From Daniel Eisenbud.

	* pgp.c: Don't override base64 by quoted-printable.

	* menu.c: replace clear() by clrtobot().

	* pgp.c: Currently, PGP signing messages will force
	quoted-printable encoding even if we should use base64.

1999-02-19 07:38:17  roessler  (roessler)

	* sendlib.c: Don't qp-encode multiparts. ugh.

	* sendlib.c: ... message and multipart, not just message.

	* sendlib.c, mutt.h, init.h: Add $encode_from: This option causes
	mutt to trigger quoted-printable encoding for any non-multipart
	attachments which have ^From at the beginning of a line.
	Note that we don't trigger on ^From_ since either procmail or
	sendmail is >-escaping on ^From, and note that this won't help
	against sites where sendmail has the '9' flag set on the local
	mailer, as these sites will inevitably transform to 8bit (sic!).

1999-02-18 23:14:36  roessler  (roessler)

	* pgp.c, mutt.h, init.h: Add retainable signatures.  This should
	work nicely with encrypted mailing lists.

	* mx.c, init.h, globals.h, configure.in, acconfig.h, Makefile.am:
	Introduce $dotlock_program: This makes the mutt_dotlock program's
	location a run-time configuration variable.

	* send.c, mutt.h, init.h: Introduce $honor_followup_to.  The user
	will now be asked whether he wants to honor mail-followup-to
	or not.

	* curs_main.c: properly handle OP_FLAG_MESSAGE when applied to
	tagged messages.

	* po/uk.po, po/ru.po, po/pl.po, po/nl.po, po/it.po, po/fr.po,
	po/es.po, po/de.po, po/cs.po: Updated translations.

	* contrib/sample.mailcap: Fix the text/html entry.

	* regex.c, headers.c, copy.h, configure.in: copy.h: Some flags
	were used with multiple meanings. bad.	configure.in, regex.c:
	Make regex autoconfiguration work.  headers.c: expand aliases
	on the from header.

	* headers.c: Expand aliases on the From header.

1999-02-17 15:48:05  roessler  (roessler)

	* doc/mutt.man.in: Fix the URL.

	* sendlib.c, init.h: User-Agent, not X-Mailer.

	* po/fr.po: update.

	* copy.h: Some of the M_CM flags erroneously had been defined
	to have the same value.  _Very_ bad.

	* contrib/sample.mailcap: Correct the netscape text/html entry.

	* po/uk.po, po/ru.po, po/pl.po, po/nl.po, po/it.po, po/fr.po,
	po/es.po, po/de.po, po/cs.po, po/Makefile.in.in, sendlib.c,
	send.c, regex.c, pager.c, mutt.h, init.h, configure.in,
	acconfig.h, Muttrc.in, Makefile.am: - Makefile.am: Fix the dist
	target to include all necessary files.	- po/fr.po: New French
	translation.  (-> stable!)  - Add the new options to Muttrc.in.
	- regex.c, configure.in: include config.h from regex.c, and handle
	  alloca in a more intelligent way than before. (Currently,
	  we just mis-handle it.)  Port this to stable and test it!
	- po/cs.po: update cs.po.  - po/de.po, po/nl.po: updated versions
	from Roland and Boris.	- pager.c: Vikas' grok_ansi fix.  -
	po/Makefile.in.in: keymap_defs is always in po/..  - from Lars
	  Hecking.

1999-02-12 11:23:17  roessler  (roessler)

	* po/uk.po, po/ru.po, po/pl.po, po/nl.po, po/it.po, po/fr.po,
	po/es.po, po/de.po, po/cs.po, reldate.h, ChangeLog: post-release
	commit for 0.95.3.

	* po/nl.po, reldate.h, ChangeLog: post-release commit for 0.96.

1999-02-11 22:52:03  roessler  (roessler)

	* imap.c, VERSION: another imap-related fix.

	* pattern.c: another signal fix from liviu.

	* imap.c: Remove a superfluous if statement.

	* imap.c: ups, that one was bad.

	* imap.c: The HEADER structure doesn't have a mailcap component
	any more.

	* imap.c: The HEADER structure doesn't have a mailcap component
	any more.  Noted by Johan van Selst <johans@stack.nl>.

	* signal.c, sendlib.c, pattern.c, pager.c, mutt.h,
	menu.c, globals.h, curs_main.c, curs_lib.c:
	patch.mutt-0.95.1i.ld.signals.1-2.gz

	* po/nl.po: new nl translation.

	* pattern.c, curs_main.c: pattern.c: Collapse patch from Vikas.

	* po/nl.po: New nl translation.

	* pattern.c, curs_main.c: curs_main.c: Check whether the
	user pressed a number before putting it back onto the stack.
	(OP_JUMP) pattern.c: Vikas' latest fix.

	* po/uk.po, po/ru.po, po/pl.po, po/nl.po, po/it.po, po/fr.po,
	po/es.po, po/de.po, po/cs.po: Updating the po files.

	* doc/manual.sgml.in, doc/Makefile.in: Install README.SECURITY
	in the doc directory, document mailcap_sanitize.

	* reldate.h, prepare, configure.in, VERSION, Makefile.am,
	$output.in: Preparing for 0.96: $output.in was real fun in the
	dist target.  *argh*

	* po/uk.po, po/ru.po, po/pl.po, po/nl.po, po/it.po, po/fr.po,
	po/es.po, po/de.po, po/cs.po, doc/manual.sgml.in, doc/Makefile.in,
	reldate.h, VERSION, NEWS, Makefile.am, ChangeLog: [stable]
	post-release commit for 0.95.2.

	* README.SECURITY: Add a note on how to write mailcap files.

	* README.SECURITY: branches:  2.1.2; Add a note on how to write
	mailcaps.

1999-02-10 23:12:27  roessler  (roessler)

	* browser.c: Ups, this one needed a #ifdef USE_IMAP.

	* imap.c, browser.c: Some patches Brandon Long posted to
	comp.mail.mutt.

	* rfc1524.c, protos.h, lib.c, handler.c, attach.c, rfc1524.c,
	protos.h, lib.c, handler.c, attach.c: Fix the security fix.

	* rfc1524.c, mutt.h, lib.c, init.h: [stable] $mailcap_sanitize

	* rfc1524.c, mutt.h, lib.c, init.h: [unstable] $mailcap_sanitize.

	* system.c, signal.c, sendlib.c, send.c, protos.h, mutt.h,
	globals.h, curs_lib.c, compose.c, commands.c, attach.c, TODO:
	patch.mutt-0.95.1i.ld.signals.1: A major redesign of how child
	processes are invoked.	From Liviu.

1999-02-09 23:54:03  roessler  (roessler)

	* sort.c, mx.c, mutt.h, mh.c, mbox.c, curs_main.c, ChangeLog,
	sort.c, mx.c, mutt.h, mh.c, mbox.c, curs_main.c: Vikas' latest
	collapse fix.

	* prepare: Small prepare bug noted by vikas.

	* pgppubring.c, pgpkey.c, pgp.h, main.c, gnupgparse.c, browser.h:
	browser.h: re-insert the "tagged" component.  pgp support:
	fix handling of PGP 5 subkeys, algorithm 20.

	* pgppubring.c: [stable] Alg. 16 is encrypt-only, el-gamal.

	* commands.c: honor hdr_order when decode-piping a message.
	From Vikas.

	* po/cs.po: New czech translation.

	* commands.c: Reorder headers when decode-piping.

	* po/cs.po, doc/manual.sgml.in, socket.c, mx.c, mutt_socket.h,
	mutt.h, menu.c, init.h, imap.h, imap.c, functions.h, complete.c,
	browser.h, browser.c, OPS: Brandon's IMAP clean-up; new czech
	translation.

1999-02-04 12:00:10  roessler  (roessler)

	* rfc1524.c, protos.h, pgpinvoke.c, mx.c, lib.c: [unstable] Change
	the way mutt_quote_filename() worked.  It's not too reasonable
	to allocate memory dynamically whenever we quote a file name.
	(I guess I should add "vim" to pgpinvoke.c's copyright notice. :-)

	* mx.c: [unstable] Check for write errors when moving messages
	to $mbox.

	* mx.c: Check for write errors when moving messages to $mbox.

1999-02-03 22:14:18  roessler  (roessler)

	* sendlib.c, recvattach.c, postpone.c, main.c, hash.c,
	functions.h, compose.c, charset.h, charset.c, OPS: [unstable]
	Produce some reasonable character set support when postponing
	messages.

	Additionally, this patch fixes a nasty pointer leak in
	load_charset() [noted with electric fence], and a completely
	mis-lead attempt to use bsearch().  Apparently, nobody ever
	tested the utf8 decoder for quite some time.

1999-02-02 21:57:44  roessler  (roessler)

	* pattern.c: merge ~v patch into unstable.

	* pattern.c: small nit-fix from vikas to the ~v pattern.

	* pgp.c: Thou shall not use dangling pointers.

	* attach.c: [unstable] Fix mutt_decode_save_attachment's handling
	of character set conversions.

	* sendlib.c, send.c, rfc2047.c, recvattach.c, protos.h, pgp.c,
	pattern.c, mutt.h, init.h, handler.c, globals.h, functions.h,
	copy.h, copy.c, compose.c, commands.c, charset.h, charset.c,
	attach.c, OPS: Merging the external character set patch into
	unstable.  Additionally, this change introduces a M_CHARCONV state
	flag which gives us some more control about when character set
	conversions are actually done.	Current versions of mutt would
	happily apply character set conversions when, e.g., saving a
	text/plain attachment to a file.  (We had at least one corrupt
	russing translation file due to this mis-feature.)

	Additionally, we clean up some of the character set related code
	in handler.c.  Most of that is now done by the decoder functions
	in charset.c.

	* imap.c, imap.c: Brandon's imap_create patch.

	* pgpkey.c: [unstable] clear the message line before letting
	people select public keys.

	* imap.c, copy.c: [unstable] merging Brandon's imap fixes.

	* copy.c, imap.c: A couple of IMAP fixes from Brandon Long.

1999-01-30 17:07:30  roessler  (roessler)

	* pgpkey.c: really fix the weak associations problem.  it was
	worse than i thought.

	* pgpkey.c: Handle expired keys correclty, even when they are
	the only and exact match when searching for keys by address.

1999-01-29 11:15:15  roessler  (roessler)

	* init.h: [unstable] Change some default formats.

	* remailer.c, pgpkey.c, menu.c, addrbook.c: Add generic menu
	searching.

	* remailer.h, remailer.c, init.h, globals.h: Use a user-definable
	format for the mixmaster menu.

	* pgpkey.c, pgp.h, init.h: [unstable] add $pgp_entry_format.

1999-01-28 09:08:47  roessler  (roessler)

	* gnupgparse.c: gnupg's trust model is currently unusable.
	As a work-around, we don't present the user with _any_ trust
	information if he uses gnupg.

1999-01-27 19:53:46  roessler  (roessler)

	* doc/manual.sgml.in, pgpkey.c, mutt.h, init.h, gnupgparse.c:
	Add $pgp_show_unusable.

1999-01-26 21:24:56  roessler  (roessler)

	* doc/manual.sgml.in: [unstable] document ~v.

	* doc/manual.sgml.in: [stable] document ~v.

	* thread.c, pattern.c, mutt.h: [unstable] Add the ~v pattern.
	From Vikas.

	* thread.c, pattern.c, mutt.h: [stable] Add the ~v pattern.

	* doc/manual.sgml.in, ChangeLog: ChangeLog, documentation for
	implicit_autoview.

	* doc/manual.sgml.in: Document $implicit_autoview.

	* compose.c: Fix a segfault when users change attachment content
	types, and let toggle-unlink honor the $resolv variable.

	* compose.c: $resolve should be honored when doing toggle-unlink
	on the compose menu.

1999-01-25 22:16:46  roessler  (roessler)

	* compose.c: This may fix a core dump under certain circumstances.
	Can't check this out since I don't get the segfault.

	* pgpkey.c: Fix a redraw problem when the key menu is invoked.

	* po/ru.po, po/cs.po, configure.in: Russian and czech
	translations.

	* po/cs.po: branches:  1.1.2; file cs.po was initially added on
	branch mutt-1-0-stable.

	* po/cs.po, configure.in: Adding a czech translation, and fixing
	the russian.

	* po/ru.po: ru.po was badly distorted.

1999-01-23 17:00:43  roessler  (roessler)

	* prepare: when f is .../Makefile.am, `basename $f .am`
	is Makefile.  So I should just write that. :-)

	* prepare: Add the default predicate.

	* from.c: A slightly optimized version of DE's y2k patch.

	* prepare: Apparently, automake doesn't like our
	AC_OUTPUT($output) construction...

	* gnupgparse.c, from.c: DE's patch to work around other software's
	possible y2k bugs.

	* from.c: Try to avoid other programs' possible y2k bugs.

	* enter.c: Fix the attach-multi patch.

1999-01-22 22:12:10  roessler  (roessler)

	* lib.c: Fix a memory leak, noted by Roland Rosenfeld.

	* lib.c: Fix a memory leak.  Noted by Roland Rosenfeld.

	* recvattach.c, query.c, protos.h, menu.c, enter.c, curs_lib.c,
	compose.c, browser.c, addrbook.c: Enable tagging in the file
	browser.

	* protos.h, pgppubring.c, pgpkey.c, pgp.h, pgp.c, lib.c,
	handler.c, gnupgparse.c, compose.c: Heavy hacking on mutt's pgp
	support.  We no longer read the complete key ring into memory.
	For gpg, performance is heavily improved due to the fact that
	we are passing a couple of key hints to the key ring parsing
	back-end.

1999-01-21 05:19:42  roessler  (roessler)

	* hook.c: Fix _mutt_string_hook.

1999-01-20 13:52:59  roessler  (roessler)

	* po/pl.po, po/pl.po: New polish translation.

	* pgppubring.c, pgpkey.c, configure.in: Add heavily improved
	debugging capabilities to the PGP code.  Anyway, the problem I
	observed wasn't a bug in mutt, but an expired key. *sigh*

	* rfc1524.c: Don't segfault when MailcapPath is unset.

	* rfc1524.c: Fix a segmentation fault when no MailcapPath has
	been defined.

1999-01-19 23:38:26  roessler  (roessler)

	* protos.h, mutt.h, init.h, hook.c, charset.c, Makefile.am:
	Add the charset-hook command.

	* configure.in, charset.c, acconfig.h, Makefile.am, $output.in,
	INSTALL: Properly handle character set definition file
	installation.

	* mx.c: Remove a confusing error message.

	* mx.c: Remove confusing error message.

	* keymap.c, keymap.c, curs_lib.c:
	patch-0.95.1.vikas.macro_function.1

	* m4/Makefile.am.in, m4/Makefile.am.in: HP/UX portability patch
	from Lars Hecking.

1999-01-18 09:45:29  roessler  (roessler)

	* po/ru.po: New Russian translation from Michael Sobolev
	<mss@transas.com>.

	* po/ru.po: New russian translation from Michael Sobolev
	<mss@transas.com>.

1999-01-14 13:08:46  roessler  (roessler)

	* compose.c: Mixmaster user interface beautification.

	* mx.c, curs_lib.c: Fix a couple of segfaults related to using
	curses when it isn't there.

	* mx.c: dotlocking plus curses...

1999-01-13 23:56:39  roessler  (roessler)

	* send.c, mutt.h, mbox.c, handler.c, copy.h, copy.c:
	patch-0.95.1i.tlr.weed.1, patch-0.95.1i.tlr.dotlock.1 - These
	have been tested with unstable so far, seem to work fine.

	* mx.c: Don't use curses when we don't have it.

	* mx.c: Don't try to do mutt_yesorno if we don't have curses.

	* remailer.h: Mixmaster has 20 address slots, that makes _19_
	remailers.

	* remailer.c: Fix the "append" function.

	* sendlib.c: Don't leak message dates when sending via mixmaster.

	* remailer.c: Add search code to the remailer chain selecting
	menu.  [This is pretty generic - should we add that code to
	menu.c?]

	* postpone.c: Fix postponing of PGP messages.

	* send.c, remailer.c, compose.c: Qualify addresses before passing
	them to mixmaster.

	* send.c, remailer.h, protos.h, mutt.h: Clean up dependencies:
	remailer.h is no longer included by mutt.h, and the mix_*
	prototypes can once again go to remailer.h.

	* sendlib.c, remailer.c, remailer.h, send.c, protos.h, postpone.c,
	mutt.h, lib.c, keymap.h, keymap.c, init.h, headers.c, globals.h,
	functions.h, configure.in, compose.c, OPS.MIX, acconfig.h,
	Makefile.am: A first take at adding a mixmaster front-end to mutt.
	Don't worry, it's optional. ;-)

1999-01-12 22:01:11  roessler  (roessler)

	* mbox.c: Open folders in read-only mode if mutt can't lock them.

1999-01-11 18:12:49  roessler  (roessler)

	* send.c, mutt.h, handler.c, copy.h, copy.c: When
	decode-forwarding messages with message/Rfc822 attachments,
	mutt should weed the attachments' headers according to the
	setting of $forward_weed.

1999-01-10 09:11:36  roessler  (roessler)

	* doc/manual.sgml.in, hdrline.c, doc/manual.sgml.in, hdrline.c:
	Byrial's %D time format patch.

1999-01-09 17:53:02  roessler  (roessler)

	* doc/manual.sgml.in, recvattach.c, protos.h, lib.c: Byrial's
	latest changes to stable.

	* recvattach.c, protos.h, lib.c: Ask the user whether to overwrite
	a file or append to it.  From Byrial Jensen.

	* doc/manual.sgml.in: Fix a documentation problem.

1999-01-08 23:29:05  roessler  (roessler)

	* charset.c: When doing a binary search, we may as well use
	bsearch (3).

	* parse.c: Optimized time-zone parsing.

	* parse.c: Optimize time zone parsing.	By Byrial Jensen.

	* history.c: Don't clear the history when the user issues a
	"set history=..."  command which doesn't change anything.

	* history.c: Don't clear the history when "set
	history=..." doesn't change the buffer size.

	* thread.c, curs_main.c, thread.c, curs_main.c: Threading fix
	from Daniel Eisenbud.

1999-01-07 19:01:30  roessler  (roessler)

	* init.c, init.c: Vikas' set_boolean patch.

	* protos.h, handler.c, attach.c: Updated implicit autoview
	handling from stable.

	* protos.h, handler.c, attach.c: Only use "implicit" autoviews
	(implicit_autoview or MM_NOASK) when mutt is unable to handle
	a content type internally.  This saves us parsing the mailcap
	files for every attachment we handle.

	* mx.c, mutt.h, init.h, hdrline.c, commands.c, attach.c: Merge
	in the mailcap patch from stable.

	* thread.c, system.c, strcasecmp.c, status.c, sort.h, sort.c,
	socket.c, snprintf.c, signal.c, sha_locl.h, sha1dgst.c, sha.h,
	sendlib.c, send.c, score.c, rfc822.h, rfc822.c, rfc2047.h,
	rfc2047.c, rfc1524.h, rfc1524.c, resize.c, recvattach.c,
	query.c, protos.h, postpone.c, pop.c, pgppubring.c, pgpkey.c,
	pgpinvoke.c, pgp.h, pgp.c, pattern.c, parse.h, parse.c, pager.h,
	pager.c, mx.h, mx.c, mutt_socket.h, mutt_regex.h, mutt_menu.h,
	mutt_curses.h, mutt.h, mime.h, mh.c, menu.c, mbox.c, mapping.h,
	main.c, mailbox.h, lib.c, keymap.h, keymap.c, init.h, init.c,
	imap.h, imap.c, hook.c, history.h, history.c, help.c, headers.c,
	hdrline.c, hash.h, hash.c, handler.c, gnupgparse.c, globals.h,
	getdomain.c, functions.h, from.c, flags.c, filter.c, enter.c,
	edit.c, dotlock.h, dotlock.c, date.c, curs_main.c, curs_lib.c,
	copy.h, copy.c, compose.c, complete.c, commands.c, color.c,
	charset.h, charset.c, buffy.h, buffy.c, browser.c, attach.h,
	attach.c, alias.c, addrbook.c, acconfig.h: Get rid of RCS ids in
	source files.  They are getting in our way when merging changes.

	* mx.c, mutt.h, init.h, hdrline.c, commands.c, attach.c: Remove
	the use_mailcap variable. Instead, we introduce implicit_autoview
	which triggers autoview for every content type it's applicable to.

	* thread.c, system.c, strcasecmp.c, status.c, sort.h, sort.c,
	socket.c, snprintf.c, signal.c, sha_locl.h, sha1dgst.c, sha.h,
	sendlib.c, send.c, score.c, rfc822.h, rfc822.c, rfc2047.h,
	rfc2047.c, rfc1524.h, rfc1524.c, resize.c, recvattach.c,
	query.c, protos.h, postpone.c, pop.c, pgppubring.c, pgpkey.c,
	pgpinvoke.c, pgp.h, pgp.c, pattern.c, parse.h, parse.c, pager.h,
	pager.c, mx.h, mx.c, mutt_socket.h, mutt_regex.h, mutt_menu.h,
	mutt_curses.h, mutt.h, mime.h, mh.c, menu.c, mbox.c, mapping.h,
	main.c, mailbox.h, lib.c, keymap.h, keymap.c, init.h, init.c,
	imap.h, imap.c, hook.c, history.h, history.c, help.c, headers.c,
	hdrline.c, hash.h, hash.c, handler.c, gnupgparse.c, globals.h,
	getdomain.c, functions.h, from.c, flags.c, filter.c, enter.c,
	edit.c, dotlock.h, dotlock.c, date.c, curs_main.c, curs_lib.c,
	copy.h, copy.c, compose.c, complete.c, commands.c, color.c,
	charset.h, charset.c, buffy.h, buffy.c, browser.c, attach.h,
	attach.c, alias.c, addrbook.c, acconfig.h: Get rid of the rcsid
	fields.  They are getting in the way whenever I merge changes
	into unstable.

	* po/nl.po, init.h, configure.in: Merging changes from stable.

	* configure.in: Don't add regex.c, but regex.o to the LIBOBJS
	variable when needed.

	* init.h: Fix default settings for use_mailcap and mime_forward.

1999-01-06 10:13:32  roessler  (roessler)

	* po/fr.po, po/de.po, sendlib.c, regex.c, protos.h, parse.c,
	mutt_regex.h, mbox.c, main.c, hdrline.c, from.c, date.c,
	configure.in, acconfig.h, _regex.h, Makefile.am, INSTALL:
	[unstable] Merge changes from stable: rx -> regex, Byrial's
	timezone patch, translation updates.

	* sendlib.c, protos.h, parse.c, mbox.c, from.c, date.c: Byrial's
	timezone patch, without the absurd optimizations.

	* regex.c: branches:  1.1.2; file regex.c was initially added
	on branch mutt-1-0-stable.

	* regex.c, mutt_regex.h, main.c, configure.in, acconfig.h:
	Use gnu regex instead of gnu rx.  This library is said to
	behave better.	Additionally, it supports \<...\> patterns.
	The files _regex.h and regex.c included with this distribution
	correspond to posix/regex.[ch] from the glibc 2.0.7t source tree.

	* _regex.h: branches:  1.1.2; file _regex.h was initially added
	on branch mutt-1-0-stable.

	* _regex.h, Makefile.am, INSTALL: Use gnu regex instead of
	gnu rx.  This library is said to behave better.  Additionally,
	it supports \<...\> patterns.  The files _regex.h and regex.c
	included with this distribution correspond to posix/regex.[ch]
	from the glibc 2.0.7t source tree.

	* po/nl.po, po/fr.po: Various fixes to the NL translation;
	new French messages.

1999-01-05 14:35:18  roessler  (roessler)

	* sendlib.c, mutt.h, main.c, configure.in, charset.h, charset.c,
	Makefile.am: [unstable] Adding experimental new character set
	conversion code.

	* po/de.po: Merging from stable.

	* po/de.po: Fix a typo in de.po.

	* po/de.po: [unstable] Merging changes from stable.

	* po/nl.po, hdrline.c, curs_main.c, configure.in: [unstable]
	merging changes from stable.

	* hdrline.c: Conditionally display score and number of lines.

	* po/nl.po: branches:  1.1.2; file nl.po was initially added on
	branch mutt-1-0-stable.

	* po/nl.po, po/de.po, configure.in: [stable] Adding the NL
	translation; correcting some bugs in the DE translation.

1999-01-04 19:15:10  roessler  (roessler)

	* curs_main.c: [unstable] fix next-unread plus collapsing.

	* curs_main.c: [stable] Fix next-unread when collapsing threads.

	* curs_main.c: [unstable] merging changes from stable.

	* curs_main.c: [stable] fix a bogus type cast.

	* reldate.h, curs_main.c: [unstable] merging in changes from
	stable.

	* curs_main.c: [stable] Don't use the index elements of header
	structures when new messages arrived on the index.

	* reldate.h: 0.95.1 should have a proper release date.

	* send.c, pgp.c, handler.c, configure.in: Make the experimental
	branch the main trunk.

	* po/uk.po: branches:  1.12.2; 0.95.1 post-release commit.

	* po/ru.po: branches:  1.33.2; 0.95.1 post-release commit.

	* po/pl.po: branches:  1.3.2; 0.95.1 post-release commit.

	* po/it.po: branches:  1.24.2; 0.95.1 post-release commit.

	* po/fr.po: branches:  1.7.2; 0.95.1 post-release commit.

	* po/es.po: branches:  1.15.2; 0.95.1 post-release commit.

	* po/de.po: branches:  1.48.2; 0.95.1 post-release commit.

	* configure.in: [unstable] Create suitable version strings.

	* VERSION: branches:  2.1.2; [stable] Preparing 0.95.1.

	* ChangeLog: branches:	2.5.2; [stable] Preparing 0.95.1.

	* send.c: [unstable] commit changes from the stable tree.

	* send.c: branches:  2.1.2; [stable] When sending a message
	in batch mode failed, mutt would dump core.  Patch from Byrial
	Jensen.

	* pgp.c, handler.c: [unstable] Add multiple signature support.

1999-01-02 17:23:24  roessler  (roessler)

	* sendlib.c: branches:	2.3.4; I shouldn't accept patches on
	New Year's day.  Not even new-year related patches.

	* ChangeLog: I shouldn't accept patches on New Year's day.
	Not even new-year related patches.

	* po/it.po: Fixing a typo.

	* protos.h: branches:  2.1.4; mutt_parse_date () shouldn't modify
	its argument.  Problem noted by Byrial Jensen.

	* parse.c: branches:  2.2.4; mutt_parse_date () shouldn't modify
	its argument.  Problem noted by Byrial Jensen.

	* handler.c: branches:	2.1.2;	2.1.4; mutt_parse_date ()
	shouldn't modify its argument.	Problem noted by Byrial Jensen.

	* lib.c: branches:  2.2.4; Fix safe_symlink to correctly handle
	relative paths.

1999-01-01 09:43:15  roessler  (roessler)

	* sendlib.c: New Year's time zone handling patch from Manish
	Singh <yosh@gimp.org>.

1998-12-31 09:45:46  roessler  (roessler)

	* curs_main.c: branches:  2.3.4; The attached patch moves code
	for sorting the index and restoring the current message from
	mutt_index_menu() to a new function. It saves code duplication.

1998-12-30 07:58:40  roessler  (roessler)

	* pgp.c: branches:  2.1.2;  2.1.4; Localize some more messages.
	From Michael Sobolev.

	* main.c: branches:  2.1.4; Localize some more messages.
	From Michael Sobolev.

1998-12-29 16:29:03  roessler  (roessler)

	* mbox.c: branches:  2.3.4; Use sizeof instead of strlen for
	some fixed strings.

	* ChangeLog: Use sizeof instead of strlen for some fixed strings.

	* mh.c: branches:  2.5.4; Take setting the index_hint out of
	the main loop of mh_check_mailbox().

1998-12-28 14:59:04  roessler  (roessler)

	* attach.c: branches:  2.1.4; Fix a segmentation fault when
	viewing message/rfc822 attachments from the compose screen.

1998-12-23 15:57:00  roessler  (roessler)

	* pattern.c: branches:	2.1.4; A slightly modified version of
	Vikas' pattern_match patch.  This changes the semantics of the
	pattern-something functions so they only apply to _visible_
	messages.  (With the exception of limit: In this case, the user
	can add another pattern if he wants to limit further, or he can
	give an entirely new pattern.)

1998-12-22 18:07:19  roessler  (roessler)

	* sendlib.c: Fix MIME forwarding.  From Vikas.

1998-12-21 12:38:57  roessler  (roessler)

	* mx.c: branches:  2.3.4; Adjust some hash-related parameters.

	* mh.c, mbox.c: Adjust some hash-related parameters.

	* imap.c: branches:  2.2.4; Adjust some hash-related parameters.

	* charset.c: branches:	2.1.4; Adjust some hash-related
	parameters.

	* ChangeLog: *** empty log message ***

	* mx.c, mh.c, mbox.c: Mail folder synchronization-related fixes:

	- Another situation under which mutt would lose track of the
	  current message when maildir folders changed has been removed.

	- While synchronizing mbox-type folders, a write error when
	  constructing the draft version of the new mail folder would
	  leave behind a copy ofthe file containing the draft.	This is
	  most annoying if the write error is due to lack of disk space.

	* po/pl.po: Small \n fixes.

	* parse.c: mutt_strlen() optimizations from Byrial Jensen.

	* from.c: branches:  2.1.4; mutt_strlen() optimizations from
	Byrial Jensen.

	* lib.c: mutt_strlen() optimizations from Byrial Jensen.

	* po/pl.po: Add the polish translation.

	* configure.in: branches:  2.2.2;  2.2.4; Register the polish
	translation.

	* doc/manual.sgml.in: branches:  1.18.4; Fixes to the forwarding
	chapter.  From O'Shaughnessy Evans <shaug@gstis.net>.

	* m4/README: Here is a small patch to simplify
	m4/Makefile.am.in. This came out of a suggestion I made to Jim
	Meyering (maintainer of GNU fileutils, where I snarfed the code
	from :).  (From: Lars Hecking <lhecking@nmrc.ucc.ie>)

	* m4/Makefile.am.in: branches:	1.2.4; Here is a small patch to
	simplify m4/Makefile.am.in. This came out of a suggestion I made
	to Jim Meyering (maintainer of GNU fileutils, where I snarfed
	the code from :).  (From: Lars Hecking <lhecking@nmrc.ucc.ie>)

1998-12-18 10:22:59  roessler  (roessler)

	* mh.c: Catch an error condition when synchronizing mh messages.

	* po/de.po: Fix a format which had %s instead of %d.

1998-12-17 18:39:48  roessler  (roessler)

	* ChangeLog: *** empty log message ***

	* INSTALL: branches:  2.1.4; I've been told that the FreeBSD shell
	has been fixed meanwhile.  Additionally, add the note from Vikas
	on patching Solaris to get mutt work properly on that system.

	* mh.c: Fix attachment deletion for maildir/mh folders.  This may
	fix other mh-related problems, too.

	* curs_lib.c: branches:  2.2.4; Don't even try to clear the
	status line when not in curses mode.

1998-12-16 13:23:06  roessler  (roessler)

	* imap.c: Two lines were in reverse order.  Noted by Daniel
	Eisenbud.

	* thread.c: branches:  2.1.4; Give Daniel Eisenbud a "lock"
	on this file.

	* pager.c: branches:  2.2.4; Fix "$resolve" behaviour for OP_TAG
	and OP_TOGGLE_NEW from the pager.

	* curs_lib.c: SLang-related fixes to mutt_endwin().

	* compose.c: branches:	2.1.4; Permit the user to set the typical
	MIME parameters used with application/pgp messages.

	* color.c: branches:  2.1.4; Fix a segfault noted by Stephan Hack.
	(Fix noted by Vikas.)

	* configure.in: Make the sendmail check compatible with newer
	autoconf versions.  Noted by Lars Hecking.

1998-12-13 08:10:13  roessler  (roessler)

	* mx.c, curs_main.c: Don't dump core when closing a NULL context.
	Fixes the "exit from no-mailbox mode" bug.

1998-12-12 10:14:43  roessler  (roessler)

	* po/uk.po, po/ru.po, po/it.po, po/fr.po, po/es.po, po/de.po:
	Post-release commit.

	* hook.c: branches:  2.1.4; More _PGPPATH and us dist related
	fixes.

	* curs_main.c: More _PGPPATH and us dist related fixes.

	* mutt.h: branches:  2.1.4; Don't define M_PGPHOOK unless _PGPPATH
	has been defined.

	* pager.c: Another reap.pl-related fix.

	* Makefile.am: branches:  2.1.4; The us-dist target was screwed.

	* thread.c: *** empty log message ***

	* system.c, strcasecmp.c, status.c: branches:  2.0.4; *** empty
	log message ***

	* stamp-h.in: *** empty log message ***

	* sort.h, sort.c, socket.c, snprintf.c, signal.c, sha_locl.h,
	sha1dgst.c, sha.h: branches:  2.0.4; *** empty log message ***

	* sendlib.c: *** empty log message ***

	* send.c: branches:  2.0.2; *** empty log message ***

	* score.c, rfc822.h, rfc822.c, rfc2047.h, rfc2047.c, rfc1524.h,
	rfc1524.c, resize.c, reldate.h, recvattach.c: branches:  2.0.4;
	*** empty log message ***

	* reap.pl: *** empty log message ***

	* query.c: branches:  2.0.4; *** empty log message ***

	* protos.h, prepare: *** empty log message ***

	* postpone.c, pop.c, pgppubring.c, pgpkey.c, pgpinvoke.c, pgp.h:
	branches:  2.0.4; *** empty log message ***

	* pgp.c, pattern.c: *** empty log message ***

	* parse.h: branches:  2.0.4; *** empty log message ***

	* parse.c: *** empty log message ***

	* pager.h: branches:  2.0.4; *** empty log message ***

	* pager.c: *** empty log message ***

	* mx.h: branches:  2.0.4; *** empty log message ***

	* mx.c: *** empty log message ***

	* mutt_socket.h, mutt_regex.h, mutt_menu.h, mutt_curses.h:
	branches:  2.0.4; *** empty log message ***

	* mutt.h, mkinstalldirs, missing, mime.types: *** empty log
	message ***

	* mime.h: branches:  2.0.4; *** empty log message ***

	* mh.c: *** empty log message ***

	* menu.c: branches:  2.0.4; *** empty log message ***

	* mbox.c: *** empty log message ***

	* mapping.h: branches:	2.0.4; *** empty log message ***

	* main.c: *** empty log message ***

	* mailbox.h: branches:	2.0.4; *** empty log message ***

	* lib.c: *** empty log message ***

	* keymap.h, keymap.c: branches:  2.0.4; *** empty log message ***

	* install-sh: branches:  2.0.10; *** empty log message ***

	* init.h, init.c, imap.h: branches:  2.0.4; *** empty log
	message ***

	* imap.c, hook.c: *** empty log message ***

	* history.h, history.c, help.c, headers.c, hdrline.c, hash.h,
	hash.c: branches:  2.0.4; *** empty log message ***

	* handler.c: *** empty log message ***

	* gnupgparse.c, globals.h, getdomain.c: branches:  2.0.4; ***
	empty log message ***

	* gen_defs: branches:  2.0.6; *** empty log message ***

	* functions.h: branches:  2.0.4; *** empty log message ***

	* from.c: *** empty log message ***

	* flags.c, filter.c, enter.c, edit.c, dotlock.h, dotlock.c,
	date.c: branches:  2.0.4; *** empty log message ***

	* curs_main.c, curs_lib.c: *** empty log message ***

	* copy.h, copy.c: branches:  2.0.4; *** empty log message ***

	* configure.in: *** empty log message ***

	* config.sub, config.guess: branches:  2.0.6; *** empty log
	message ***

	* compose.c: *** empty log message ***

	* complete.c, commands.c: branches:  2.0.4; *** empty log
	message ***

	* color.c: *** empty log message ***

	* charset.h: branches:	2.0.4; *** empty log message ***

	* charset.c: *** empty log message ***

	* buffy.h, buffy.c, browser.c, attach.h: branches:  2.0.4; ***
	empty log message ***

	* attach.c: *** empty log message ***

	* alias.c, addrbook.c, acconfig.h: branches:  2.0.4; *** empty
	log message ***

	* VERSION, TODO: *** empty log message ***

	* README: branches:  2.0.4; *** empty log message ***

	* OPS.PGP: *** empty log message ***

	* OPS, NEWS, Muttrc.in: branches:  2.0.4; *** empty log message
	***

	* Makefile.am, INSTALL, GPL, ChangeLog, COPYRIGHT, ABOUT-NLS:
	*** empty log message ***

	* po/uk.po, po/ru.po, po/it.po, po/fr.po, po/es.po, po/de.po,
	reldate.h, VERSION, ChangeLog: Release-commit for 0.95i.

	* hash.c: Use a better hash function.  Contributed by Stefan
	Langerman <lfalse@paul.rutgers.edu> to mutt-users.

1998-12-11 20:48:14  roessler  (roessler)

	* reldate.h, VERSION, ChangeLog: 0.94.999 pre-release commit.

	* main.c: Bail out with a text-based error message if a
	non-existing mailbox is given as a -f command line argument.

	* Makefile.am: The distdir target creates hard links for the
	source files.  This has the consequence that the us-dist hook
	will demolish files in the main source tree.  We have to un-link
	the various instances of the source code.

	* INSTALL: Warn about regexp-related problems under Solaris 2.6.

	* po/uk.po, po/ru.po, po/it.po, po/fr.po, po/es.po, po/de.po:
	Various last-minute changes and automatic updates.

	* main.c: Go into no-mailbox mode when the initial folder can't
	be opened.

	* mh.c: Undoing the mh_speed patch.

	* po/it.po, po/fr.po: l10n fixes.

	* curs_main.c: Start a new reply and postpone it. Then type m
	(mail), and recall and send the postponed reply. The replied
	message is _not_ flagged replied.

	(From Byrial Jensen.)

	* po/fr.po: Bug-fixed french l10n.

	* parse.c: Multipart parser fixes from Byrial.	Finally.

	* po/it.po: Small fix.

1998-12-10 22:48:56  roessler  (roessler)

	* po/fr.po, configure.in: Add the french l10n.

	* po/uk.po, po/ru.po, po/it.po, po/es.po, po/de.po, reldate.h:
	post-release commit 0.94.99.

	* VERSION, README, ChangeLog: Pre-release commit for 0.94.99.

	* menu.c: Fix tag-prefix.

	* compose.c: Redraw fix after the content type was changed on
	the compose menu.

1998-12-08 23:09:53  roessler  (roessler)

	* help.c: Help screen resizing nit.  From Gero Treuner.

	* doc/manual.sgml.in: Typo.

	* sendlib.c: Work around sendmail 8.9.1a invalidating PGP/MIME
	signatures by re-ordering MIME headers in the way sendmail does.

	* mh.c: Keep track of file name changes for files wandering
	around between the subfolders of a maildir.

	* mh.c: More fixes to the maildir resynchronization code.
	This should now also smoothly handle the case of messages
	_vanishing_ from maildir's new/ subdirectory.

	* init.c: Make the debug file access unbuffered.  Important if
	we are debugging crashes.

1998-12-07 21:13:44  roessler  (roessler)

	* mx.c, mh.c: Fix a couple of flag-related bugs in the maildir
	folder update code.

	* imap.c: Fix a completely ugly comment formatting.

	* mutt.h: Adjust '#' to the first column.

	* rfc2047.c: Don't tag us-ascii headers as $Charset or
	unknown-8bit.

1998-12-03 23:29:37  roessler  (roessler)

	* po/uk.po, po/ru.po, po/it.po, po/es.po, po/de.po, reldate.h,
	VERSION, ChangeLog: release-commit 0.94.18.

1998-12-02 20:12:35  roessler  (roessler)

	* contrib/Pine.rc, contrib/Mush.rc: Bring the sample rc files
	better in synch with the actual code.

	* recvattach.c: Remove a warning which comes from code actually
	belonging to the send_charset patch.

	* rfc2047.c: Encode- and decode the "val" field when using mutt
	with EXACT_ADDRESS enabled.

	* Makefile.am: Small fixes to the build process. From Lars
	Hecking.

	* compose.c: The attached patch fixes yet another redraw related
	bug. When I call OP_SAVE from the Compose menu and use the
	file-browser and 'q' out of the file-browser, the screen still
	shows the browser, but the control is really in the Compose
	menu. A Ctrl-L verifies this.  Basically, a screen redraw
	is missing.

	From Vikas.

	* mutt_menu.h, menu.c, compose.c: From the Compose menu, invoke
	attach-message. Tag a whole bunch of messages. Say, for example,
	100. When you exit the folder, the Compose menu's status line
	has disappeared.

	Fix from Vikas.

	* browser.c: patch-0.94.17.vikas.browser_redraw.1

1998-11-23 21:10:12  roessler  (roessler)

	* protos.h, lib.c: Change safe_malloc's size parameter from
	(unsigned int) to size_t.

	* send.c, protos.h, pattern.c, alias.c: From Byrial:

	I don't think that the match-all pattern modifier works as can
	be expected from a logical point of view.

	The attached patch will make it work as I expect it to work:

	  - It works on all patterns which explicit or implicit use
	    address lists: ~c, ~C, ~e, ~f, ~l, ~L, ~p, ~P, and ~t. (It
	    didn't work with ~l before).

	  - It works such that a modified pattern always match, unless
	    there is at least one address in at least one of the
	    referenced lists that it doesn't match.

	* doc/manual.sgml.in, send.c, mutt.h, mh.c, init.h, Muttrc.in:
	Introduce a new option $reply_self.  From Vikas.

1998-11-20 00:27:03  roessler  (roessler)

	* po/it.po: New it.po from Mario.

	* doc/mutt.man.in: branches:  1.4.4; Fix a small typo.

1998-11-19 23:57:03  roessler  (roessler)

	* contrib/Pine.rc: Fix some ancient syntax.

	* po/uk.po, po/ru.po, po/it.po, po/es.po, po/de.po, send.c:
	Hack around problems with multi-valued Reply-To headers.
	From Roland Rosenfeld.

	* rfc2047.c: Properly encode '_' characters in words which
	are qp-encoded.

	* sendlib.c: Use mutt_is_message_type() in the message
	transformation code.

	* po/Makefile.in.in: Fix all Makefiles.  make
	DESTDIR=/path/to/something install should work now.

	* doc/Makefile.in: branches:  1.15.4; Fix all Makefiles.
	make DESTDIR=/path/to/something install should work now.

	* Makefile.am: Fix all Makefiles.  make DESTDIR=/path/to/something
	install should work now.

1998-11-18 23:09:46  roessler  (roessler)

	* po/uk.po, po/ru.po, po/it.po, po/es.po, po/de.po, reldate.h,
	VERSION, ChangeLog: Release-commit for 0.94.17.

	* sendlib.c, protos.h, pgp.c, parse.c, lib.c, compose.c: This
	patch simplifies the generation of content type parameters
	significantly by introducing a funciton mutt_set_parameter().
	Additionally, we re-use code from parse.c for parsing user-input
	content type headers on the compose screen.

	* compose.c: Remove some uuencode-related debris.

	* recvattach.c: Remove some code which crept in from the external
	character set patch.

	* recvattach.c: Make optional formats work while processing
	$attach_format.

	* mh.c: Remove bogus re-sorting code from the maildir check
	routine.

	* mutt.h: Include <unistd.h>, so SEEK_SET is defined on some
	systems which don't do so in <stdlib.h>.

1998-11-17 13:23:26  roessler  (roessler)

	* po/uk.po, po/ru.po, po/it.po, po/es.po: Checkpoint commit,
	containing quite a few fuzzy translations.

	* po/de.po: Update some messages.

	* m4/Makefile.am.in, m4/README, m4/gettext.m4, m4/lcmessage.m4,
	m4/progtest.m4, prepare, configure.in, Makefile.am: Configuration
	fixes from Lars Hecking, with some more fixes and modifications
	from myself.  With some luck, you don't need a gettext
	installation any more.

	* sendlib.c: Fix the base64 encoder.  The current code would
	produce slightly unpredictible output which leads to bad
	signatures.

	* postpone.c, pgp.c, parse.c, pager.c: Fix a search coloring
	related bug.

1998-11-16 11:44:42  roessler  (roessler)

	* protos.h: Drop ci_attach - it doesn't exist.	Noted by Byrial
	Jensen.

1998-11-15 09:53:23  roessler  (roessler)

	* parse.c: Stupid typo.

	* protos.h, parse.c, attach.c: My version of Byrial's parse_part
	patch.

	* recvattach.c, protos.h, mutt.h, copy.c, compose.c: I can
	elaborate a little more on the last paragraph. It is deletion
	of the top level part direct under a message/rfc822 part which
	gives problems because the headers of the message/rfc822 part
	have to be changed in this case. It is hard to tell exactly how
	many bytes and lines will be removed and added in this case.

	If we can refrain from deletion of such parts and thus only
	allow deletion of parts direct under a multipart part, then it is
	relative easy always to make correct Content-Length: and Lines:
	headers in the copy. (The correctness of the Lines count is
	dependent of the correctness of the initial value, though).

	(From: Byrial Jensen)

	* doc/manual.sgml.in: Correcting Vikas' E-Mail address in the
	credits section.

1998-11-14 08:24:56  roessler  (roessler)

	* doc/manual.sgml.in: Update Byrial's e-mail address.

	* copy.c: Simplify the new attachment deletion code not to require
	an extra temporary file.  (From: Byrial Jensen <byrial@image.dk>)

	* help.c, handler.c: Type cast nit from Gero Treuner.

1998-11-13 18:31:06  roessler  (roessler)

	* imap.c: Currently, Mutt won't use a default folder if just the
	IMAP server is specified.  In fact, if the folder isn't specified,
	it will core-dump.

	The attached patch will use INBOX as the IMAP folder name if
	none is specified, eliminating the core-dump.

	(From: Aaron Schrab <aaron+mutt@schrab.com>)

1998-11-12 21:52:01  roessler  (roessler)

	* mutt.h, copy.c: Byrial's latest attachment deletion patch.

	* mutt.h, lib.c, handler.c: Introduce a state_printf() function.

1998-11-11 21:18:08  roessler  (roessler)

	* po/it.po: New it.po from Marco.

	* snprintf.c: Don't use the mutt_str* functions in this module.

	* strcasecmp.c: the s/str.*cmp/mutt_str.*cmp/ replacement should
	not have taken place here.

1998-11-10 22:21:51  roessler  (roessler)

	* dotlock.c: Don't use mutt_strsomething in the dotlocking code.

	* send.c: Fix the $metoo option's behaviour.

	* thread.c, strcasecmp.c, status.c, sort.c, socket.c,
	snprintf.c, sendlib.c, send.c, score.c, rfc822.c, rfc2047.c,
	rfc1524.c, recvattach.c, query.c, protos.h, postpone.c, pop.c,
	pgppubring.c, pgpkey.c, pgpinvoke.c, pgp.c, pattern.c, parse.c,
	pager.c, mx.c, mh.c, menu.c, mbox.c, main.c, lib.c, keymap.c,
	init.c, imap.c, hook.c, history.c, help.c, headers.c, hdrline.c,
	hash.c, handler.c, gnupgparse.c, getdomain.c, from.c, enter.c,
	edit.c, dotlock.c, curs_lib.c, copy.c, compose.c, complete.c,
	commands.c, color.c, charset.c, buffy.c, browser.c, attach.c,
	alias.c, addrbook.c: Introduce or rewrite mutt_{str*cmp,strlen}
	and use them all over the place.  If there are still segmentation
	faults due to missing NONULLs over, they are gone now.

	* main.c: Add a "pseudo-credit" to the extended copyright notice.

	* po/uk.po, po/ru.po, po/it.po, po/es.po, po/de.po, reldate.h,
	VERSION, ChangeLog: Releasing 0.94.16.

	* sendlib.c, mx.h, mx.c, mbox.c, init.c, copy.c, commands.c,
	buffy.c, attach.c: Experimental support for the so-called
	"kendra" mail folder format.  This seems to be used on OS/2 and
	is, actually, a slibhtly modified version of the MMDF format.

	* parse.c: Do some sanity checking when reading attachment.
	This fix should catch bad attachments.

	* edit.c: Fix a possible buffer overflow.  (This seems to be
	the one noticed by Pavel Gulchouck <gul@lucky.net>.)

	* compose.c: Wrong fix from Vikas.  Undo it.  (Noted by Byrial.)

	* curs_lib.c, compose.c: Fix a multi_choice related bug.
	From Vikas.

	* buffy.c: Skip empty mailbox parameters.  This fixes a
	segmentation fault noted by Marco d'Itri.

1998-11-09 19:28:42  roessler  (roessler)

	* from.c: Catch possible bad memory access.

	* doc/manual.sgml.in, sendlib.c, protos.h, init.h, globals.h,
	copy.c, Muttrc.in: Rewrite copy_delete_attach().

	* sort.c, score.c, protos.h, curs_main.c, color.c: Fix an
	efficiency problem with the color index features.

	* doc/mutt.man.in: Replace @sharedir@ by @sysconfdir@.

	* doc/manual.sgml.in: Make the default_hook documentation match
	the code.

	* main.c, curs_main.c: Avoid duplicate mx_close_mailbox() when
	OP_QUIT is called.

	* browser.c: The attached patch fixes a potential problem in
	folder_format_str() where a fixed buffer might not be null
	terminated.  From Vikas.

	* init.c: The attached patch fixes a bug in :set variable=<TAB>
	where variables of type DT_SORT were not getting expanded (only
	4 of them, but a bug nevertheless).  From Vikas.

	* browser.c: patch-0.94.15.vikas.browser_sort.3

	* doc/manual.sgml.in: Add a forwarding chapter to the manual.
	From Gero Treuner.

	* po/de.po: Revert de.po to the traditional German spelling rules.

	* po/de.po, pop.c: L10 fixes from Gero Treuner.

	* parse.c, handler.c: A message/external-body handler.
	From Byrial Jensen.

	* protos.h, parse.c:  - remove the static declaration from
	 parse_date() in parse.c, - rename it to mutt_parse_date() -
	 fix a minor bug: the timezone information in an expires-header
	   was used to set the timezone of the send time.

	(From Byrial Jensen <byrial@post3.tele.dk>.)

	* Muttrc.in: Fix some spelling errors noted by Boris Wesslowski
	<Boris.Wesslowski@StudBox.Uni-Stuttgart.DE>.

	* handler.c: Byrial Jensen's alternative_handler patches.
	This may lead to non-desirable effects with attachment deletion;
	these effects will go when the new attachment deletion code
	is implemented.

	* parse.c: SeokChan LEE <bofh@nuri.net> says KST has a nine hour
	offset from GMT.

	* pager.c, help.c: Fix the display of DEL in the pager.

	* send.c: Fix a group reply problem.

1998-10-30 13:00:10  roessler  (roessler)

	* po/uk.po, po/ru.po, po/it.po, po/es.po, po/de.po: Some recent
	changes.

1998-10-29 09:46:45  roessler  (roessler)

	* mbox.c: Mbox robustness patch from Johnny Tevessen
	<j.tevessen@gmx.net>.

	* po/de.po: Fixing a typo.

	* imap.c: This patch should cause mutt to ask for your IMAP
	login/password again if its wrong.  From Brandon Long.

1998-10-28 21:48:36  roessler  (roessler)

	* doc/manual.sgml.in, reldate.h, VERSION, NEWS, ChangeLog:
	0.94.15 release commit.

	* po/uk.po, po/ru.po, po/it.po, po/es.po, po/de.po: pre-release
	commit, take 1.

	* curs_lib.c: Add an IsPrint check to mutt_message() and
	mutt_curses_error(). This will prevent _some_ advert effects from
	l10ns which don't fit together with the terminal's abilities.
	There are still quite a few raw printw() etc. - we may wish to
	introduce our own, locale-safe versions of these.

	* po/POTFILES.in: reldate contais really _no_ i18n-related data.

	* send.c: Don't try to recall a postponed message when we are
	given a template.

	* copy.c: Fix a possible segmentation fault when deleting nested
	attachments.

	* doc/manual.sgml.in, send.c, mutt.h, init.h: Add a $forward_weed
	option which controls header weeding when decode-forwarding
	messages.

	* po/ru.po, po/it.po, po/es.po, po/de.po: German translation
	fixes from Gero plus checkpoint commit.

	* doc/manual.sgml.in, pager.h, pager.c, mutt_menu.h, keymap.c,
	help.c, curs_main.c, commands.c, attach.c, OPS: Gero Treuner's
	help-wrap patch.

	* po/ru.po, po/it.po, po/es.po, po/de.po: Adding a current
	spanish translation.

	* send.c: if reply-to points to the address on the from header,
	use the from header's value for composing a reply's recipient
	list, not the reply-to header.

	* configure.in: add the ukrainian l10n.

1998-10-27 19:02:45  roessler  (roessler)

	* configure: Configure is generated automatically and should
	thus _not_ be part of the CVS repository.

	* configure.in, configure, README, INSTALL: Try to detect Solaris
	2.4's broken regcomp().

	* send.c: Move some code around.

	* doc/manual.sgml.in: Some documentation nits.

	* dotlock.c: include config.h _before_ checking for HAVE_GETOPT.
	Noted by Scott Perlman <perlman@linguist.dartmouth.edu>.

	* Muttrc.in: Add a macro for viewing the manual.

	* pgp.c, configure.in, configure: i18n fixes.

	* po/ru.po, po/es.po, po/it.po, po/de.po: A couple of i18n
	fixes, plus a partial spanish translation from Boris Wesslowski
	<Boris.Wesslowski@StudBox.Uni-Stuttgart.DE>.

	* configure.in, configure: Handle systems which have neither
	pgp2 nor pgp5, but gpg correctly.

	* compose.c: - snd_entry() is marked static - You will only get
	a full redraw of the screen after invoking
	  pgp_send_menu if you selected "sign as".  - draw_envelope()
	and edit_address_list() use the same array of
	  strings for titles/prompts. This saves both string data and
	  code in both functions which have been a lot smaller.

	* sendlib.c, send.c, protos.h, postpone.c, compose.c: Preserve
	FCC headers when postponing.  From Vikas.

	* mx.c, mutt.h, imap.c: Prevent mutt from re-reading IMAP folders
	before quitting.

1998-10-22 13:53:47  roessler  (roessler)

	* send.c: Undo some superfluous changes.  Pointed out by V.A.

	* send.c, protos.h, postpone.c: - Preserve certain headers'
	  values when recallling a postponed message.  TBD:  Fcc.

	- Rename mutt_edit_message() to mutt_prepare_edit_message()
	  since that's what that function actually does.

	* mx.h, mx.c, lib.c, flags.c: Make _all_ IMAP-related code
	conditionally defined.	From Byrial Jensen.

1998-10-21 22:46:16  roessler  (roessler)

	* protos.h, pattern.c, hdrline.c: Fix match-all for the ~p,
	~P modifiers.

	* compose.c: Vikas' write_fcc patch.

	* doc/manual.sgml.in: Documentation nits from Byrial.

	* curs_lib.c: Also accept numbers as input in mutt_multi_choice().
	From Byrial.

	* prepare: Fix the documentation reference in prepare.

	* doc/devel-notes.txt: Add a gettext automake macro patch which
	is needed for proper building of mutt.

	* prepare, config.h.in, aclocal.m4, README, INSTALL: Remove
	some automatically generated files from the CVS repository,
	and add a script which generates them.

	* Makefile.am: Don't overwrite $(sysconfdir)/Muttrc if present.

	* po/ru.po, po/it.po, po/de.po, protos.h, curs_lib.c, compose.c,
	commands.c, browser.c: Byrial Jensen's mutt_multi_choice()
	patch plus some German translations.

	* pgpinvoke.c, gnupgparse.c: Make gpg's output look a little
	bit cleaner.

	* po/ru.po, po/it.po, po/de.po, reldate.h: Release commit.

	* VERSION, ChangeLog: Preparing 0.94.14.

1998-10-20 22:02:58  roessler  (roessler)

	* po/ru.po, po/it.po, po/de.po: Checkpoint commit.

	* config.h.in, Makefile.am: Include VERSION with the distribution.

	* configure.in, configure, VERSION, config.h.in: Don't hard-wire
	the program's version in configure.in, but use the VERSION
	file instead.  Stolen from gnupg.

	* ChangeLog: Checkpoint commit.

	* doc/manual.sgml.in, keymap.c, functions.h, NEWS: Another
	macro-function fix from Vikas.

	* socket.c, mutt_socket.h: Fix the multiple connection code.
	From Brandon Long.

1998-10-19 20:08:10  roessler  (roessler)

	* postpone.c: fix a typo.

	* Makefile.am: Fix dotlock's installation when DOTLOCK_GROUP
	is empty.

	* po/it.po: Ups, this was missing from the repository.

	* po/ru.po, po/de.po: Adding some new and improved German
	translations.

	* init.c: handle domain == "@" properly.

	* postpone.c: Fix the behaviour when recalling postponed messages:
	Content types would not be restored.

1998-10-16 12:09:37  roessler  (roessler)

	* lib.c: Harden mutt_free_header() against NULL pointers.

	* keymap.c, handler.c: Nits from Vikas.

	* send.c: Fix a segmentation fault when OPT_RECALL is
	ask-something.

	* commands.c: Don't write out bad content-length and lines
	headers when decode-saving a message.

1998-10-15 23:09:30  roessler  (roessler)

	* po/ru.po, po/de.po: *** empty log message ***

	* intl/textdomain.c, intl/localealias.c, intl/loadmsgcat.c,
	intl/l10nflist.c, intl/intl-compat.c, intl/gettext.c,
	intl/finddomain.c, intl/explodename.c, intl/dgettext.c,
	intl/dcgettext.c, intl/cat-compat.c, intl/bindtextdom.c,
	thread.c, system.c, strcasecmp.c, status.c, sort.c, socket.c,
	snprintf.c, signal.c, sha1dgst.c, sendlib.c, send.c, score.c,
	rfc822.c, rfc2047.c, rfc1524.c, resize.c, recvattach.c, query.c,
	postpone.c, pop.c, pgppubring.c, pgpkey.c, pgpinvoke.c, pgp.c,
	pattern.c, parse.c, pager.c, mx.c, mh.c, menu.c, mbox.c,
	main.c, lib.c, keymap.c, init.c, imap.c, hook.c, history.c,
	help.c, headers.c, hdrline.c, hash.c, handler.c, gnupgparse.c,
	getdomain.c, from.c, flags.c, filter.c, enter.c, edit.c,
	dotlock.c, date.c, curs_main.c, curs_lib.c, copy.c, config.h.in,
	compose.c, complete.c, commands.c, color.c, charset.c, buffy.c,
	browser.c, attach.c, alias.c, addrbook.c, ChangeLog: Change
	"static char rcsid[]" to "static const char rcsid[]" to make
	gcc shut up about this.

	* po/stamp-cat-id, po/ru.po, po/mutt.pot, po/de.po,
	po/cat-id-tbl.c, reldate.h, configure.in, configure, config.h.in,
	Makefile.in, ChangeLog: Random pre-release clean-up.

	* po/mutt.pot, doc/manual.sgml.in, pattern.c, mutt.h: This
	patch introduces the ~k pattern for messages containing pgp
	key material.

	* doc/manual.sgml.in: Add some missing key definitions.

	* mutt_curses.h: There seem to be systems which don't know
	about KEY_ENTER.

	* po/mutt.pot, po/cat-id-tbl.c: Check-point commit, again.

	* sendlib.c: Put #ifdefs around a variable which is only used
	for generating uuencoded messages.

	* ChangeLog: Update.

	* po/ru.po, po/mutt.pot, po/cat-id-tbl.c, sendlib.c, keymap.c,
	compose.c: A slightly modified version of Vikas' help_unbound
	patch.

	* po/mutt.pot, sendlib.c, protos.h, postpone.c, parse.h, parse.c,
	mh.c, mbox.c, main.c, imap.c, headers.c, buffy.c: Fixing a memory
	hog which was introduced by the edit-message patch.

1998-10-14 22:58:04  roessler  (roessler)

	* po/ru.po, po/mutt.pot, po/de.po, po/cat-id-tbl.c, compose.c:
	Warn the user before sending out uuencoded attachments.

	* handler.c: Fix prefix and utf8 issues in the uudecoder.

	* sendlib.c, parse.c, mime.h, handler.c, globals.h, config.h.in:
	Thinking about this once again, ok folks, here comes x-uuencode
	support.

	* handler.c: typo.

	* handler.c: When Charset is utf-8 (not recommended!), don't
	active utf8 translation in the various handler routines.

	* Makefile.in, Makefile.am: Add -I$(includedir) to the C
	preprocessor flags.  Per request of Clint Olsen.

	* po/ru.po, po/de.po, configure.in, configure, config.h.in,
	Makefile.in, Makefile.am: More build process clean-up.

	* po/mutt.pot, po/Makefile.in.in, config.h.in, Makefile.in:
	Removing some instances of gnu-make specific command line
	parameters.

	* doc/manual.sgml.in: Document the match-all feature.

	* po/mutt.pot, main.c, dotlock.c, configure.in, configure,
	config.h.in, Makefile.in, Makefile.am: Various build fixes.

	* color.c: Adding some necessary ifdefs to color.c, From
	Irving_Wolfe@wolfe.net.

1998-10-13 23:37:05  roessler  (roessler)

	* po/ru.po, po/de.po: Checkpoint commit.  This gets boring.

	* NEWS: Merging Vikas' NEWS file into the distributed one.

	* po/mutt.pot, config.h.in, Makefile.in, ChangeLog: Preparing
	0.94.12.

	* po/ru.po, po/mutt.pot, po/de.po, po/cat-id-tbl.c, reldate.h,
	recvattach.c, configure.in, configure, config.h.in, commands.c,
	README, NEWS, Makefile.in, Makefile.am, INSTALL: random
	pre-release clean-up.

	* po/ru.po, po/mutt.pot, po/de.po, po/cat-id-tbl.c,
	po/POTFILES.in, reap.pl, gen_defs, configure.in, configure,
	config.h.in, NEWS, Makefile.in, Makefile.am: Introducing a us-dist
	target to create a USG-friendly version of mutt.  Additionally,
	the NEWS file is prepared for 0.95.

	* doc/devel-notes.txt: Add a short note on compiler warnings.

	* po/ru.po, po/de.po, po/POTFILES.in, po/Makefile.in.in, missing,
	mime.types: More $Id$ strings.

	* po/mutt.pot, po/cat-id-tbl.c, intl/textdomain.c,
	intl/localealias.c, intl/loadmsgcat.c, intl/loadinfo.h,
	intl/libgettext.h, intl/l10nflist.c, intl/intl-compat.c,
	intl/hash-string.h, intl/gettextP.h, intl/gettext.h,
	intl/gettext.c, intl/finddomain.c, intl/explodename.c,
	intl/dgettext.c, intl/dcgettext.c, intl/cat-compat.c,
	intl/bindtextdom.c, doc/devel-notes.txt, doc/applying-patches.txt:
	Add RCS $Id$ strings to (hopefully) all source files.

	* doc/PGP-Notes.txt: branches:	1.6.4; Add RCS $Id$ strings to
	(hopefully) all source files.

	* doc/Makefile.in: Add RCS $Id$ strings to (hopefully) all
	source files.

	* contrib/sample.muttrc, contrib/sample.mailcap: branches:
	1.2.4; Add RCS $Id$ strings to (hopefully) all source files.

	* contrib/language50.txt, contrib/language.txt, contrib/Pine.rc,
	contrib/Mush.rc, contrib/Makefile.in, thread.c, system.c,
	strcasecmp.c, status.c, sort.h, sort.c, socket.c, snprintf.c,
	signal.c, sha_locl.h, sha1dgst.c, sha.h, sendlib.c, send.c,
	score.c, rfc822.h, rfc822.c, rfc2047.h, rfc2047.c, rfc1524.h,
	rfc1524.c, resize.c, reldate.h, recvattach.c, query.c, protos.h,
	postpone.c, pop.c, pgppubring.c, pgpkey.c, pgpinvoke.c, pgp.h,
	pgp.c, pattern.c, parse.h, parse.c, pager.h, pager.c, mx.h, mx.c,
	mutt_socket.h, mutt_regex.h, mutt_menu.h, mutt_curses.h, mutt.h,
	mime.h, mh.c, menu.c, mbox.c, mapping.h, main.c, mailbox.h,
	lib.c, keymap.h, keymap.c, init.h, init.c, imap.h, imap.c,
	hook.c, history.h, history.c, help.c, headers.c, hdrline.c,
	hash.h, hash.c, handler.c, gnupgparse.c, globals.h, getdomain.c,
	gen_defs, functions.h, from.c, flags.c, filter.c, enter.c, edit.c,
	dotlock.h, dotlock.c, date.c, curs_main.c, curs_lib.c, copy.h,
	copy.c, configure.in, compose.c, complete.c, commands.c, color.c,
	charset.h, charset.c, buffy.h, buffy.c, browser.c, attach.h,
	attach.c, alias.c, addrbook.c, acconfig.h, TODO, README, NEWS,
	Muttrc.in, Makefile.in, Makefile.am, INSTALL, GPL, COPYRIGHT:
	Add RCS $Id$ strings to (hopefully) all source files.

	* enter.c: Type Ctrl-V Ctrl-G in any input field.

	* curs_main.c: Bumping some dprint statements' debug levels.
	From Vikas.

	* po/ru.po, po/mutt.pot, po/de.po: Including the new ru.po file
	from "Andrej N. Gritsenko" <andrej@lucky.net>; check-point commit.

1998-10-12 19:53:49  roessler  (roessler)

	* recvattach.c, query.c, postpone.c, pgpkey.c, curs_main.c,
	compose.c, browser.c, addrbook.c: The attached patch removes
	some redundant code related to the macro function stuff. Since
	each menu calls km_dokey() to get the 'op' number to execute, the
	'menu' argument to km_dokey() _is_ the CurrentMenu. Hence, there
	is no need to explicitly save/restore the CurrentMenu all over
	the code. The only places it is being captured now is just before
	mutt_enter_comamnd() is called. This is to help the 'exec' command
	completion code so that it knows which menu to try and complete
	the function name from.  (From: Vikas Agnihotri <VikasA@att.com>)

	* doc/manual.sgml.in, doc/manual.sgml, doc/Makefile.in, sendlib.c,
	main.c, init.c, configure.in, configure, config.h.in, acconfig.h,
	Makefile.in, Makefile.am: Mutt now correctly uses the sysconfdir
	as determined by configure.

	* po/ru.po, po/mutt.pot, po/de.po: Checkpoint commit.

	* po/ru.po, po/mutt.pot, po/de.po, reldate.h, configure.in,
	configure, ChangeLog: Check-point commit before 0.94.11 is
	released.

1998-10-11 22:11:00  roessler  (roessler)

	* doc/Makefile.in, contrib/Makefile.in: Makefile clean-up as
	suggested by Marco d'Itri.

	* doc/dotlock.man.in: branches:  1.3.4; Install dotlock's manual
	page under the correct name.

	* doc/Makefile.in: Install dotlock's manual page under the
	correct name.

1998-10-08 13:22:16  roessler  (roessler)

	* README: Reference some of the new doc files.

	* doc/Makefile.in: Some more changes to the installation process.

	* doc/Makefile.in: Fix the uninstall target; add some magic to
	build and install the HTML version of the manual if we can.

	* doc/applying-patches.txt, doc/devel-notes.txt,
	doc/PGP-Notes.txt, doc/Makefile.in: Some more documentation;
	install the html version of the manual if it's there.

	* doc/manual.sgml: The manual was wrong on the default binding
	for extract-keys.

1998-10-07 22:19:27  roessler  (roessler)

	* doc/manual.sgml, pop.c, mutt.h, init.h, Muttrc.in: POP3
	LAST support.  From Jason Lavoie <jason@mint.net> by way of
	Michael Elkins.

	* po/mutt.pot, po/cat-id-tbl.c: Clean-up commit.

	* gnupgparse.c: Redirect stdin and stderr to /dev/null when
	invoking gpgm for listing key IDs.

	* socket.c, mutt_socket.h, imap.c: First fix of the IMAP expunge
	handling.  From Brandon Long.

	* keymap.c, curs_lib.c: Fix macro functions for the pager menu.

	* keymap.c: The attached patch fixes a minor inconsistency
	between the display of special key-names in the help screen
	and their actual usage. The help screen now shows the special
	keys exactly as you would/could/should use them in the
	muttrc/command-line. (From: Vikas Agnihotri <VikasA@att.com>)

	* keymap.c: Fix the error message for unbound keys.  From Vikas.

	* browser.c: Clean up behind an aborted sort-by prompt on the
	file browser.  From Vikas.

	* hdrline.c: The attached patch fixes a minor bug in
	$index_format's %B and %b where they didnt respect the given
	prefix. In addition, the manual says that %B is supposed to fall
	back to %b if the message is not sent to a known mailing list. The
	code was not doing that.  (From: Vikas Agnihotri <VikasA@att.com>,
	noted on comp.mail.mutt by unny@rz114s0.rz.uni-karlsruhe.de
	(Vladimir Klebanov)).

	* doc/PGP-Notes.txt: pgp_language is obsolete.	Noted by Heiko
	Schlichting.

1998-10-06 15:10:53  roessler  (roessler)

	* keymap.c: Macro function fixes.

	* curs_lib.c: With slang, ERR != -1.

	* po/mutt.pot, po/de.po: Message fix.

	* attach.c: Fix another pipe-related hang in
	mutt_view_attachment().

1998-10-05 21:37:15  roessler  (roessler)

	* configure, aclocal.m4: Another fix to libintl detection.

	* keymap.c, curs_lib.c: macro_function.2-3, from Vikas.

	* handler.c: File descriptor leak alert.

	* handler.c: Avoid a hang due to blocking pipe writes in the
	auto view code.

	* keymap.c, curs_main.c, curs_lib.c: Make exec grok >= 1
	parameters; fix double ops problem in index_menu().

	* po/ru.po, po/mutt.pot, po/de.po, po/cat-id-tbl.c: L10n changes
	corresponding to the macro-function patch.

	* flags.c, compose.c: Some fixes to the macro-function patch.

	* po/ru.po: Adding the Russian Localization.

	* recvattach.c, query.c, protos.h, postpone.c, pgpkey.c,
	pager.c, mutt_curses.h, mutt.h, menu.c, keymap.c, init.h,
	init.c, globals.h, flags.c, enter.c, curs_main.c, curs_lib.c,
	configure.in, configure, compose.c, commands.c, browser.c,
	addrbook.c, aclocal.m4: Vikas' macro_function patch.

1998-10-04 15:02:25  roessler  (roessler)

	* configure.in, configure: Fixing some make-related problems
	noted by Petri Kaukasoina <kaukasoi-mutt@elektroni.ee.tut.fi>.

	* po/mutt.pot, send.c: Fix group-reply's behaviour.

	* doc/devel-notes.txt, doc/style-guide: Replace style-guide by
	some more general notes on mutt development.

	* Makefile.in: Propagate fixes from Makefile.am.

	* ChangeLog: Preparing 0.94.10.

	* po/mutt.pot, po/de.po: Noise.

	* configure.in, configure, Makefile.am: More fixes to the build
	process.  This version was tested to build cleanly under SuSE
	Linux and IRIX.

1998-10-03 22:08:09  roessler  (roessler)

	* doc/manual.txt: manual.txt can be rebuilt when making the dist -
	no need to keep this in the repository.

	* ChangeLog: Preparing ChangeLog for 0.94.10.

	* contrib/Makefile.in: Ups.

	* po/mutt.pot, po/de.po, po/cat-id-tbl.c,
	po/Makefile.in.in, doc/language50.txt, doc/language.txt,
	contrib/patch.slang-1.2.2.keypad.1, contrib/sample.mailcap,
	contrib/sample.muttrc, doc/Makefile.in, contrib/Mush.rc,
	contrib/Pine.rc, contrib/language.txt, contrib/language50.txt,
	sample.muttrc, sample.mailcap, reap.pl, pop.c,
	patch.slang-1.2.2.keypad.1, depend.awk, configure.in, configure,
	Pine.rc, Mush.rc, Makefile.in, Makefile.am, ChangeLog: Source tree
	and make process changes.  make dist and make maintainer-clean
	should now work as they are supposed to.

	* help.c: Remove an unprotected gettext() call.

	* missing: *** empty log message ***

	* missing: Persuade CVS to get the file modes right.

	* INSTALL: Adding a note on SparcLinux problems when gcc is
	called with the -pedantic flag.

1998-10-02 17:39:47  roessler  (roessler)

	* po/mutt.pot, po/de.po: A small fix to get autoview messages
	properly colored.

	* pattern.c, mutt.h, Makefile.in: patch-0.92.8.sec.match_all.1

	* po/mutt.pot, configure.in, configure, Makefile.in, Makefile.am:
	Fixing some build-related problems, and preparing 0.94.9p1.

	* doc/manual.txt, doc/manual.sgml, hdrline.c: Roland Rosenfeld's
	first name patch.

	* mutt.h, compose.c: More () fixes.

	* mutt.h, edit.c, curs_lib.c, browser.c: With SLang, addstr()
	is a macro.  This means we should put additional braces around
	_()-style arguments.

1998-10-01 20:16:56  roessler  (roessler)

	* po/mutt.pot, po/de.po, po/cat-id-tbl.c, po/POTFILES.in,
	doc/Makefile.in: Translate help strings.

	* postpone.c, pager.c, help.c, compose.c, Makefile.in: Translate
	help strigns.

	* intl/VERSION, intl/libintl.h, intl/libintl.glibc,
	intl/intlh.inst.in, intl/COPYING, intl/BUGS, intl/AUTHORS: ***
	empty log message ***

	* po/mutt.pot, po/de.po, po/cat-id-tbl.c, po/POTFILES.in,
	recvattach.c, query.c, pager.c, curs_main.c, compose.c, browser.c,
	addrbook.c: Translate the various help lines.

	* mutt.h, lib.c, handler.c: Gero Treuner's reply_quote patch.

	* po/mutt.pot, po/de.po, po/cat-id-tbl.c, po/POTFILES.in: Add
	l10n for handler.c.

	* po/mutt.pot, po/de.po, po/cat-id-tbl.c, curs_lib.c: Make
	mutt_yesorno() language sensitive.

	* po/de.po: Various German-language related fixes.

	* reldate.h, configure.in, configure, TODO, Makefile.in,
	ChangeLog: Preparing 0.94.9i.

	* po/de.po: German l10n, first take.

	* intl/AUTHORS, intl/BUGS, intl/COPYING: Adding legalese.

	* po/mutt.pot, po/de.po, po/cat-id-tbl.c, main.c: More i18n fixes.

	* po/mutt.pot, po/de.po, po/cat-id-tbl.c: Adapting the catalog
	files to 0.94.8.

	* configure.in, configure, Makefile.in, Makefile.am: Various
	automake and installation fixes.

	* po/Makefile.in.in, po/POTFILES.in, po/cat-id-tbl.c, po/de.po,
	po/mutt.pot, po/stamp-cat-id, intl/ChangeLog, intl/Makefile.in,
	intl/bindtextdom.c, intl/cat-compat.c, intl/dcgettext.c,
	intl/dgettext.c, intl/explodename.c, intl/finddomain.c,
	intl/gettext.c, intl/gettext.h, intl/gettextP.h,
	intl/hash-string.h, intl/intl-compat.c, intl/intlh.inst.in,
	intl/l10nflist.c, intl/libgettext.h, intl/libintl.glibc,
	intl/libintl.h, intl/linux-msg.sed, intl/loadinfo.h,
	intl/loadmsgcat.c, intl/localealias.c, intl/po2tbl.sed.in,
	intl/textdomain.c, intl/xopen-msg.sed, doc/Makefile.in, thread.c,
	stamp-h.in, status.c, sort.c, signal.c, sendlib.c, send.c,
	score.c, rfc1524.c, recvattach.c, query.c, postpone.c, pop.c,
	pgppubring.c, pgpkey.c, pgp.c, pattern.c, parse.c, pager.c, mx.c,
	missing, mutt.h, mh.c, menu.c, mbox.c, main.c, lib.c, keymap.c,
	init.c, imap.c, hook.c, help.c, headers.c, handler.c, gen_defs,
	flags.c, edit.c, date.c, curs_main.c, curs_lib.c, copy.c,
	configure.in, configure, config.h.in, compose.c, commands.c,
	color.c, buffy.c, browser.c, attach.c, alias.c, aclocal.m4,
	addrbook.c, acconfig.h, ABOUT-NLS, Makefile.am, Makefile.in:
	Adding gettext support, based on the patch by Marco d'Itri.

	* TODO: add a note about the currently-missing mh_sequences
	support.

	* send.c: Fix the PgpSignMicalg vanishing when recalling
	postponed messages.  Bug squashed by Bjørn Fischer.

1998-09-30 13:56:24  roessler  (roessler)

	* doc/manual.txt, doc/manual.sgml: SGML fix.

	* postpone.c, headers.c: Don't generate a NULL micalg parameter
	when getting postponed messages.

	* functions.h: Removing some superfluous key bindings from
	functions.h.  (From: Gero Treuner <gero@faveve.uni-stuttgart.de>)

	* doc/manual.sgml, init.c: Add some more support for
	version-dependant configuration files.

	* copy.c: When forwarding a mail (nomime_forw) and you have
	forw_quote set, mutt inserts a blank line between header and
	body of the forwarded message.

	* compose.c: Tell the user how to attach messages when using
	the attach-message feature.

	* doc/manual.sgml, pattern.c, mutt.h: Add ~g and ~G patterns
	for PGP signed and encrypted messages.

	* doc/manual.sgml: Documentation for Vikas' latest features.

1998-09-29 15:40:01  roessler  (roessler)

	* status.c: _Really_ fix an unset or too short StChars varialbe.
	(From Vikas.)

	* rfc822.c: Fix a segmentation fault occuring with certain
	badly-formed RFC822-like addresses.

	* hdrline.c: Make status characters work again.

	* doc/manual.txt, doc/manual.sgml: Documenting some more
	variables.

	* Muttrc.in: Add newly added variables to the default system
	muttrc.

	* status.c: Catch short StChars values.

	* mutt.h, init.c, hdrline.c: Add caching for a message's flags.

	* Makefile.in: patch-0.94.7i.rr.charsets_fix.1, from Roland
	Rosenfeld.

	* doc/manual.txt, doc/manual.sgml, configure.in, configure:
	Some nits from Gero Treuner.

1998-09-28 17:40:47  roessler  (roessler)

	* pager.c, curs_main.c: Vikas' pipe-redraw fix.

	* doc/manual.txt, doc/manual.sgml, doc/Makefile.in, GPL, main.c,
	COPYRIGHT, COPYING: A first take at bringing copyright notices
	and credits into synch with reality.

	* reldate.h, configure.in, configure, TODO, Makefile.in,
	ChangeLog: Preparing 0.94.8i.

1998-09-26 10:13:39  roessler  (roessler)

	* mh.c: Changing the index_hint handling for mh folders once
	again.

	* mh.c: Resort the incoming folder from mh_sync_mailbox() also
	when new mail arrived.

1998-09-25 06:56:35  roessler  (roessler)

	* pager.c: patch.mutt-0.94.5i.ld.quote_levels.3-4

1998-09-24 23:19:50  roessler  (roessler)

	* pager.c: A new quote_levels patch from liviu.

	* sendlib.c: Rewrite the base64-encoder used for messages.  This
	should be unified with the encoder in rfc2047.c at some point.

	* pager.c: Undoing Livius quote-levels patch for now.

	* sendlib.c, mutt.h, charset.h, charset.c:
	[patch-0.94.7i.gt.charset-send.1.gz] With the new charset support
	in mutt there are better chances to say whether a mail to send
	consists of characters of the ASCII set only (the charset should
	be "us-ascii" then) or of other characters from the given charset
	(this charset should be given then): ASCII characters have the
	unicode values from 0 to 127.

	* init.c: Fix a segmentation fault with mismatched backticks.

	* init.c: Vikas' merged completion patch, level 3.

1998-09-23 20:01:06  roessler  (roessler)

	* pager.c, mutt_regex.h, init.h: Liviu Daia's smiley patch.

	* status.c, sendlib.c, recvattach.c, protos.h, pager.h, pager.c,
	mutt.h, main.c, init.h, curs_main.c, curs_lib.c, compose.c,
	commands.c: Disable recursive invocations of the attach-message
	function.

	* mh.c: Really fix the index hints.

	* mh.c: Correct the index_hint handling in mh_check_mailbox().

	* sendlib.c: RFC2047-encode the mail-followup-to header.

	* TODO: Remove the maildir/mh resynch entry.

	* pager.c: There is a long-standing problem in Mutt, related to
	coloring the various levels of quoting: if the attributions are
	missing, like this:
		>>> blah blah from A >> blah blah from B > blah blah
		from C

	then the "quoted" color object is associated with ">>>", "quoted1"
	with ">>" and "quoted2" with ">" --- which is not what most people
	expect. The reason is Mutt doesn't count the quote characters
	(since there is no way to distinguish between a single quote ">>
	" and a ">" followed by a "> "), and it allocates colors as it
	finds new types of quote prefixes. The attached patch fixes this
	problem still without counting the quote characters.

1998-09-22 22:54:52  roessler  (roessler)

	* mx.h, mx.c, mutt.h, mh.c, mbox.c, buffy.c: A first take at
	corrected mh/maildir support.

	* mx.c, mh.c: Some fixes and code clean-ups.

	* mutt.h, mh.c, init.h: Introduce the $mh_purge option.

	* sendlib.c: Produce "undisclosed-recipients:;" instead of
	""undisclosed-recipients:;":;" when the user gives no To-Header.

	* mx.c: When generating new messages in MH folders, the initial
	number should be "1", not "2".	Fix from Gero Treuner.

	* init.c: patch-0.94.7i.vikas.jmy.misc_complete.2

1998-09-21 12:49:50  roessler  (roessler)

	* sendlib.c: Avoid a dangling pointer in mutt_message_to_7bit().

1998-09-20 12:05:39  roessler  (roessler)

	* pager.c: Byrial Jensen's bold-underline patch.

1998-09-18 05:45:56  roessler  (roessler)

	* reldate.h, configure.in, configure, ChangeLog: Preparing
	0.94.7i.

	* protos.h, init.c, enter.c: Applying the third generation of
	command completion patches.

1998-09-16 20:08:25  roessler  (roessler)

	* curs_lib.c: Attached is a minor fix to mutt_getch in curs_lib.c
	- as of 0.93.2i, if +'metakey' and 'timeout' were both set,
	mutt_getch was returning an ESC rather than -1, which resulted
	in 'key not bound' messages every 'timeout' seconds.  (From:
	Tim Walberg <walberg@cig.mot.com>)

	* copy.c: [patch-0.94.6i.oe.dprint2.1] Fix a segmentation fault
	when running in -d2 mode.

	* keymap.c: Use <fN> for function keys as well as for other
	special keys.  Additionally, this patch makes it possible to
	use all special keys inside a key _sequence_.

	* sendlib.c, mutt.h, curs_main.c, compose.c:
	Introduce the OPTUSEHEADERDATE pseudo-option to control
	mutt_write_rfc822_header()'s behaviour for the purposes of the
	edit_message feature.

	* init.c: When parsing aliases, don't consider ';' a token
	delimiter.

1998-09-15 21:41:51  roessler  (roessler)

	* init.c: Undoing Vikas' complete patch and applying
	patch-0.94.6i.jmy.cycle_complete.1 instead.

	* handler.c: _Really_ fix CRLF handling.

	* charset.c: Fix the crlf handling.

	* pgppubring.c: UTF8-decode PGP user ID packets.

	* rfc2047.c, mutt.h, lib.c, handler.c, charset.h, charset.c:
	Adding basic UTF-8 support.

	* copy.c: When using mutt_copy_header with CH_TXTPLAIN, generate
	a content-type _with_ a character set parameter.

	* Makefile.in: Correcting a typo in the clean target.

	* handler.c, charset.h, charset.c: Add charset alias support
	and fix various errors in the character set code.

	* charset.c: Fix mutt_display_char to map '\0' to itself
	regardless of the translation table we use.

	* gen-charset.c, configure.in, configure, charset.h, charset.c,
	Makefile.in: Generate the character set tables from i18n files.

	* imap.c: Finally fix imap_quote_string().

	* compose.c: [patch-0.94.6i.gt.arrow.1] Add M_ARROWCURSOR on
	the compose menu.

1998-09-14 21:33:34  roessler  (roessler)

	* imap.c: Fix IMAP quoting.

	* Muttrc.in: Speling corection for Muttrc.in.

	* init.c: [patch-0.94.6.vikas.complete.1] Fix a completion-related
	buffer overflow.

1998-09-13 15:29:54  roessler  (roessler)

	* reldate.h, configure.in, configure, ChangeLog: Preparing
	0.94.6i.

	* sendlib.c, rfc2047.c, recvattach.c, hash.h, gen-charset.c,
	handler.c, configure.in, configure, commands.c, charset.h,
	charset.c, Makefile.in: This patch adds on-demand loading of
	character set tables, changes the default location of $SHAREDIR,
	and fixes some compilation problems occuring on machines without
	PGP installed.

1998-09-12 19:58:56  roessler  (roessler)

	* sendlib.c: Fixing a silly typo in the edit-message code.

	* rfc2047.c, charset.c, charset.h, handler.c, Makefile.in:
	[patch-0.93.2i.ru.mmultiple_charsets.gz] This patch adds support
	for international character sets.  Currently, mutt knows about
	the following character sets and is able to convert between them:

	iso-8859-1, ..., iso-8859-9, koi8-r, windows-1251, x-cp866.

	(From: Ruslan Ermilov <ru@ucb.crimea.ua>)

	* recvattach.c, protos.h, pattern.c, mutt.h, init.c, history.h,
	enter.c, commands.c: When entering a 'set' command on the
	command-line, pressing TAB after string_var= will insert the
	current value of that variable. Note that this works only for
	variables of type 'string'.

	Also fixes the following buglets in command-completion:

	 1. doesnt work if you started the command-line with whitespace

	 2. Seems to think that 'Set', 'ReSeT', etc are valid commands
	 (since it checks for 'strcasecmp' instead of 'strcmp' when
	 completing the variable names Also fixes the following buglets
	 in command-completion:

	(From: Vikas Agnihotri <VikasA@att.com>)

	* enter.c: Use the proper history class when entering mutt
	commands.

	* imap.c: [patch-0.94.5i.jmy.imap_quote.1]

	* sendlib.c, send.c, protos.h, postpone.c, parse.c, mutt.h,
	lib.c, functions.h, curs_main.c, compose.c, OPS: Adding the
	edit-message feature.

	* hdrline.c: [patch-0.94.5.vikas.collapse_format.2] - introduce
	%M for the number of messages which is hidden in a thread.

1998-09-08 19:32:57  roessler  (roessler)

	* TODO: Bogus bug.  Actually, by setting use_mailcap=no, it _is_
	possible to view the header of a single-part message with a
	non-autoview body type.

	* recvattach.c: This patch makes the view attachment menu show
	all message/rfc822 parts as a new level, not only the multipart
	messages. This makes it possible to display a message/rfc822 part
	which includes only a image/jpeg part or something else which cant
	be viewed in the pager.  (From: Jimmy Mäkelä <jmy@flashback.net>)

	* recvattach.c, pgp.c, copy.c: Change the interface of
	pgp_decrypt_mime() to enable this function to do some sanity
	checks.

1998-09-07 20:47:25  roessler  (roessler)

	* recvattach.c: Don't descend into multipart/encrypted on the
	recvattach menu.

	* sendlib.c, recvattach.c, pgp.h, pgp.c, lib.c, handler.c,
	commands.c: [patch-0.94.5i.tlr.pgp_fixes.1] This patch fixes
	various pgp-related issues.  In particular, mutt won't segfault
	when trying to decrypt-save messages from the index, and the
	presence of a PGP-encrypted body part on the attachment menu
	will no longer confuse the MIME parser.

	* curs_lib.c: Clear the "Exit Mutt" prompt.

	* doc/manual.txt, doc/manual.sgml: SGML typo.

	* rfc822.c: Some testing.

	* enter.c: Yet another fix to the alias and query completion
	stuff: Skip leading white space when constructing the addresses.

	* enter.c: Don't use <space> as an address delimiter when using
	query-complete and alias-complete.

	* rfc1524.c: Quote MIME parameters when doing %{MIME-parameter}
	substitution.

	* sendlib.c, recvattach.c, protos.h, pgp.h, pgp.c, pager.c,
	mutt.h, init.h, handler.c, functions.h, curs_main.c, copy.h,
	copy.c, commands.c, OPS.PGP: Introducing decrypt-save,
	decrypt-copy, and $forw{ard,}-decrypt.	Based on work by Emil
	Laurentiu.

	* mbox.c: [patch-0.94.4i.matthewf.writingmessages-fix.1] Fix
	the display when synchronizing mbox mail folders.

	* query.c, protos.h, pattern.c, lib.c, curs_lib.c: Fix simple
	patterns.

	* protos.h, mx.c, browser.c: Put the S_ISLNK definition into
	protos.h.

	* pgp.c: Fixing convert_to_7bit().  From Liviu Daia.

1998-09-06 11:35:34  roessler  (roessler)

	* lib.c: Fixing the quoting of shell specials in
	mutt_expand_fmt().

	* query.c: Change snprintf to mutt_expand_fmt when expanding
	the query command.

	* protos.h, lib.c, attach.c, TODO:
	[patch-0.94.5i.tlr.safe_symlink.1] Introduce safe_symlink()
	for /tmp-safe symlinking in the nametemplate code.

	* reldate.h, configure.in, configure, TODO, ChangeLog: Preparing
	0.94.5i.

1998-09-04 15:53:27  roessler  (roessler)

	* sendlib.c: Catch MIME parameters with p->value == NULL.

	* sendlib.c: Fixing a memory leak in mutt_prepare_envelope().

1998-09-01 06:54:53  roessler  (roessler)

	* imap.c: IMAP fixes from Nathan Neulinger.
	(<19980831170941.A7327@umr.edu> on mutt-dev.)

1998-08-31 16:46:29  roessler  (roessler)

	* send.c: Fix a small problem with Liviu's attach_fcc patch.

	* compose.c: Updating to patch-0.94.4.vikas.attach_message.3.

	* thread.c, protos.h, mutt.h, init.h, hdrline.c, curs_main.c:
	Updating to patch-0.94.4.vikas.collapse.3.

1998-08-29 08:27:02  roessler  (roessler)

	* doc/manual.txt, doc/manual.sgml: Correct an editor key binding
	example.

1998-08-28 19:09:24  roessler  (roessler)

	* send.c, pgp.h, pgp.c: Cleaning up the fcc_attach hack.
	From Liviu.

	* functions.h, browser.c, OPS:
	[patch-0.94.4i.tlr.display_filename.1] Introduce a new function
	"display-filename" which displays the currently selected file's
	name on the message line.

	* attach.c: [patch-0.94.4i.tlr.get_attachment.1-2] Get the
	attachment time stamping business right.

	* protos.h, functions.h, compose.c, attach.c, OPS:
	[patch-0.94.4i.tlr.get_attachment.1] Create a new "get-attachment"
	function on the compose menu which will copy an attachment to
	a temporary file.

	* compose.c: [patch-0.94.4.vikas.attach_message.1] Cleaning up
	some of the attach-message code.

	* thread.c: removing superfluous include statements.

1998-08-27 23:51:58  roessler  (roessler)

	* curs_main.c: code cosmetics.

	* thread.c, sort.c, protos.h, pattern.c, mx.c, mutt.h,
	mbox.c, init.h, hdrline.c, functions.h, curs_main.c, OPS:
	[patch-0.94.4.vikas.collapse.2] Vikas' collapse-thread patch.

	* recvattach.c, postpone.c, mutt.h, lib.c, curs_main.c, browser.c,
	addrbook.c: [patch-0.94.4i.gt.arrowcursor.1] Padding to the end of
	line/right jusitifying does not work in menus when $arrow_cursor
	is set, because the extra space needed for the arrow is not taken
	into account.  (From Gero Treuner <gero@faveve.uni-stuttgart.de>)

	* testmsg, rfc1524.c: [patch-0.94.4i.tlr.shell_quote.1-2] Fix
	a brain-dead segmentation fault when freeing non-allocated memory.

	* doc/mutt.sgml: Mh. This seems to have shown up again while
	cleaning up the CVS branches.

	* sendlib.c, send.c, protos.h, pgp.h, pgp.c: Make $fcc_attach work
	correctly when sending PGP-encrypted messages.	Hack by Liviu.

	* doc/manual.txt, doc/manual.sgml: Document attach_format. (From:
	Gero Treuner <gero@faveve.uni-stuttgart.de>)

	* rfc1524.c, protos.h, pgpinvoke.c, mx.c, lib.c, curs_lib.c:
	[patch-0.94.4i.tlr.shell_quote.1] Try to quote file name arguments
	and the like for shell commands.

	* pgpkey.c: Minor nit: if you enter the wrong key ID at Mutt's
	prompt, Mutt should erase the old value --- otherwise people
	might think it has just hung there. (From Liviu Daia.)

1998-08-26 21:12:23  roessler  (roessler)

	* rfc822.c: Another possible memory leak in rfc822_parse_adrlist.
	The problem and the patch are pretty much the same as with the
	last fix applied to this file - it's just ',' instaed of ';'
	this time.

	* rfc822.c, TODO: [patch-0.94.4i.tlr.rfc822_leak.1] Fixing a
	memory leak in the rfc822_parse_adrlist().

	Some explanations seem to be in order here.  Let's look at
	the code:

	   386	    else if (*s == ';') 387	 { 388	      if
	   (phraselen) 389	  { 390		 phrase[phraselen] = 0;
	   391		add_addrspec (&top, &last, phrase, comment,
	   &commentlen, sizeof (comment) - 1); 392	  } 393
	   else if (commentlen && !last->personal) 394	      { 395
	   comment[commentlen] = 0; 396		 last->personal =
	   safe_strdup (comment); 397	     } 398  #ifdef EXACT_ADDRESS
	   399	      if (last && !last->val)

	Line 399 contains the change; previously, it looked like this:

	   399'       if (last)

	   400		last->val = mutt_substrdup (begin, s); 401  #endif
	   402 403	  /* add group terminator */ 404	cur =
	   rfc822_new_address (); 405	     if (last) 406	  { 407
	   last->next = cur; 408	  last = cur; 409	 } 410 411
	   phraselen = 0; 412	     commentlen = 0; 413	s++;
	   414	      begin = s; 415	    SKIPWS (begin); 416      }

	OK, what happens? There are essentially two situations here:

	-> We have already parsed a complete address specification and
	   know about this fact, but there was no new address information.
	   This is the case if we are parsing through addresses like

		undisclosed-recipients:;

	   or

		recipients: a, b, c,;

	   (Note the extra ',' before the ';'!)

	   In this case, some of the other code in rfc822.c has already
	   filled in last->val, and we really shouldn't overwrite that
	   with a NULL pointer.

	-> The ';' finishes an address spec, like in

		recipients: a;

	   In this case, last is either set by add_addrspec(), or it
	   has already been set by some of the previous code (comment
	   handling, ...).  Anyway, last->val is still NULL, so it is
	   correct to write the complete addr spec to last->val.

	* imap.c: Error message cosmetics.

1998-08-25 22:34:58  roessler  (roessler)

	* doc/mutt.man.in, doc/mutt.man, doc/manual.txt, doc/manual.sgml,
	doc/dotlock.man.in, doc/PGP-Notes.txt, doc/Makefile.in,
	thread.c, status.c, sort.h, socket.c, snprintf.c, sendlib.c,
	send.c, sample.muttrc, rfc822.c, rfc2047.c, rfc1524.h, rfc1524.c,
	reldate.h, recvattach.c, reap.pl, query.c, protos.h, postpone.c,
	pop.c, pgppubring.c, pgp.c, pattern.c, patch.slang-1.2.2.keypad.1,
	parse.c, pager.h, pager.c, mx.h, mx.c, mutt_socket.h, mutt_menu.h,
	mutt.h, mime.h, mh.c, menu.c, mbox.c, main.c, mailbox.h, lib.c,
	keymap.h, keymap.c, init.h, init.c, imap.h, imap.c, hook.c,
	history.h, history.c, help.c, headers.c, hdrline.c, hash.c,
	handler.c, globals.h, functions.h, from.c, enter.c, edit.c,
	dotlock.h, dotlock.c, date.c, curs_main.c, curs_lib.c, copy.c,
	configure.in, configure, config.sub, config.h.in, config.guess,
	compose.c, commands.c, color.c, buffy.c, browser.c, bind.c,
	attach.h, attach.c, alias.c, addrbook.c, acconfig.h, TODO, README,
	OPS, NEWS, Muttrc.in, Makefile.in, INSTALL, Changes, ChangeLog:
	CVS branch clean-up.

	* rfc1524.c, attach.c, TODO: [patch-0.94.4i.tlr.nametemplate.1]
	Fix nametemplate support: We should not move the user's files
	around just to make them match mailcap's idea of their file name.
	This patch uses symbolic links instead.

	* curs_main.c: [patch-0.94.4i.tlr.synch_fault.1] Start up two
	mutts.	Delete the last message in both of them.  Synchronize the
	mailbox in both of them. Segmentation fault.

	* TODO: adding a few notes.

	* commands.c: If you issue "decode-save" on an encrypted message
	without reading it first, Mutt won't prompt you for a passphrase,
	and it will happily write an empty message, deleting the original.
	(From an unnamed colleague of Liviu Daia.)

	* imap.c: [patch-0.94.4i.tlr.imap_newline.2] Use cr nl instead
	of single nl when uploading a message to an imap server.

	* sendlib.c, protos.h, postpone.c, compose.c:
	[patch-0.94.4i.tlr.encoding.1] Fix content-transfer-encoding
	updates when renaming files from the compose menu and when
	recalling postponed messages.

	* imap.c: s/free/FREE/

1998-08-24 19:40:35  roessler  (roessler)

	* TODO, BUGS: Compile BUGS and TODO into a comprehensive issue
	list.

	* BUGS: Clean up the bug list.

	* reldate.h, configure.in, configure, ChangeLog: 0.94.4i.

	* doc/manual.txt, doc/manual.sgml: Documenting $hidden_host.

	* thread.c, curs_main.c: Fix "previous-subthread"
	in reverse-threads mode, allow next-(sub)thread and
	previous-(sub)thread to work in limited mode.  (From: Liviu Daia)

1998-08-23 10:05:41  roessler  (roessler)

	* sendlib.c, send.c, protos.h, mutt.h, main.c, init.h, init.c,
	configure.in, configure, config.h.in, alias.c, acconfig.h,
	INSTALL: [patch-0.94.3i.tlr.hidden_host.1] Replace the
	--enable-hidden-host configure switch by a configuration variable
	$hidden_host which can be changed at run-time.	This variable
	will _not_ affect the generation of message-IDs since we'll get
	into uniqueness problems if we just use the domain here.

	Needs to be documented.

	* doc/manual.txt: Committing the latest manual changes.

	* socket.c, imap.c: [patch-0.94.3.bl.imap_buffy.1-2] Fixing the
	buffered read stuff.

	* mutt_socket.h: branches:  1.1.2; file mutt_socket.h was
	initially added on branch mutt-0-94.

	* mutt_socket.h: Ups, this one was missing from Brandon's
	IMAP patch.

1998-08-22 14:24:18  roessler  (roessler)

	* help.c: [patch-0.94.3i.gt.beautify_help.1.gz] General help
	beautification.  From Gero Treuner.

	* doc/manual.txt, doc/manual.sgml, keymap.h, keymap.c, help.c,
	Muttrc.in: [patch-0.94.3i.gt.description.1] Introduce macro
	descriptions.

	* doc/manual.sgml, init.h, init.c, browser.c: Add a negation
	operator "!" to $mask's syntax (as in the *-hooks).  From Liviu.

	* recvattach.c: Make Vikas' attac_split and Brandon's other_type
	patches fit together.

	* recvattach.c, mutt.h, init.h, globals.h, compose.c:
	[patch-0.94.3.vikas.attach_split.3] Re-introduce attach_split.

	* socket.c: branches:  1.1.2; file socket.c was initially added
	on branch mutt-0-94.

	* socket.c, mx.c, mutt.h, mailbox.h, imap.h, imap.c,
	curs_lib.c, configure.in, configure, buffy.c, browser.c, BUGS:
	[patch-0.94.3.bl.imap_buffy.1] Adding Brandon's IMAP buffy
	support.

1998-08-21 08:17:09  roessler  (roessler)

	* browser.c: Enter the file browser, type a mask which doesn't
	match any file in the current directory, clean the mask.
	Segfault.  Fix from Liviu Daia.

1998-08-20 22:32:46  roessler  (roessler)

	* sendlib.c, recvattach.c, parse.c, mutt.h, mime.h, lib.c,
	handler.c, globals.h, compose.c, commands.c, attach.c, BUGS:
	[patch-0.94.3.bl.other_types.1] This patch adds support for the
	model MIME type.  Additionally, along the lines of "strict in
	what you generate, accepting in what you receive", this patch
	will keep the name of major mime types it doesn't recognize
	(instead of using x-unknown).

	* compose.c, BUGS: [patch-0.94.3i.jmy.attachmessage-fix.1]
	This patch fixes a bug in the allocation of space for new
	pointers to the attachments, it would make mutt seg-fault when
	attaching 5 or more messages at the same time. (From: Jimmy
	Mäkelä <jmy@flashback.net>)

	* handler.c: [SECURITY] mutt_sanitize_filename() should be called
	when creating temporary files for autoview.  (From: Liviu Daia.)

	* sendlib.c, send.c, attach.c: Try this: set $mime_forward,
	forward a PGP-encrypted message, then in the "compose" menu try
	to view the forwarded message. If you didn't enter a passphrase
	before, Mutt won't ask for it either.  (From: Liviu Daia)

	* sendlib.c, attach.c: When you forward a message with
	$mime_forward set, or when you attach a message with the
	"attach-message" command from the "compose" menu, there is a
	memory leak.  The real reason for this leak is that multipart
	attachments are not supported in the "compose" menu, so you
	need to go through quite a few contortions in order to handle
	message/rfc822 attachments.  Consequently, the patch below is
	just an ugly hack.  (From: Liviu Daia)

1998-08-16 06:22:51  roessler  (roessler)

	* rfc822.c: Bringing 128-byte strings to "STRING".

	* sendlib.c: Use add_option, not add_arg, for strings such as
	"--".

	* sendlib.c: Pass an "--" argument to sendmail before the
	address arguments, so addresses with a leading dash don't lead
	to problems. (From Liviu.)

	* sendlib.c, rfc822.c, rfc1524.c, parse.c, mx.c, main.c, lib.c,
	keymap.c, hash.c, handler.c, edit.c, curs_lib.c, alias.c:
	Replacing a bunch of free() and malloc() calls by safe_free()
	and safe_malloc().  (From Liviu.)

1998-08-15 18:27:45  roessler  (roessler)

	* imap.c: read() can't read buffers larger than SSIZE_MAX.

	* hook.c: [patch-0.94.3i.tlr.empty_hook.1] Ignore empty hooks
	instead of segfaulting.

	* protos.h, init.c: [patch-0.94.3i.tlr.history.1] Adding history
	class support.

	* history.h: branches:	1.1.2; file history.h was initially
	added on branch mutt-0-94.

	* history.h: [patch-0.94.3i.tlr.history.1] Adding history class
	support.

	* history.c: branches:	1.1.2; file history.c was initially
	added on branch mutt-0-94.

	* history.c, enter.c, TODO, Makefile.in:
	[patch-0.94.3i.tlr.history.1] Adding history class support.

	* sendlib.c: [patch-0.94.3i.tlr.attach_msg_fmt.1-2] When
	generating a message/rfc822 type attachment, parse its header
	so that the attachment format routines can properly display the
	default description.

	* init.h: Change attach_format's default to limit the attachment
	description's length.

1998-08-13 22:09:16  roessler  (roessler)

	* pgppubring.c: Fixing another memory leak in the pubring parser.

	* recvattach.c, BUGS: [patch-0.94.3i.tlr.attach_msg_fmt.1]
	When parsing the "%d" format option in the attachment format,
	use the message format as a fall-back if no explicit description
	is provided.  This fixes the following bug:

	  set mime_forward. Forward any mesage. The compose menu will
	  show the description as "Forwarded message from ...." which
	  is fine. Pressing 'd' to edit the description brings up the
	  above string for editing.

	  Now hit Enter on the message/rfc822 attachment to view it. Quit
	  out of the pager.

	  The description field has now changed to the Subject: of the
	  forwarded message. Pressing 'd' still brings up the 'Forwarded
	  message from....' string.

	(Noted by Vikas.)

	* doc/manual.txt, doc/manual.sgml, sendlib.c, mutt.h, init.h:
	[patch-0.94.3i.tlr.write_bcc.1] This patch adds an option
	$write_bcc which controls whether the Bcc header is written
	out or not.  This can be used to work around broken MTA's (Exim
	seems to leave Bcc headers in).

	The problem was noted independently by Peter Radcliffe
	<pir@pir.net> and by Dave Holland <dave@zenda.demon.co.uk>
	(Debian Bug #25687).

	* pgppubring.c: [patch-0.94.3i.tlr.pubring_leak.1] Fixing a
	memory leak.  Bug noted by Liviu Daia.

	* reldate.h: 0.94.3i.

	* configure.in, configure, ChangeLog: Preparing 0.94.3i.

	* compose.c: indentation cosmetics.

	* compose.c: Update menu->data when OP_COMPOSE_EDIT_HDRS is
	called.  From Vikas.

	* compose.c: Update the encoding after using ispell from the
	compose menu.  From Vikas.

	* sendlib.c, send.c, protos.h, pgppubring.c, pattern.c, lib.c,
	curs_main.c, compose.c, attach.c: Various nits from Liviu.

	* rfc822.c: Fixing a buffer overflow in rfc822_cat().  tmplen
	could underflow.

	* rfc822.c: Fixing a buffer overflow in rfc822_cat().  A size_t
	variable could underflow, thus making bounds checking value-less.

1998-08-12 11:50:59  roessler  (roessler)

	* init.c: Yet another memory leak fix from Liviu.

	* rfc2047.c: Fixing a stupid buffer overflow plus some flawed
	logic.

	* functions.h, compose.c, OPS: Adding an update-encoding
	function to the compose menu.  This is useful if the user has
	externally modified an attachment and _wants_ to adjust the
	encoding afterwards.  Also, this patch fixes some redraw-related
	problems in the compose menu.

	* sendlib.c, mutt.h, compose.c, BUGS: When changing or deleting
	attachments, the compose menu now notices this and complains or
	asks accordingly.  Partially from Vikas.

1998-08-11 08:14:38  roessler  (roessler)

	* BUGS: Yet another outstanding bug.

	* doc/manual.txt: This now contains the latest changes to
	manual.sgml.

	* sendlib.c, rfc2047.c, rfc1524.c, pgppubring.c, pager.c,
	hdrline.c: Fixing various nits noted by Liviu and his colleagues.

1998-08-10 15:30:02  roessler  (roessler)

	* sendlib.c: This patches makes the message-id persistant when
	postponing messages.  (From: Janos Farkas)

	* doc/manual.sgml, sample.muttrc, lib.c, init.h: This patch
	introduces "unhdr_order" to reset the hdr_order command's effect.
	(From: Janos Farkas)

	* color.c: Drop the free_rx parameter from
	muitt_free_color_line(), as it's always 1.

	* color.c: Adding mutt_free_color_line() and replacing varous
	"manual" free()s of color lines by calls to this function.

	* bind.c: Removing bind.c.  Pointed out by Gero Treuner
	<gero@faveve.uni-stuttgart.de>.

1998-08-09 18:43:45  roessler  (roessler)

	* color.c: With SLang, init_pair is (void), so we must not check
	its return value.

	* color.c: Restructuring color.c.  This patch fixes the "default"
	problem from 0.94.2i and makes the code more comprehensible than
	that version and more consie than 0.94.1i.

1998-08-08 21:40:12  roessler  (roessler)

	* rfc2047.c: Fixing the "=?" detection in rfc2047_encode_string().
	Bug noted by David Jeske <jeske@home.chat.net>.

	* compose.c: If you press t to add a recipient in the compose
	menu, then press tab, q, and aborts with ctrl-g, mutt won't
	redraw the menu.  Noted by Jimmy Mäkelä <jmy@flashback.net>.

	* alias.c: Entering an un-parsable address when creating an alias
	would make mutt segfault.  Noted by brian moore <bem@cmc.net>.

	* browser.c: If you press tab in the file-browser to see the
	inboxes and the current row is greater than the inbox-screens
	max-rows then the screen gets garbled.	(From: Jimmy Mäkelä
	<jmy@flashback.net>)

	* doc/manual.txt, doc/manual.sgml: I made the manual more up
	to date:

	* new version * new mailing list and home page addresses *
	made the terminology a bit more consistent regarding
	  'pattern' and 'regular expression' * added a note about
	expanding UNIX environments * added a note about <, >, in range
	patterns like ~m * added a note about the urlview program *
	changed tables to not use tabs, because it doesn't work
	  right in my favourite web browsers lynx and netscape

	(From: Gero Treuner <gero@faveve.uni-stuttgart.de>)

	* pattern.c: This patch makes pattern ranges more logical. Before
	'~m <5' would show message 1-5, with this patch it shows 1-4.
	Inclusive ranges is still avaible if you use '~m -5'.  (From:
	Jimmy Mäkelä <jmy@flashback.net>)

	* init.c: Various improvements to the mutt_command_complete
	function.  From Stephen Hack <shack@rsn.hp.com>.

	* browser.c: If you specify 'mailboxes ""' mutt will
	seg-fault. (From: Jimmy Mäkelä <jmy@flashback.net>)

	* color.c: Fixing a memory leak.  Thanks, Liviu.

	* commands.c: When printing a message, headers are now sorted
	according to hdr_order.  From Liviu.

	* browser.c: Fixing an off-by-one buffer overflow in browser.c.
	Noted by Liviu.

	* lib.c, attach.c: This patch adds some more "safe"
	characters to mutt_sanitize_filename and fixes its usage in
	mutt_view_attachment().  (From: Liviu Daia <daia@stoilow.imar.ro>)

	* status.c, sort.h, sendlib.c, send.c, query.c, protos.h,
	postpone.c, pager.h, pager.c, mutt_menu.h, menu.c, main.c,
	init.c, headers.c, functions.h, curs_main.c, curs_lib.c,
	compose.c, commands.c, browser.c, addrbook.c, OPS: Adding the
	attach message patch.  From Vikas Agnihotri <VikasA@att.com>.

	* Makefile.in: There is no "compile" rule for dotlock in the
	Makefile.  (From: Dan Nelson <dnelson@emsphone.com>)

	* imap.c: Thispatch to imap.c allows the user to specify
	a port number in the folder name in the general form
	{hostname:portnum}foldername. (From: Andy Sloane
	<andude@guildsoftware.com>)

	* imap.c: imap_close_connection() was being called even though
	the client was using mulitple mailboxes over the same connection.
	(From: Brandon Long <blong@fiction.net>)

1998-07-31 08:23:54  roessler  (roessler)

	* reldate.h, configure.in, configure, ChangeLog: Preparing
	0.94.2i.

	* rfc1524.c: Changing an sprintf to an snprintf (which it was
	meant to be.)

	* protos.h: mutt_sanitize_filename takes char *, not const char *.

	* protos.h, lib.c, attach.c: Introducing mutt_sanitize_filename().
	The code is similar to patch-0.91.1i.tlr.rfc1524_sanitize.1 and
	to Peter Holzer's patch against 0.91.

	* rfc1524.h, rfc1524.c, postpone.c, attach.c: Avoid possible
	buffer overflows in mutt_adv_mktemp().

	* sendlib.c: Interpret sysexits-style exit values from sendmail.

	* configure.in, configure, config.h.in, acconfig.h: Check for
	sysexits.h.

1998-07-30 09:30:38  roessler  (roessler)

	* edit.c: When reading in files, be_snarf_file() wouldn't
	recognize '~' as the user's home directory.

1998-07-29 10:54:09  roessler  (roessler)

	* README, Changes: Finalizing 0.93.2i.

	* configure.in, configure: Bumping to 0.93.2(i).

	* parse.c: Fixing a buffer overflow in parse.c.  Noted by Paul
	Boehm <paul@boehm.org>.

	* parse.c: Fixing a buffer overflow in parse.c which presented
	a serious security thread.  Noted by Paul Boehm <paul@boehm.org>.

1998-07-28 08:21:49  roessler  (roessler)

	* patch.slang-1.2.2.keypad.1: branches:  1.1.2; file
	patch.slang-1.2.2.keypad.1 was initially added on branch
	mutt-0-94.

	* patch.slang-1.2.2.keypad.1, INSTALL: Adding a patch for a
	SLang bug.

	* mx.c: Doing 'mutt -f NoSuchFile' just flickers the screen and
	silently exits. Earlier (0.92.14 at least), it used to spit out
	the error 'NoSuchFile: no such file or directory (errno = 2)'.
	(Noted and tracked down by Vikas Agnihotri <VikasA@att.com>)

	* color.c: The index cache should be updated even without color
	support.

1998-07-27 13:39:39  roessler  (roessler)

	* BUGS: Adding a notice about some more nits.

	* main.c: Change the error reporting mail address from
	<mutt-dev@cs.hmc.edu> to <mutt-dev@mutt.org>.

	* protos.h, init.h, color.c: This patch fixes index "color"
	patterns when using a non-color capable curses library.
	While working on color support, I've thrown together the
	mutt_parse_color() and mutt_parse_mono() functions as they are
	sharing most of their code.  Additionally, a new directive
	called "unmono" is introduced.	The implementation consists
	in adding a flag and very few lines of code (plus ifdefs)
	to mutt_parse_uncolor().

	* snprintf.c, rfc1524.h, rfc1524.c, date.c: Fixing some
	minor nits: missing #includes in date.c and snprintf.c, and
	a not-so-nice declaration of rfc1524_new_entry().  Noted by
	Digital cc and gcc.

1998-07-24 08:12:46  roessler  (roessler)

	* copy.c, attach.c: Fiddling around with message/rfc822
	attachments once again.

1998-07-23 20:57:50  roessler  (roessler)

	* status.c, sendlib.c, send.c, rfc2047.c, pop.c, pager.c,
	mx.c, mh.c, mbox.c, lib.c, init.c, imap.c, edit.c, curs_lib.c,
	compose.c, commands.c, color.c, browser.c, attach.c, alias.c:
	Guard lots of global (char *) variable deferences against NULL
	pointers.

	* copy.c, attach.c: Yet another patch about saving message/rfc822
	attachments.

	* main.c, send.c: Fixing potential NULL pointer deferences.

1998-07-22 22:47:57  roessler  (roessler)

	* recvattach.c: Another fix from Liviu.

	* recvattach.c, from.c, attach.c: Another patch from liviu to
	fix the message/rfc822 behaviour.

	* recvattach.c, mx.c, attach.c: This patch fixes the saving
	of message/rfc822 attachments to mail folders.	Additionally,
	it fixes an outstanding bug with From_ lines being written to
	MH folders.

	(From: Liviu Daia <daia@stoilow.imar.ro>)

	* menu.c, functions.h, browser.c, OPS: 1. When I hit 'c' (change
	   dir) in browser, it gives me the directory, but without
	   the final '/', so I have to add '/' to add a subdirectory
	   name. This patch fixes it.

	2. check-new now will recheck mailbox folders for new mail.

	3. added a function toggle-mailboxes which toggles in browser
	   between mailboxes view and directory view.  (bound to TAB
	   by default).

	(From: "Michael S. Tsirkin" <mtsirkin@iil.intel.com>)

	* reldate.h, configure.in, configure, ChangeLog: preparing
	0.94.1i.

	* send.c: Correcting an error message in send.c.  (From Byrial
	Jensen.)

	* send.c: Correct an error message in send.c.  (From Byrial
	Jensen <byrial@post3.tele.dk>)

	* sendlib.c, recvattach.c, protos.h, postpone.c, pager.c, mx.c,
	mutt.h, lib.c, keymap.c, handler.c, compose.c, commands.c,
	attach.h, attach.c: These changes fix some of the bugs which
	were recently reported to mutt-dev.  To be more specific,
	message-type attachments are saved to mail folders from the
	receive attachment menu, some of the sending code has been
	made more robust against disappearing attachments, and "tag"
	is rebound to "T" on the compose menu.

	(Some part of this patch comes from Vikas Agnihotri
	<VikasA@att.com>.)

	* send.c: Avoid a potential segmentation fault when trying to
	postpone, but Postponed equals NULL.

	* BUGS: branches:  1.1.2; file BUGS was initially added on
	branch mutt-0-94.

	* BUGS: This file is intended to contain known bugs which still
	have to be fixed.

	* doc/manual.txt: Committing the changes previously made to
	manual.sgml.

	* imap.c: Include Message-ID and Reply-To headers when fetching
	a message's headers from an IMAP server.  (From: Andy Sloane
	<andude@incarnate.net>)

1998-07-21 07:54:03  roessler  (roessler)

	* recvattach.c: The old behaviour of the %d (for description)
	specifier is recreated by this patch.  (From: Byrial Jensen
	<byrial@post3.tele.dk>)

	* protos.h, lib.c, attach.c: You should never _ever_ do something
	like this:

	       [process A]  ---[piped write until EOF]---> [process B]
	       [process A]  <---[piped read until EOF]--- [process B]

	Basically, what happens is something like this: A feeds data
	to B; B processes the data, and feeds it to the pipe until the
	pipe buffer is full; at this point, A writes to its pipe until
	its buffer is full too, and if it still has more data to write,
	that's it, it never gets to the read part to flush B's buffer ---
	both processes are blocked on write.

	This patch fixes such a situation in the compose menu.

	(From: Liviu Daia <daia@stoilow.imar.ro>)

1998-07-20 21:01:05  roessler  (roessler)

	* reap.pl: Perl lies in /usr/bin on my machines.

	* pop.c: It seems that if you don't enter any password at all when
	prompted for the POP password, Mutt will die with a segmentation
	fault also.  (Bug reported by Steve Mayer <smayer@rtd.com>
	through the Debian bug tracking system.)

	* pop.c: Just an update on this bug.  It seems that if you don't
	enter any password at all when prompted for the POP password,
	Mutt will die with a segmentation fault also.  (Bug reported by
	Steve Mayer <smayer@rtd.com> via the Debian bug tracking system,
	fix from Thomas Roessler.)

	* postpone.c: When you send a message which have been postponed
	before sending, then all its attachments (if there are more
	than one) will have a content-disposition header which
	includes a filename, even if there isn't a real filename
	but only random choosen temporary one.	(From: Byrial Jensen
	<byrial@post3.tele.dk>)

1998-07-18 09:18:31  roessler  (roessler)

	* recvattach.c: "Set mime_forward, and forward a message ---
	Mutt will segfault." The obvious fix for this is to check
	for aptr->content->hdr in mutt_attach_fmt() before invoking
	_mutt_make_string().  Anyway, I suspect that the real fix may
	involve something like parsing the rfc822 attachment in question.

	* sendlib.c: Postponing messages behaves funny when the $postponed
	folder is in Maildir format; I traced this down to the fact that
	postponed messages are saved in "cur" while mutt_num_postponed()
	is looking at "new".  (From: Liviu Daia <daia@stoilow.imar.ro>)

1998-07-17 08:37:02  roessler  (roessler)

	* compose.c: Removing the old snd_entry() code.

	* doc/manual.sgml, protos.h, pgp.c, mutt.h, init.h, hook.c:
	When sending encrypted messages, it may arrive that Mutt can't
	determine the PGP key of the recipient (presumably because
	her address has changed, but she hasn't updated her PGP key
	yet). In this situation it's convenient to be able to associate
	a keyID with an address automatically.	The attached patch is
	an attempt to implement this idea using a "pgp-hook". (From:
	Liviu Daia <daia@stoilow.imar.ro>).

	* recvattach.c: Removing the old attach_entry() code.

	* recvattach.c, protos.h, mutt.h, init.h, globals.h, compose.c:
	This patch adds a string variable $attach_format which controls
	the look of the compose and attach menus.  Unfortunately,
	I was not able to make things so that it would look exactly
	the same as the hardcoded versions, so the default format is a
	bit different, but I think it is quite usable.	(From Michael
	Elkins <me@cs.hmc.edu>).

	* functions.h, browser.c, OPS: This patch allows you to view
	files from the browser window, useful if you are searching for
	a file to attach to your message. It uses the standard mailcap
	stuff (and the lookup mime types) to use the correct "viewer"
	for the file.  (From Brandon Long <blong@fiction.net>)

	* doc/dotlock.man.in, doc/Makefile.in, configure.in, configure,
	Makefile.in: Dotlock-related changes: We call it mutt.dotlock to
	avoid conflicts with certain NFS versions' dotlocking utilities
	(pointed out by Liviu Daia).  Additionally, we need to compile it
	as an external utility on systems which don't have an fchdir(2)
	system call.

1998-07-16 16:39:53  roessler  (roessler)

	* mx.c: Fixing a small typographic error.

	* mx.c, mx.c: Mutt doesn't retry locking if it doesn't succeed
	at once.  The code in mx_lock_file is supposed to retry but
	it doesn't work because of a mistake in operator precedence.
	(From: Petri Kaukasoina <kaukasoi@elektroni.ee.tut.fi>)

	* dotlock.c: The dotlock.c file tries to include <posix1_lim.h>
	if _POSIX_PATH_MAX isn't defined but it doesn't include
	<limits.h>, where this symbol should be defined.  (From
	Marc.Baudoin@solsoft.com)

	* send.c: When several messages are tagged and the user
	applies reply, group-reply, or list-reply to these messages,
	the reply's references and in-reply-to headers are constructed
	from the tagged message which comes last in the current index.
	This patch constructs the references header from _all_ messages'
	message-id and references headers. (tlr)

	* reldate.h, configure.in, configure, Changes, ChangeLog:
	Preparing mutt 0.94.

	* imap.c: "My two remaining issues are the speed at which it
	downloads the headers, and support of PREAUTH. I'm enclosing
	a patch (to stock mutt-0.92.13i) which addresses these
	issues." (From Brian Marcotte <marcotte@panix7.panix.com>)

	* color.c: This patch fixes two problems reported on mutt-users.

	  (1) the error message about "default colors not supported" when
	  not using a color xterm should not be printed.  The existing
	  code did not check the value of has_colors() in conjunction
	  with use_default_colors()

	  (2) mutt would crash when sending mail in batch mode because
	  use_default_colors() could be used without doing an initscr()

	(From Michael Elkins.)

	* color.c: This patch fixes two problems reported on mutt-users.

	(1) the error message about "default colors not supported" when
	not using a color xterm should not be printed.	The existing
	code did not check the value of has_colors() in conjunction
	with use_default_colors()

	(2) mutt would crash when sending mail in batch mode because
	use_default_colors() could be used without doing an initscr()

	(From Michael Elkins.)

1998-07-15 17:15:46  roessler  (roessler)

	* mx.h, mx.c, main.c, dotlock.h, dotlock.c, configure.in,
	configure, Makefile.in: Finalizing the external dotlock support:
	If group mail privileges are needed, the dotlock is compiled as a
	separate program.  If there is no need for privileges, it remains
	a module which is compiled into mutt. Also, there is no more need
	for the SLang buffer overflow work-around in main().  We drop it,
	but let mutt bail out instead if it's installed setgid something.

	* doc/dotlock.man.in, dotlock.c: Fix the race condition in
	dotlock.c.

	* doc/mutt.man.in: branches:  1.1.2; file mutt.man.in was
	initially added on branch mutt-0-94.

	* doc/mutt.man.in, doc/mutt.man: Putting the manual page under
	autoconf control.

	* doc/dotlock.man.in: branches:  1.1.2; file dotlock.man.in was
	initially added on branch mutt-0-94.

	* doc/dotlock.man.in, doc/Makefile.in, protos.h, mx.c, mbox.c,
	main.c, globals.h: Adding external dotlocking.	For bugs, see
	the manual page and the comments in dotlock.c.

	* dotlock.h: branches:	1.1.2; file dotlock.h was initially
	added on branch mutt-0-94.

	* dotlock.h: Adding external dotlocking.  For bugs, see the
	manual page and the comments in dotlock.c.

	* dotlock.c: branches:	1.1.2; file dotlock.c was initially
	added on branch mutt-0-94.

	* dotlock.c, configure.in, configure, Makefile.in: Adding
	external dotlocking.  For bugs, see the manual page and the
	comments in dotlock.c.

	* doc/mutt.man: More roff fixes.

	* doc/mutt.man: More groff fixes.

1998-07-14 16:01:07  roessler  (roessler)

	* reldate.h: branches:	1.3.2.4.2; Preparing mutt 0.93.1i.

	* configure.in, configure: branches:  1.7.2.5.2; Preparing
	mutt 0.93.1i.

	* Changes: branches:  1.5.2.5.2; Preparing mutt 0.93.1i.

	* ChangeLog: branches:	1.4.2.5.2; Preparing mutt 0.93.1i.

	* rfc2047.c: branches:	1.1.1.1.2.2.2; More unsigned fixes.

	* mime.h: branches:  1.1.1.1.2.1.2; More unsigned fixes.

	* handler.c: branches:	1.1.1.1.2.5.2; More unsigned fixes.

	* pattern.c: branches:	1.3.2.3.2; Changing (int) casts in is*
	arguments to (unsigned char).

	* parse.c: branches:  1.1.1.1.2.3.2; Changing (int) casts in is*
	arguments to (unsigned char).

	* rfc2047.c: Removing a superfluous (unsigned char) cast in an
	IsPrint argument.

1998-07-13 10:50:39  roessler  (roessler)

	* doc/mutt.sgml: Since manual page generation seems to be broken
	in the SGML-tools package, we remove the SGML version of mutt.man
	and make the troff source the master copy.  Suggested by Roland
	Rosenfeld <roland@luv.rhein.de> who also provided the corrected
	mutt.man file.

	* doc/mutt.man: branches:  1.1.1.1.2.2.2; Since manual page
	generation seems to be broken in the SGML-tools package, we
	remove the SGML version of mutt.man and make the troff source the
	master copy.  Suggested by Roland Rosenfeld <roland@luv.rhein.de>
	who also provided the corrected mutt.man file.

	* doc/Makefile.in: branches:  1.2.2.2.2; Since manual page
	generation seems to be broken in the SGML-tools package, we
	remove the SGML version of mutt.man and make the troff source the
	master copy.  Suggested by Roland Rosenfeld <roland@luv.rhein.de>
	who also provided the corrected mutt.man file.

1998-07-12 13:15:31  roessler  (roessler)

	* protos.h: branches:  1.5.2.1.2; Replace calloc by safe_calloc
	in new_pattern.

1998-07-11 05:10:29  roessler  (roessler)

	* doc/manual.txt: branches:  1.2.2.4.2; Key bindings
	documentation.

	* doc/manual.sgml: branches:  1.2.2.5.2; Key bindings
	documentation.

1998-07-10 17:58:26  roessler  (roessler)

	* NEWS: s/fwd_decode/forward_decode/ (Noted by Lars Hecking)

	* pop.c: branches:  1.1.1.1.2.1.2; tmp[] wasn't initialized when
	asking for the POP password.

	* buffy.c: branches:  1.1.1.1.2.1.2; On SunOS 4.1, one must
	include unistd.h in order to declare SEEK_END.	(Fabrice Noilhan)

	* mutt.h: branches:  1.2.2.1.2; include <posix1_lim.h> if limits.h
	doesn't defile _POSIX_PATH_MAX.

	* Changes, ChangeLog: *** empty log message ***

	* doc/PGP-Notes.txt: Adding a notice about core dumps.

	* reldate.h, README: Preparing 0.93i.

	* INSTALL: branches:  1.1.1.1.2.2.2; Preparing 0.93i.

	* handler.c: Fix text/enriched decoding: if there's a tag
	mismatch in the last paragraph in the attachment, the whole
	paragraph wouldn't be displayed.

1998-07-09 19:51:36  roessler  (roessler)

	* configure.in, configure: Use CC -Ae -D_HPUX_SOURCE on HP/UX.

	* config.sub: branches:  1.1.2; file config.sub was initially
	added on branch mutt-0-93.

	* config.sub: Use CC -Ae -D_HPUX_SOURCE on HP/UX.

	* config.guess: branches:  1.1.2; file config.guess was initially
	added on branch mutt-0-93.

	* config.guess, INSTALL: Use CC -Ae -D_HPUX_SOURCE on HP/UX.

1998-07-08 21:59:43  roessler  (roessler)

	* snprintf.c: branches:  1.1.1.1.2.2.2; Changing (int) casts in
	is* arguments to (unsigned char) casts to avoid mis-casting of
	signed chars.  (From Michael Elkins.)

	* pattern.c, parse.c: Changing (int) casts in is* arguments to
	(unsigned char) casts to avoid mis-casting of signed chars.
	(From Michael Elkins.)

	* mx.c: branches:  1.5.2.3.2; Changing (int) casts in is*
	arguments to (unsigned char) casts to avoid mis-casting of
	signed chars.  (From Michael Elkins.)

	* mh.c, lib.c: branches:  1.2.2.2.2; Changing (int) casts in
	is* arguments to (unsigned char) casts to avoid mis-casting of
	signed chars.  (From Michael Elkins.)

	* keymap.c: branches:  1.1.1.1.2.2.2; Changing (int) casts in
	is* arguments to (unsigned char) casts to avoid mis-casting of
	signed chars.  (From Michael Elkins.)

	* init.c: branches:  1.3.2.2.2; Changing (int) casts in is*
	arguments to (unsigned char) casts to avoid mis-casting of
	signed chars.  (From Michael Elkins.)

	* from.c: branches:  1.1.1.1.2.2.2; Changing (int) casts in
	is* arguments to (unsigned char) casts to avoid mis-casting of
	signed chars.  (From Michael Elkins.)

	* edit.c: branches:  1.2.2.2.2; Changing (int) casts in is*
	arguments to (unsigned char) casts to avoid mis-casting of
	signed chars.  (From Michael Elkins.)

	* curs_main.c: branches:  1.4.2.3.2; Changing (int) casts in
	is* arguments to (unsigned char) casts to avoid mis-casting of
	signed chars.  (From Michael Elkins.)

1998-07-07 09:22:40  roessler  (roessler)

	* rfc822.c: branches:  1.1.1.1.2.2.2; Change one int to size_t
	in rfc822.c.

	* rfc822.c: Fix the parsing of route addresses a la RFC 822.
	Patch from Michael Elkins.

	* snprintf.c: Cast the arguments of the is* functions to int.
	Patch from Michael Elkins.

	* sendlib.c: branches:	1.3.2.1.2; Cast the arguments of the is*
	functions to int.  Patch from Michael Elkins.

	* pattern.c, parse.c, mx.c, mh.c, lib.c, keymap.c, init.c,
	from.c, edit.c, curs_main.c: Cast the arguments of the is*
	functions to int.  Patch from Michael Elkins.

1998-07-02 21:15:18  roessler  (roessler)

	* hdrline.c: branches:	1.4.2.3.2; Using the correct version of
	O'Shaughnessy Evans' %O patch.

	* configure.in, configure, Changes, ChangeLog: Preparig 0.92.14i

	* doc/manual.txt, doc/manual.sgml: s/&setmn;/&bsol;/

	* hdrline.c: Adding the %O expansion.

	* doc/manual.sgml: Applying the various manual_nits patches.

1998-07-01 17:01:50  roessler  (roessler)

	* curs_main.c: Fixing a reverse-threading problem.

	* imap.c: branches:  1.3.2.1.2; Fixing an imap-related
	segmentation fault.

1998-06-30 06:38:02  roessler  (roessler)

	* reldate.h, Changes, ChangeLog: These are the last tiny bits
	of preparing 0.92.13i.

	* configure.in, configure: Updating some of the documentation
	for 0.93.

	* TODO: branches:  1.1.1.1.2.1.2; Updating some of the
	documentation for 0.93.

	* README, NEWS: Updating some of the documentation for 0.93.

	* doc/NEWS: *** empty log message ***

	* doc/NEWS: branches:  1.1.2; file NEWS was initially added on
	branch mutt-0-93.

	* doc/NEWS: *** empty log message ***

	* doc/manual.txt: Incorporate the recent changes to manual.sgml.

	* main.c: branches:  1.6.2.1.2; Work around a buffer overflow
	in SLang.  (This is the same bug which is fixed by 0.91.2i.)

1998-06-26 10:31:28  roessler  (roessler)

	* doc/manual.sgml: Removing $empty_to.

	* send.c, init.h: branches:  1.3.2.1.2; Removing $empty_to.

	* globals.h: branches:	1.2.2.1.2; Removing $empty_to.

	* Muttrc.in: branches:	1.1.2.1.2; Removing $empty_to.

1998-06-25 22:31:46  roessler  (roessler)

	* hdrline.c: Moved a break statement where it belongs.

	* mx.c: Fix an imap-related typo.

	* handler.c: Don't generate non-terminated last lines when
	quoting 8bit-"encoded" text-plain body parts.

	* Makefile.in: branches:  1.4.2.1.2; Don't use GNU make specific
	features.

1998-06-21 07:13:03  roessler  (roessler)

	* doc/mutt.man, doc/Makefile.in, reldate.h, configure.in,
	configure, Changes, ChangeLog: Bumping the release to 0.92.12i.

1998-06-20 06:12:38  roessler  (roessler)

	* doc/manual.txt: *** empty log message ***

	* handler.c: Fixing the quoted-printable decoder.

	* handler.c: Make mutt handle messages containing null bytes.

	* copy.c: branches:  1.2.2.1.2; Make mutt handle messages
	containing null bytes.

	* doc/manual.sgml: documenting alias-path

1998-06-19 12:52:16  roessler  (roessler)

	* sendlib.c, send.c: branches:	1.3.2; Removing the Attach-Menu
	feature for the next release version.

	* protos.h: branches:  1.5.2; Removing the Attach-Menu feature
	for the next release version.

	* postpone.c: branches:  1.3.4; Removing the Attach-Menu feature
	for the next release version.

	* pattern.c: branches:	1.3.2; Removing the Attach-Menu feature
	for the next release version.

	* menu.c: branches:  1.3.4; Removing the Attach-Menu feature
	for the next release version.

	* main.c: branches:  1.6.2; Removing the Attach-Menu feature
	for the next release version.

	* headers.c, functions.h: branches:  1.3.4; Removing the
	Attach-Menu feature for the next release version.

	* curs_main.c: branches:  1.4.2; Removing the Attach-Menu feature
	for the next release version.

	* compose.c: branches:	1.5.4; Removing the Attach-Menu feature
	for the next release version.

	* OPS: branches:  1.3.4; Removing the Attach-Menu feature for
	the next release version.

1998-06-18 20:37:59  roessler  (roessler)

	* protos.h: Bradon long's alias_path patch, for the sake of
	Elm compatibility.

	* lib.c: branches:  1.2.2; Bradon long's alias_path patch,
	for the sake of Elm compatibility.

	* alias.c: branches:  1.2.4; Bradon long's alias_path patch,
	for the sake of Elm compatibility.

1998-06-16 20:59:20  roessler  (roessler)

	* mx.c: branches:  1.5.2; Avoid pointless error messages from
	mx_get_magic() when called from an mx_open_mailbox_append()
	on a non-existing mailbox.

	* doc/manual.txt, doc/Makefile.in: branches:  1.2.2; Have "make
	install" install manual.txt as well.

	* configure.in, configure: branches:  1.7.2; Have "make install"
	install manual.txt as well.

	* Makefile.in: branches:  1.4.2; Have "make install" install
	manual.txt as well.

	* doc/Makefile.in, doc/makefile: Putting Makefile under autoconf
	control.

	* main.c: Switch the error reporting address from mutt-users
	to mutt-dev.

	* reldate.h: branches:	1.3.2; Bump the version to 0.92.11i.

	* configure.in, configure: Bump the version to 0.92.11i.

	* Changes: branches:  1.5.2; Bump the version to 0.92.11i.

	* ChangeLog: branches:	1.4.2; Bump the version to 0.92.11i.

	* imap.h: branches:  1.1.4; Check in a proper version of imap.h.

	* color.c: branches:  1.2.2;  1.2.4; Fix the "unknown color"
	bug reported by Vikas.

	* mx.c: Remove a spurious #include "imap.h" from mx.c.

	* doc/style-guide: Add a note about the global Muttrc to
	style-guide.

	* configure.in: The global Muttrc contains a list of default
	settings which can be used as a starting-point for the user's
	own configuration.

	* Muttrc.in: branches:	1.1.2; The global Muttrc contains a list
	of default settings which can be used as a starting-point for
	the user's own configuration.

	* configure, Muttrc, Makefile.in: The global Muttrc contains a
	list of default settings which can be used as a starting-point
	for the user's own configuration.

	* pgppubring.c: branches:  1.4.4; Removing some duplicate code
	from gnupgparse.c and pgppubring.c.

	* pgp.h, gnupgparse.c: Removing some duplicate code from
	gnupgparse.c and pgppubring.c.

	* pgpinvoke.c, gnupgparse.c: Include part of Werner Koch's latest
	GPG patches.

	* Changes: *** empty log message ***

	* configure.in, configure, Changes, ChangeLog: Preparing 0.92.10i.

	* doc/PGP-Notes.txt: branches:	1.2.2; Including Roland's new
	procmail recipe.

	* protos.h, pattern.c, menu.c, curs_main.c, compose.c: Including
	Vikas' search code for the "attach message" menu.

	* addrbook.c: branches:  1.3.4; Including Vikas' search code
	for the "attach message" menu.

1998-06-15 15:19:49  roessler  (roessler)

	* mx.c, main.c: Brandon's IMAP patch.

	* mailbox.h: branches:	1.2.4; Brandon's IMAP patch.

	* imap.c: branches:  1.3.2; Brandon's IMAP patch.

	* commands.c: branches:  1.3.4; Brandon's IMAP patch.

1998-06-08 20:05:54  roessler  (roessler)

	* recvattach.c: branches:  1.3.4; GPG support, first take.

	* pgppubring.c, pgpkey.c, pgpinvoke.c, pgp.h: GPG support,
	first take.

	* pgp.c: branches:  1.2.4; GPG support, first take.

	* main.c: GPG support, first take.

	* init.h: branches:  1.3.2; GPG support, first take.

	* gnupgparse.c: GPG support, first take.

	* init.c: branches:  1.3.2; GPG support, first take.

	* configure.in, configure: GPG support, first take.

	* config.h.in: branches:  1.3.4; GPG support, first take.

	* compose.c: GPG support, first take.

	* acconfig.h: branches:  1.3.4; GPG support, first take.

	* Makefile.in: GPG support, first take.

	* hdrline.c: branches:	1.4.2; Fixing the %a format.

	* hdrline.c: Fixing a segmentation fault in the hdr_line code.

	* doc/pgp-Notes.txt, doc/PGP-Notes.txt: Mutt 0.92.9i.

	* doc/manual.sgml: branches:  1.2.2; Mutt 0.92.9i.

	* sendlib.c, send.c, reldate.h, recvattach.c: Mutt 0.92.9i.

	* query.c: branches:  1.2.4; Mutt 0.92.9i.

	* protos.h, postpone.c, pgppubring.c, pgpkey.c: Mutt 0.92.9i.

	* pager.c: branches:  1.2.4; Mutt 0.92.9i.

	* mx.c: Mutt 0.92.9i.

	* mutt.h, mh.c: branches:  1.2.2; Mutt 0.92.9i.

	* main.c, init.h, init.c, imap.c: Mutt 0.92.9i.

	* hook.c: branches:  1.2.4; Mutt 0.92.9i.

	* headers.c, hdrline.c: Mutt 0.92.9i.

	* globals.h: branches:	1.2.2; Mutt 0.92.9i.

	* functions.h, flags.c: Mutt 0.92.9i.

	* enter.c: branches:  1.2.4; Mutt 0.92.9i.

	* edit.c: branches:  1.2.2; Mutt 0.92.9i.

	* curs_main.c: Mutt 0.92.9i.

	* copy.c: branches:  1.2.2; Mutt 0.92.9i.

	* configure.in, configure, config.h.in, compose.c, commands.c:
	Mutt 0.92.9i.

	* attach.c: branches:  1.2.4; Mutt 0.92.9i.

	* addrbook.c, acconfig.h: Mutt 0.92.9i.

	* README: branches:  1.2.2; Mutt 0.92.9i.

	* OPS, Changes, ChangeLog: Mutt 0.92.9i.

	* doc/language50.txt: branches:  1.1.1; Initial revision

	* doc/language50.txt: * doc/language.txt: branches:  1.1.1;
	Initial revision

	* doc/language.txt: * doc/makefile: branches:  1.1.1; Initial
	revision

	* doc/makefile: * doc/manual.txt: branches:  1.1.1; Initial
	revision

	* doc/manual.txt: * doc/mutt.man: branches:  1.1.1; Initial
	revision

	* doc/mutt.man: branches:  1.1.1.1.2;

	* doc/mutt.sgml: branches:  1.1.1; Initial revision

	* doc/mutt.sgml: branches:  1.1.1.1.2;

	* doc/pgp-Notes.txt: branches:	1.1.1; Initial revision

	* doc/pgp-Notes.txt: * doc/style-guide: branches:  1.1.1;
	Initial revision

	* doc/style-guide: * COPYING: branches:  1.1.1; Initial revision

	* COPYING: * COPYRIGHT: branches:  1.1.1; Initial revision

	* COPYRIGHT: * ChangeLog: branches:  1.1.1; Initial revision

	* ChangeLog: * Changes: branches:  1.1.1; Initial revision

	* Changes: * INSTALL: branches:  1.1.1; Initial revision

	* INSTALL: branches:  1.1.1.1.2;

	* Makefile.in: branches:  1.1.1; Initial revision

	* Makefile.in: * Mush.rc: branches:  1.1.1; Initial revision

	* Mush.rc: * Muttrc: branches:	1.1.1; Initial revision

	* Muttrc: * NEWS: branches:  1.1.1; Initial revision

	* NEWS: branches:  1.1.1.1.2;

	* OPS: branches:  1.1.1; Initial revision

	* OPS: * OPS.PGP: branches:  1.1.1; Initial revision

	* OPS.PGP: * Pine.rc: branches:  1.1.1; Initial revision

	* Pine.rc: * README: branches:	1.1.1; Initial revision

	* README: * TODO: branches:  1.1.1; Initial revision

	* TODO: branches:  1.1.1.1.2;

	* acconfig.h: branches:  1.1.1; Initial revision

	* acconfig.h: * addrbook.c: branches:  1.1.1; Initial revision

	* addrbook.c: * alias.c: branches:  1.1.1; Initial revision

	* alias.c: * attach.c: branches:  1.1.1; Initial revision

	* attach.c: * attach.h: branches:  1.1.1; Initial revision

	* attach.h: branches:  1.1.1.1.4;

	* bind.c: branches:  1.1.1; Initial revision

	* bind.c: branches:  1.1.1.1.4;

	* browser.c: branches:	1.1.1; Initial revision

	* browser.c: branches:	1.1.1.1.4;

	* buffy.c: branches:  1.1.1; Initial revision

	* buffy.c: branches:  1.1.1.1.2;

	* buffy.h: branches:  1.1.1; Initial revision

	* buffy.h: * color.c: branches:  1.1.1; Initial revision

	* color.c: * commands.c: branches:  1.1.1; Initial revision

	* commands.c: * complete.c: branches:  1.1.1; Initial revision

	* complete.c: * compose.c: branches:  1.1.1; Initial revision

	* compose.c: * config.h.in: branches:  1.1.1; Initial revision

	* config.h.in: * configure: branches:  1.1.1; Initial revision

	* configure: * configure.in: branches:	1.1.1; Initial revision

	* configure.in: * copy.c: branches:  1.1.1; Initial revision

	* copy.c: * copy.h: branches:  1.1.1; Initial revision

	* copy.h: * curs_lib.c: branches:  1.1.1; Initial revision

	* curs_lib.c: branches:  1.1.1.1.4;

	* curs_main.c: branches:  1.1.1; Initial revision

	* curs_main.c: * date.c: branches:  1.1.1; Initial revision

	* date.c: branches:  1.1.1.1.4;

	* depend.awk: branches:  1.1.1; Initial revision

	* depend.awk: * doc/manual.sgml: branches:  1.1.1; Initial
	revision

	* doc/manual.sgml: * edit.c: branches:	1.1.1; Initial revision

	* edit.c: * enter.c: branches:	1.1.1; Initial revision

	* enter.c: * filter.c: branches:  1.1.1; Initial revision

	* filter.c: * flags.c: branches:  1.1.1; Initial revision

	* flags.c: * from.c: branches:	1.1.1; Initial revision

	* from.c: branches:  1.1.1.1.2;

	* functions.h: branches:  1.1.1; Initial revision

	* functions.h: * gen_defs: branches:  1.1.1; Initial revision

	* gen_defs: * getdomain.c: branches:  1.1.1; Initial revision

	* getdomain.c: * globals.h: branches:  1.1.1; Initial revision

	* globals.h: * handler.c: branches:  1.1.1; Initial revision

	* handler.c: branches:	1.1.1.1.2;

	* hash.c: branches:  1.1.1; Initial revision

	* hash.c: branches:  1.1.1.1.4;

	* hash.h: branches:  1.1.1; Initial revision

	* hash.h: * hdrline.c: branches:  1.1.1; Initial revision

	* hdrline.c: * headers.c: branches:  1.1.1; Initial revision

	* headers.c: * help.c: branches:  1.1.1; Initial revision

	* help.c: branches:  1.1.1.1.4;

	* hook.c: branches:  1.1.1; Initial revision

	* hook.c: * imap.c: branches:  1.1.1; Initial revision

	* imap.c: * init.c: branches:  1.1.1; Initial revision

	* init.c: * init.h: branches:  1.1.1; Initial revision

	* init.h: * install-sh: branches:  1.1.1; Initial revision

	* install-sh: * keymap.c: branches:  1.1.1; Initial revision

	* keymap.c: branches:  1.1.1.1.2;

	* keymap.h: branches:  1.1.1; Initial revision

	* keymap.h: branches:  1.1.1.1.4;

	* lib.c: branches:  1.1.1; Initial revision

	* lib.c: * mailbox.h: branches:  1.1.1; Initial revision

	* mailbox.h: * main.c: branches:  1.1.1; Initial revision

	* main.c: * mapping.h: branches:  1.1.1; Initial revision

	* mapping.h: * mbox.c: branches:  1.1.1; Initial revision

	* mbox.c: branches:  1.1.1.1.4;

	* menu.c: branches:  1.1.1; Initial revision

	* menu.c: * mh.c: branches:  1.1.1; Initial revision

	* mh.c: * mime.h: branches:  1.1.1; Initial revision

	* mime.h: branches:  1.1.1.1.2;

	* mime.types: branches:  1.1.1; Initial revision

	* mime.types: * mkinstalldirs: branches:  1.1.1; Initial revision

	* mkinstalldirs: * mutt.h: branches:  1.1.1; Initial revision

	* mutt.h: * mutt_curses.h: branches:  1.1.1; Initial revision

	* mutt_curses.h: * mutt_menu.h: branches:  1.1.1; Initial revision

	* mutt_menu.h: branches:  1.1.1.1.4;

	* mutt_regex.h: branches:  1.1.1; Initial revision

	* mutt_regex.h: * mx.c: branches:  1.1.1; Initial revision

	* mx.c: * mx.h: branches:  1.1.1; Initial revision

	* mx.h: branches:  1.1.1.1.4;

	* pager.c: branches:  1.1.1; Initial revision

	* pager.c: * pager.h: branches:  1.1.1; Initial revision

	* pager.h: branches:  1.1.1.1.4;

	* parse.c: branches:  1.1.1; Initial revision

	* parse.c: branches:  1.1.1.1.2;

	* parse.h: branches:  1.1.1; Initial revision

	* parse.h: * pattern.c: branches:  1.1.1; Initial revision

	* pattern.c: * pgp.c: branches:  1.1.1; Initial revision

	* pgp.c: * pgp.h: branches:  1.1.1; Initial revision

	* pgp.h: * pgpinvoke.c: branches:  1.1.1; Initial revision

	* pgpinvoke.c: * pgpkey.c: branches:  1.1.1; Initial revision

	* pgpkey.c: * pgppubring.c: branches:  1.1.1; Initial revision

	* pgppubring.c: * pop.c: branches:  1.1.1; Initial revision

	* pop.c: branches:  1.1.1.1.2;

	* postpone.c: branches:  1.1.1; Initial revision

	* postpone.c: * protos.h: branches:  1.1.1; Initial revision

	* protos.h: * query.c: branches:  1.1.1; Initial revision

	* query.c: * reap.pl: branches:  1.1.1; Initial revision

	* reap.pl: branches:  1.1.1.1.4;

	* recvattach.c: branches:  1.1.1; Initial revision

	* recvattach.c: * reldate.h: branches:	1.1.1; Initial revision

	* reldate.h: * resize.c: branches:  1.1.1; Initial revision

	* resize.c: * rfc1524.c: branches:  1.1.1; Initial revision

	* rfc1524.c: branches:	1.1.1.1.4;

	* rfc1524.h: branches:	1.1.1; Initial revision

	* rfc1524.h: branches:	1.1.1.1.4;

	* rfc2047.c: branches:	1.1.1; Initial revision

	* rfc2047.c: branches:	1.1.1.1.2;

	* rfc2047.h: branches:	1.1.1; Initial revision

	* rfc2047.h: * rfc822.c: branches:  1.1.1; Initial revision

	* rfc822.c: branches:  1.1.1.1.2;

	* rfc822.h: branches:  1.1.1; Initial revision

	* rfc822.h: * sample.mailcap: branches:  1.1.1; Initial revision

	* sample.mailcap: * sample.muttrc: branches:  1.1.1; Initial
	revision

	* sample.muttrc: branches:  1.1.1.1.4;

	* score.c: branches:  1.1.1; Initial revision

	* score.c: * send.c: branches:	1.1.1; Initial revision

	* send.c: * sendlib.c: branches:  1.1.1; Initial revision

	* sendlib.c: * sha.h: branches:  1.1.1; Initial revision

	* sha.h: * sha1dgst.c: branches:  1.1.1; Initial revision

	* sha1dgst.c: * sha_locl.h: branches:  1.1.1; Initial revision

	* sha_locl.h: * signal.c: branches:  1.1.1; Initial revision

	* signal.c: * snprintf.c: branches:  1.1.1; Initial revision

	* snprintf.c: branches:  1.1.1.1.2;

	* sort.c: branches:  1.1.1; Initial revision

	* sort.c: * sort.h: branches:  1.1.1; Initial revision

	* sort.h: branches:  1.1.1.1.4;

	* status.c: branches:  1.1.1; Initial revision

	* status.c: branches:  1.1.1.1.4;

	* strcasecmp.c: branches:  1.1.1; Initial revision

	* strcasecmp.c: * system.c: branches:  1.1.1; Initial revision

	* system.c: * testmsg: branches:  1.1.1; Initial revision

	* testmsg: * thread.c: branches:  1.1.1; Initial revision

	* thread.c: branches:  1.1.1.1.4;

