Mon Aug  9 19:01:42 1999  Thomas Roessler  <roessler@guug.de>

	* po/sk.po, po/uk.po, po/zh_TW.Big5.po, po/ko.po, po/nl.po, po/pl.po, po/ru.po, po/de.po, po/el.po, po/es.po, po/fr.po, po/id.po, po/it.po, po/cs.po:
	update-po.

	* po/zh_TW.Big5.po:
	[stable] Fixing a small typo in the Chinese translation.

	* po/zh_TW.Big5.po, po/uk.po, po/sk.po, po/ru.po, po/pl.po, po/nl.po, po/ko.po, po/it.po, po/id.po, po/fr.po, po/el.po, po/es.po, po/de.po, po/cs.po:
	[stable] Adding the new polish translation; general "make update-po".

	* Muttrc, doc/muttrc.man, doc/muttrc.man.head, main.c, po/zh_TW.Big5.po:
	Various fixes.  Additionally, mutt will now create the $folder
	directory when started in curses mode and if it doesn't exist.

Sun Aug  8 14:57:13 1999  Thomas Roessler  <roessler@guug.de>

	* po/zh_TW.Big5.po: new chinese translation.

	* po/zh_TW.Big5.po: New chinese translation.

	* Makefile.am: Fix order of some dependencies.

	* Makefile.am: Fix keymap_defs.h dependency.

	* po/it.po: Fix a translation string in it.po.

	* po/it.po: Fixing a message.  From Marco.

	* doc/muttrc.man, init.h:
	Include complete documentation regardless of actual features.

	* doc/Attic/manual.sgml.in, doc/Attic/mutt.man.in, doc/manual.sgml.tail, doc/mutt.man, doc/muttrc.man, doc/muttrc.man.head, doc/muttrc.man.tail, contrib/Makefile.in, contrib/gpg.rc, doc/Attic/dotlock.man.in, doc/Makefile.in, doc/devel-notes.txt, doc/dotlock.man, doc/manual.sgml, doc/manual.sgml.head, Attic/Muttrc.in, Makefile.am, Muttrc.head, NEWS, configure.in, init.h, makedoc.c:
	Documentation updates; autogeneration of documentation from init.h.

Wed Aug  4 19:58:13 1999  Thomas Roessler  <roessler@guug.de>

	* NEWS: documentation to prepare the next release.

	* doc/Attic/dotlock.man.in, dotlock.c, dotlock.h, mbox.c, mx.c, mx.h:
	[stable] Fix $save_empty.

	* ChangeLog: ChangeLog.

	* NEWS, protos.h, send.c: Various fixes; documentation.

	* doc/Attic/dotlock.man.in: Document the -d option.

	* dotlock.h, mbox.c, mx.c, mx.h, dotlock.c: Fix $save_empty.

Wed Aug  4 19:49:28 1999  Thomas Roessler  <roessler@guug.de>

	* NEWS, protos.h, send.c: Various fixes; documentation.

	* doc/dotlock.man.in: Document the -d option.

	* dotlock.h, mbox.c, mx.c, mx.h, dotlock.c: Fix $save_empty.

Thu Jul 29 09:17:29 1999  Thomas Roessler  <roessler@guug.de>

	* doc/manual.sgml.in:
	Remove references to the old PGP configuration interface.  Noted by
	Hanno Wagner <wagner@fitug.de>.

	* browser.c, complete.c, enter.c, imap.c, imap.h, main.c, protos.h:
	Brendan Cully's latest IMAP patches.

Wed Jul 28 20:40:49 1999  Thomas Roessler  <roessler@guug.de>

	* doc/manual.sgml.in:
	Fix "lists" documentation.  From Jeremy Blosser <jblosser@firinn.org>.

	* doc/manual.sgml.in:
	Fix the description of the lists command.  Patch provided by Jeremy
	Blosser <jblosser@firinn.org>.

	* doc/PGP-Notes.txt, pgp.h, pgpinvoke.c, init.c, init.h, pgp.c:
	PGP 6 support.

	* charsets/Attic/Makefile.in:
	Portability patch for MiNT, from Guido Flohr
	<gufl0000@stud.uni-sb.de>.

	* doc/manual.sgml.in, doc/mutt.man.in:
	Documentation fixes from Jeremy Blosser.

	* mh.c: Replarse mh message' headers when updating them.

	* mh.c:
	Re-parse mh messages when committing them to disk.  The structure
	may have changed.

	* rfc822.h, commands.c, init.h, pgp.c, pgp.h, pgpinvoke.c:
	Add a hook which enables us to fetch PGP keys from servers on
	demand.  Look out for pkspxy. :-)

	* hdrline.c: Enable the use of %F in conditionals.  From Aaron Schrab
	<aaron+mutt@schrab.com>.

Mon Jul 26 21:04:53 1999  Thomas Roessler  <roessler@guug.de>

	* dotlock.c: impose a hard limit on the number of locking attempts.

	* dotlock.c: Impose a hard limit on dotlock attempts.

	* recvattach.c, gnupgparse.c, pgpinvoke.c:
	Fix an error message.  Also, close Debian bug #37394 for stable.

	* acconfig.h, configure.in: Check for gpgm.

	* recvattach.c:
	Make an error message ready for translation.  From Gero Treuner.

	* Makefile.am:
	Add missing dependencies for pgpring.  Fix from David Ellement
	<ellement@sdd.hp.com>

	* Makefile.am:
	Create keymap_defs.h when it isn't present.  Fix from Lars Hecking
	<lhecking@nmrc.ucc.ie>.

	* Makefile.am:
	Generate keymap_defs.h when it isn't present.  Fix proposed by Lars
	Hecking <lhecking@nmrc.ucc.ie>.

	* doc/manual.sgml.in, handler.c, init.h, mutt.h, parse.c:
	Undo the content-disposition changes.  They don't merge well with
	operations such as printing, and need some more thought.

	* doc/manual.sgml.in, init.h, mutt.h, parse.c, handler.c:
	When an attachment's content-disposition is different from "inline",
	and if the user sets the use_cdisp option, don't auto_view this
	part.

	* ChangeLog: checkpointing.

	* flags.c, protos.h, recvattach.c:
	When replying to message/rfc822 type attachments, Context statistics
	would go out of order.  Problem noted by Johan van Selst
	<johans@stack.nl>.

	* flags.c, protos.h, recvattach.c:
	When replying to a message/rfc822 attachment, the Context statistics
	would get out of order.  Problem noted by Johan van Selst
	<johans@stack.nl>.

	* curs_lib.c:
	Dynamically allocate the unget buffer.  Fixes Debian bug #41042.
	From Gero Treuner.

	* curs_lib.c:
	Dynamically allocate the unget buffer.  Fixes Debian bug #41042.
	From Gero Treuner <gero@faveve.uni-stuttgart.de>.

	* curs_main.c: Fix read_only in folder-hooks.

	* curs_main.c, ChangeLog: The following:

		folder-hook !asdf unset read_only
		folder-hook asdf set read_only

	wouldn't work.  Fix from Gero Treuner <gero@faveve.uni-stuttgart.de>.

	* browser.h, imap.c, imap.h, mx.c, postpone.c, browser.c:
	Assorted IMAP fixes.  From Brendan Cully <brendan@kublai.com>,
	message <19990725150346.A19750@xanadu.kublai.com>.

Mon Jul 26 14:53:01 1999  Thomas Roessler  <roessler@guug.de>

	* flags.c, protos.h, recvattach.c:
	When replying to message/rfc822 type attachments, Context statistics
	would go out of order.  Problem noted by Johan van Selst
	<johans@stack.nl>.

	* flags.c, protos.h, recvattach.c:
	When replying to a message/rfc822 attachment, the Context statistics
	would get out of order.  Problem noted by Johan van Selst
	<johans@stack.nl>.

	* curs_lib.c:
	Dynamically allocate the unget buffer.  Fixes Debian bug #41042.
	From Gero Treuner.

	* curs_lib.c:
	Dynamically allocate the unget buffer.  Fixes Debian bug #41042.
	From Gero Treuner <gero@faveve.uni-stuttgart.de>.

	* curs_main.c: Fix read_only in folder-hooks.

	* curs_main.c, ChangeLog: The following:

		folder-hook !asdf unset read_only
		folder-hook asdf set read_only

	wouldn't work.  Fix from Gero Treuner <gero@faveve.uni-stuttgart.de>.

	* browser.h, imap.c, imap.h, mx.c, postpone.c, browser.c:
	Assorted IMAP fixes.  From Brendan Cully <brendan@kublai.com>,
	message <19990725150346.A19750@xanadu.kublai.com>.

	* parse.c, rfc2047.c, rfc2231.c, rfc2231.h, sendlib.c, Makefile.am, TODO, copy.c, init.h, mutt.h:
	Implement RFC 2231.

Mon Jul 26 13:57:58 1999  Thomas Roessler  <roessler@guug.de>

	* browser.h, imap.c, imap.h, mx.c, postpone.c, browser.c:
	Assorted IMAP fixes.  From Brendan Cully <brendan@kublai.com>,
	message <19990725150346.A19750@xanadu.kublai.com>.

	* parse.c, rfc2047.c, rfc2231.c, rfc2231.h, sendlib.c, Makefile.am, TODO, copy.c, init.h, mutt.h:
	Implement RFC 2231.

	* ChangeLog: *** empty log message ***

	* commands.c:
	Fix a missing #ifdef. From Matt Armstrong <matt@lickey.com>.

	* doc/devel-notes.txt:
	Add some notes.  From Matt Armstrong <matt@lickey.com>.

Mon Jul 26 10:13:38 1999  Thomas Roessler  <roessler@guug.de>

	* commands.c:
	Fix a missing #ifdef. From Matt Armstrong <matt@lickey.com>.

	* doc/devel-notes.txt:
	Add some notes.  From Matt Armstrong <matt@lickey.com>.

Sat Jul 24 14:55:45 1999  Thomas Roessler  <roessler@guug.de>

	* rfc2047.c: Add some sanity checks to the RFC 2047 decoder.
	From "Alexander V. Lukyanov" <lav@yars.free.net>.

Fri Jul 23 06:31:09 1999  Thomas Roessler  <roessler@guug.de>

	* parse.c: There was some code missing about TYPEMODEL.
	Noted by Brian Salter-Duke <b_duke@lacebark.ntu.edu.au>.

Thu Jul 22 14:56:44 1999  Thomas Roessler  <roessler@guug.de>

	* mutt.h: Fix content-type's widths.

Wed Jul 21 13:02:12 1999  Thomas Roessler  <roessler@guug.de>

	* recvattach.c: When forwarding or replying to attachments,
	use the proper time stamp for From_ lines of Fccs.  Note:
	This code may need some clean-up, it's horribly slow.

	* buffy.c: Fix compilation problem for non-imap systems.

	* compose.c: *grr* avoid a warning about /* in a comment.

	* compose.c: call mutt_update_encoding() after changing an
	attachment's content type.

Tue Jul 20 20:09:13 1999  Thomas Roessler  <roessler@guug.de>

	* send.c, sendlib.c, protos.h:
	Use $from for resent-from headers when bouncing messages.

	* imap.c: Fix from Gero Treuner.

	* init.c:
	Fix value completion for DT_ADDR variables.  While we are on it,
	proper quoting is added.

	* init.h, send.c, alias.c, globals.h, init.c:
	As Aaron Schrab noted, patch-0.95.6.tlr.reverse_name.1 broke the use
	of my_hdr from send-hooks.  This patch introduces a new variable
	$from which can be used to use a default sender address; to make
	this possible, a new variable class DT_ADDR is defined.

	We now have the following algorithm for determining the from
	address:

	- $from is used as the default from address, if defined.  Otherwise,
	  the local user name and (if the user wishes so) the local domain
	  are used.
	- This address can be overridden by $reverse_name, if set.
	- Now, send-hooks are evaluated.
	- Afterwards, user headers are evaluated.  In this step, the from
	  header can be overridden using my_hdr From:.
	- When there is no real name, $realname is used for it.  Note that,
	  when the default from header is used and $from defines a real
	  name, it takes precedence over $realname.

	* buffy.c, complete.c, imap.c, imap.h: Bugs fixed
	* Mutt sometimes forgets that IMAP folders with new mail have new
	  mail.
	* On some common IMAP servers, Mutt erroneously insists that the
	  current folder has new mail.
	* Mutt constantly polls the server for new messages,
	  disregarding the imap_checkinterval option.

	New features
	* tab-completion of IMAP folders. Not yet namespace aware, though it
	  will work within an alternate namespace (eg won't complete #ft ->
	  #ftp, but will complete #ftp/pu -> #ftp/pub). Some tweaking of the
	  browser was necessary to get it to cooperate with completion.
	  Some remains to be done.

	(From: From: Brendan Cully <brendan@kublai.com>)

	* doc/manual.sgml.in, globals.h, init.h, send.c, Muttrc.in:
	Remove the $in_reply_to configuration variable.

	* doc/manual.sgml.in, globals.h, init.h, send.c, Muttrc.in:
	Remove the $in_reply_to configuration variable and always use the
	message-ID for that header.

	* pgp.c: patch-0.95.6.pgperror.1

	* po/de.po, curs_main.c, pager.c:
	patch-0.95.6.gettext.1.gz, from Gero Treuner.

	* pager.c: patch-0.95.6.search_in_help.1, from Gero Treuner.

	* po/sk.po: New sk translation.

	* alias.c, enter.c: patch-0.95.6.alias_compl.1.gz, from Gero Treuner

Mon Jul 19 19:18:05 1999  Thomas Roessler  <roessler@guug.de>

	* configure.in, pgppubring.c:
	Fix compilation problems with SunOS 4.  From Lars Hecking.

	* po/sk.po: new sk translation.

	* buffy.c:
	Consider empty folders to be non-existent for buffy's purposes.

Tue Jul  6 22:57:08 1999  Thomas Roessler  <roessler@guug.de>

	* send.c, sendlib.c, signal.c, system.c, curs_lib.c, curs_main.c, globals.h, menu.c, mutt.h, pager.c, pattern.c, protos.h, attach.c, commands.c, compose.c:
	Applying Liviu Daia's signal handling patches.  They work fine with
	unstable for months now, so we may wish to use them with stable.

	* po/zh_TW.Big5.po, po/el.po, configure.in:
	Greek and Chinese translations for unstable.

	* po/zh_TW.Big5.po: Chinese translation for stable.

	* po/zh_TW.Big5.po:
	file zh_TW.Big5.po was initially added on branch mutt-1-0-stable.

	* configure.in: Adding chinese (big5) translation.

	* po/el.po: Adding greek translation from Fanis <madf@geocities.com>.

	* po/el.po: file el.po was initially added on branch mutt-1-0-stable.

	* configure.in:
	Adding greek translation from Fanis <madf@geocities.com>.

	* mx.c, mx.h, parse.c, pop.c, postpone.c, protos.h, recvattach.c, sendlib.c, attach.c, buffy.c, copy.c, lib.c, mailbox.h, mh.c:
	New mh and maildir folder writing code.  Back-port from unstable.

	* color.c: Fix color problem noted by Todd Larson.  From unstable.

	* color.c: Fixing a string buffer problem noted by Todd Larason
	<jtl@molehill.org>.

	* imap.c: Try creating an IMAP folder before writing to it.  Hack from
	"Neulinger, Nathan R." <nneul@umr.edu>.

	* contrib/pgp5.rc, contrib/pgp2.rc: Fix various bugs.

Thu Jul  1 11:22:22 1999  Thomas Roessler  <roessler@guug.de>

	* contrib/gpg.rc: Fix gpg invocation.  Noted by Werner Koch.

	* mx.c: Fix a small imap-related bug.

	* recvattach.c, sendlib.c, buffy.c, copy.c, curs_lib.c, globals.h, gnupgparse.c, hdrline.c, init.c, init.h, lib.c, lib.h, mailbox.h, mh.c, mutt.h, mx.c, mx.h, parse.c, pattern.c, pgpkey.c, pgppubring.c, pop.c, postpone.c, protos.h, attach.c:
	Various patches from last week, including:

	- new mh/maildir access code.
	- subscribe/unsubscribe
	- various fixes.

Mon Jun 14 21:20:42 1999  Thomas Roessler  <roessler@guug.de>

	* mutt.h, parse.c, sendlib.c:
	- Handle CRLF properly in non-text MIME parts.
	- Correctly parse attachments with CRLF line endings, but without a
	  trailing CRLF.

	* alias.c, enter.c:
	Completion fixes from Gero Treuner <gero@faveve.uni-stuttgart.de>.

Thu Jun 10 09:30:39 1999  Thomas Roessler  <roessler@guug.de>

	* alias.c, commands.c, curs_main.c, pager.c, protos.h:
	Use the same address with take-alias and display-address.

Wed Jun  9 17:17:53 1999  Thomas Roessler  <roessler@guug.de>

	* recvattach.c: Fix the fix.  Most of it was wrong.

	* recvattach.c: There was bogus bug-fixing in the last fix.

	* recvattach.c: Fix attachment forwading.  Same problem as in unstable.

	* recvattach.c:
	Fix attachment forwarding.  The leading newline for certain MIME
	boundaries was missing.  *grrrr*

	* send.c: Give reverse_name precedence over my_hdr From:

Tue Jun  8 18:30:42 1999  Thomas Roessler  <roessler@guug.de>

	* acconfig.h, configure.in, pgppubring.c, protos.h:
	Portability patches for SunOS 4.1.  From Lars Hecking.

	* curs_main.c: Fix "Tab" behaviour when returning from the pager.

	* mutt.h, pattern.c, send.c, sendlib.c, commands.c, copy.c, copy.h, handler.c, imap.c, attach.c:
	Don't do charset conversions when they aren't necessary.

	Back-port from unstable.

	* pgp.c, pgpinvoke.c, pgpkey.c, pgplib.h, pgppubring.c, recvattach.c, Makefile.am, commands.c, compose.c, configure.in, hdrline.c, init.c, init.h, mutt.h:
	- Add a $weed option.
	- Add out-of-band reporting of signature status.

Thu Jun  3 21:48:24 1999  Thomas Roessler  <roessler@guug.de>

	* curs_main.c: Another header weeding change.  Experimental.

	* commands.c, init.h, mutt.h, send.c:
	Experimental: Use OPTWEED for _all_ header weeding throughout mutt.

	* contrib/Makefile.in, Makefile.am, NEWS, VERSION, reldate.h, ChangeLog:
	post-release commit 0.96.3.

	* po/uk.po, po/sk.po, po/ru.po, po/pl.po, po/nl.po, po/ko.po, po/it.po, po/id.po, po/fr.po, po/es.po, po/de.po, po/cs.po, gnupgparse.c, reldate.h, NEWS, VERSION, ChangeLog:
	release commit 0.95.6.

	* po/pl.po, po/ko.po, po/fr.po, po/de.po, po/cs.po: Latest chagnes.

	* doc/PGP-Notes.txt, contrib/pgp2.rc, contrib/pgp5.rc, pgppubring.c:
	Hardwire some mechanisms for finding secret and public key-rings.
	This way, we need to hard-wire less stuff in the various
	configuration files, making the use of PGP with mutt a bit simpler
	again.

Thu Jun  3 20:13:22 1999  Thomas Roessler  <roessler@guug.de>

	* po/pl.po, po/ko.po, po/fr.po, po/de.po, po/cs.po: Latest chagnes.

	* doc/PGP-Notes.txt, contrib/pgp2.rc, contrib/pgp5.rc, pgppubring.c:
	Hardwire some mechanisms for finding secret and public key-rings.
	This way, we need to hard-wire less stuff in the various
	configuration files, making the use of PGP with mutt a bit simpler
	again.

	* contrib/pgp2.rc: Another little fix.

	* contrib/pgp2.rc:
	ups, wrong order of arguments when verifying signatures.

	* doc/PGP-Notes.txt: Document the new PGP configuration interface.

	* contrib/gpg.rc, contrib/pgp2.rc, contrib/pgp5.rc, pgp.c, pgp.h, pgpewrap, pgpinvoke.c, pgpkey.c, pgplib.c, pgplib.h, pgppubring.c, Makefile.am, compose.c, configure.in, gnupgparse.c, init.c, init.h, mutt.h:
	Experimental: New PGP invocation interface. The invocations are done
	through formats, so all this should fit more cleanly into mutt now.

Wed Jun  2 18:52:19 1999  Thomas Roessler  <roessler@guug.de>

	* Makefile.am, extlib.c, init.c, lib.c, lib.h, mutt.h, muttlib.c, protos.h:
	Major cutting & pasting: We now have a "real" library in lib.c which
	can be linked against external programs without much effort.

	* po/ko.po, po/pl.po, po/es.po, po/it.po, po/de.po: various updates.

Tue Jun  1 14:52:09 1999  Thomas Roessler  <roessler@guug.de>

	* flags.c, mh.c, curs_main.c:
	Back-porting the maildir fixes from 0.96.2.

Mon May 31 16:11:32 1999  Thomas Roessler  <roessler@guug.de>

	* VERSION: Preparing pre-release for 0.95.6.

	* po/uk.po, po/sk.po, po/ru.po, po/pl.po, po/nl.po, po/ko.po, po/it.po, po/id.po, po/fr.po, po/es.po, po/de.po, po/cs.po:
	translation updates

	* hook.c, pattern.c, pgp.c, send.c: Backporting fixes from unstable.

	* pattern.c, pgp.c, send.c, hook.c: Minor bug-fixes.

Fri May 21 15:55:27 1999  Thomas Roessler  <roessler@guug.de>

	* po/ko.po: Adding the Korean translation.

	* configure.in, po/ko.po: Korean translation.

Tue May 18 19:22:55 1999  Thomas Roessler  <roessler@guug.de>

	* imap.c: Latest IMAP fixes from Brandon.

	* imap.c:
	The current code wasn't asking for the capabilities of the server in
	the case where the user is using PREAUTH.

	* imap.c:
	The current IMAP code wasn't asking for the capabilities of the
	server in the case where the user is using PREAUTH.

Sun May 16 06:26:11 1999  Thomas Roessler  <roessler@guug.de>

	* po/it.po: New IT translation.

	* pgpkey.c:
	Add a couple of token delimiters when constructing hints.  This way,
	addresses like "Chr. xyz" <xyz@foo.bar.baz> will match key IDs like
	xyz <xyz@bar>.

	* handler.c: Fix base64 decoding.

Thu May  6 08:29:17 1999  Thomas Roessler  <roessler@guug.de>

	* curs_main.c, flags.c, mh.c: Fixing more maildir cursor problems.

Wed May  5 20:33:57 1999  Thomas Roessler  <roessler@guug.de>

	* imap.c: The latest IMAP fixes.

	* imap.c: Fixing imap_check_mailbox().  From Brandon Long.

	* imap.c: Mutt would lose user-set "N" flags.

Mon May  3 16:17:29 1999  Thomas Roessler  <roessler@guug.de>

	* gnupgparse.c: gnupg gives reasonable trust values now.

	* po/uk.po, po/sk.po, po/ru.po, po/pl.po, po/nl.po, po/it.po, po/id.po, po/fr.po, po/es.po, po/de.po, po/cs.po, keymap.c, menu.c, send.c:
	Various fixes from last week.

	* keymap.c, menu.c, pgpkey.c, send.c: Various fixes.

Fri Apr 23 09:01:42 1999  Thomas Roessler  <roessler@guug.de>

	* reldate.h: ups, this should also be updated for 0.95.5 final.

	* ChangeLog: preparing the final 0.95.5.

	* po/uk.po, po/sk.po, po/ru.po, po/pl.po, po/nl.po, po/it.po, po/id.po, po/fr.po, po/es.po, po/de.po, po/cs.po:
	New translations and typo fixes.

	* OPS: Fix a documentation typo.

	* po/de.po: translation fixes from Roland and Gero.

Thu Apr 22 10:21:41 1999  Thomas Roessler  <roessler@guug.de>

	* doc/manual.sgml.in: Document %_.

	* menu.c: Fix redraws.  Back-port from unstable.

	* lib.c: Add "_" as an expando option.

	* imap.h, init.h, mutt.h, mutt_socket.h, socket.c, imap.c:
	IMAP update from Brandon Long.

	* send.c: Fix FCC-related SNAFU in the ci_send_message() spaghetti.

Tue Apr 20 19:26:28 1999  Thomas Roessler  <roessler@guug.de>

	* sendlib.c: [stable] fix timezone snafu.

	* sendlib.c: Fix a time zone snafu.

	* po/ru.po, po/sk.po, po/uk.po, po/fr.po, po/id.po, po/it.po, po/nl.po, po/pl.po, po/cs.po, po/de.po, po/es.po, VERSION, reldate.h, ChangeLog:
	Preparing 0.96.2.

	* po/uk.po, po/sk.po, po/ru.po, po/pl.po, po/nl.po, po/id.po, po/it.po, po/fr.po, po/es.po, po/de.po, po/cs.po, VERSION, reldate.h, ChangeLog:
	preparing 0.95.5

Mon Apr 12 21:02:35 1999  Thomas Roessler  <roessler@guug.de>

	* recvattach.c: more multipart/alternative handling.

	* recvattach.c: Change multipart handling when receiving messages.

	* compose.c: Clean-up, from Vikas.

Mon Apr 12 21:02:35 1999  Thomas Roessler  <roessler@guug.de>

	* recvattach.c: more multipart/alternative handling.

	* recvattach.c: Change multipart handling when receiving messages.

	* compose.c: Clean-up, from Vikas.

Mon Apr 12 21:02:35 1999  Thomas Roessler  <roessler@guug.de>

	* recvattach.c: more multipart/alternative handling.

	* recvattach.c: Change multipart handling when receiving messages.

	* compose.c: Clean-up, from Vikas.

	* parse.c: typo.

	* parse.c:
	us-ascii is the default character set for text attachments we receive.

	* compose.c, sendlib.c:
	Fix default character set setting when attaching text files.

	* imap.c:
	Fix an IMAP quoting problem.  Essentially from Randall Nortman
	<rnortman@computer.org>.

	* po/sk.po, po/id.po, configure.in: new languages: id, sk.

	* po/id.po, po/sk.po, configure.in: New translations: id, sk.

Wed Mar 31 06:35:03 1999  Thomas Roessler  <roessler@guug.de>

	* charset.c: Stupid error.

	* charset.c, charset.h: Another small charset optimization.

	* charset.h, handler.c, charset.c:
	A couple of optimizations, most notably for the special case of a
	non-prefix state.

Tue Mar 30 23:50:33 1999  Thomas Roessler  <roessler@guug.de>

	* charset.c, charset.h, handler.c:
	This patch removes at least some of the horrible utf-8 kluges in
	charset.c.  The new DECODER framework is currently only used in
	handler.c, and there in a horribly inefficient manner.  We should
	use greater blocks of data, which would be much more efficient than
	what we are currently doing.

	Most of the other charset-related code still uses the old
	mutt_display_char() &friends interface, which is actually ok as long
	as you don't try to handle multibyte character sets.

	The most notable change should be the one to mutt_get_translation():
	It will delay the loading and parsing of character set information
	files until it's really needed, catching a huge amount of standard
	cases.  As a side effect, this will make "iso tagged as ascii"
	"work" again, as long as both sides use the same iso character set.

	* send.c:
	resort headers when forward-decoding them with weed switched on.

	* pager.c: Fix a pager failure for long messages. From Liviu.

	* pager.c:
	Fix pager failure for long messages, changing two shorts to ints.
	From Liviu Daia.

	* recvattach.c:
	Add some user feedback to attachment forwarding.  From Vikas.

Thu Mar 25 19:46:52 1999  Thomas Roessler  <roessler@guug.de>

	* doc/manual.sgml.in, init.h, pgpkey.c, sort.h, Muttrc.in, init.c:
	Roland's sort_keys patch.

Wed Mar 24 20:35:38 1999  Thomas Roessler  <roessler@guug.de>

	* doc/manual.sgml.in, Muttrc.in, recvattach.c:
	Vikas' latest version of attachment forwarding.

	* recvattach.c: patch-0.96.1.vikas.forward_attachment.2

	* main.c:
	Only exit with "no recipients specified", when $auto_edit is set.

Tue Mar 23 20:21:50 1999  Thomas Roessler  <roessler@guug.de>

	* postpone.c, recvattach.c, init.h, mutt.h:
	Vikas' forward_attachment patch.

Mon Mar 22 16:00:39 1999  Thomas Roessler  <roessler@guug.de>

	* doc/manual.sgml.in, pgppubring.c, gnupgparse.c, pgp.h, pgpkey.c:
	PGP key creation time fix by Roland Rosenfeld.

Wed Mar 17 14:45:10 1999  Thomas Roessler  <roessler@guug.de>

	* recvattach.c: Vikas' attach_tag patch.

Tue Mar 16 21:42:06 1999  Thomas Roessler  <roessler@guug.de>

	* thread.c, configure.in: bug fixes.

	* thread.c: Detect thread loops.

Mon Mar 15 15:32:19 1999  Thomas Roessler  <roessler@guug.de>

	* doc/manual.sgml.in, copy.c, init.h, mutt.h, sendlib.c:
	Add $bounce_delivered.

	* edit.c: another digital unix compile problem.

	* main.c: _Fix_ the compile problems, don't install new ones.

	* send.c: Cleanly handle fcc when the user unsets it and the message is
	postponed.

	* main.c: Fix compilation problems under digital unix.

	* configure.in: Fix sendmail autodetection.

	* color.c: Fix colorN, N > 7 for Slang's curses emulation. From Vikas.

Tue Mar  9 13:34:52 1999  Thomas Roessler  <roessler@guug.de>

	* menu.c: another menu.c fix from Kim DeVaughn.

	* send.c, menu.c, handler.c: Fixes.

	* send.c, menu.c, handler.c:
	handler.c: Properly handle message/external-body expiry.
	menu.c: Small fix from Liviu.
	send.c: Honor confirm_create for FCCs.
	cvs: ----------------------------------------------------------------------

Thu Mar  4 08:00:38 1999  Thomas Roessler  <roessler@guug.de>

	* Makefile.am: post-postrelease commit.

Wed Mar  3 20:06:33 1999  Thomas Roessler  <roessler@guug.de>

	* rfc2047.c: ups.

	* po/uk.po, po/ru.po, po/pl.po, po/nl.po, po/it.po, po/fr.po, po/es.po, po/de.po, po/cs.po, ChangeLog:
	releasing 0.95.4.

	* sendlib.c, rfc2047.c, reldate.h, curs_main.c, VERSION, ChangeLog:
	releasing 0.96.1.

	* reldate.h, regex.c, VERSION, Makefile.am, ChangeLog:
	release preparations; back-port a couple of things from unstable.

	* curs_main.c: Vikas' resort_index.3.

	* sendlib.c, imap.c, from.c, curs_main.c:
	from.c: Backport from unstable.
	others: latest imap related patches.

Wed Mar  3 19:44:24 1999  Thomas Roessler  <roessler@guug.de>

	* reldate.h, regex.c, VERSION, Makefile.am, ChangeLog:
	release preparations; back-port a couple of things from unstable.

	* curs_main.c: Vikas' resort_index.3.

	* sendlib.c, imap.c, from.c, curs_main.c:
	from.c: Backport from unstable.
	others: latest imap related patches.

Tue Mar  2 22:13:30 1999  Thomas Roessler  <roessler@guug.de>

	* curs_main.c, charset.c: Some small fixes from Vikas.

	* parse.c, init.h, imap.c, globals.h:
	Brandon Long's latest  IMAP fixes.

	* parse.c: Latest IMAP-related fix from Brandon Long.

	* thread.c:
	Correctly handle messages which have themselves in their references
	header.

	* thread.c:
	Properly handle messages which have themselves in "References".

Sun Feb 28 08:30:19 1999  Thomas Roessler  <roessler@guug.de>

	* rfc822.c: Fix a memory leak.  From Liviu.

	* rfc822.c: Fix a memory leak. From Liviu.

	* rfc1524.c, mutt.h, lib.c, attach.c:
	Fix the $TMPDIR raace noted by Hamish Moffat.

	* rfc1524.c, mutt.h, lib.c, attach.c: Fix a $TMPDIR race condition.

	* po/uk.po, po/ru.po, po/pl.po, po/nl.po, po/it.po, po/fr.po, po/es.po, po/de.po, po/cs.po:
	post-snapshot commit.

Fri Feb 26 15:42:07 1999  Thomas Roessler  <roessler@guug.de>

	* doc/manual.sgml.in, send.c, regex.c, mutt.h, init.h:
	Adding pgp_replyencrypt.

Thu Feb 25 06:58:01 1999  Thomas Roessler  <roessler@guug.de>

	* from.c:
	parse some more from_ lines.  Before, there were problems with cases
	like this:

	>From <@x400host:"/G=Bob/S=Allinson/CN=Has embedded spaces/OU=X400HOST/
	>OU=xxxx/O=xxx/PRMD=xxxxx/ADMD=XXXXXX/C=GB/"@x400host>
	>Tue Feb 23 09:44:52 1999

	Problem noted by johnm@sirius3.demon.co.uk

Tue Feb 23 20:38:49 1999  Thomas Roessler  <roessler@guug.de>

	* imap.c: fix a segfault. From Brandon.

Mon Feb 22 12:37:43 1999  Thomas Roessler  <roessler@guug.de>

	* curs_main.c: Vikas' latest collapse fix.

	* curs_main.c: collapse fix from Vikas.

	* mbox.c, imap.c:
	Avoid reading past actual headers when reopening mailboxes.  From
	Daniel Eisenbud.

	* mbox.c, imap.c:
	Avoid reading past the end of actual headers when reopening folders.
	From Daniel Eisenbud.

	* pgp.c: Don't override base64 by quoted-printable.

	* menu.c: replace clear() by clrtobot().

	* pgp.c:
	Currently, PGP signing messages will force quoted-printable encoding
	even if we should use base64.

Fri Feb 19 07:38:17 1999  Thomas Roessler  <roessler@guug.de>

	* sendlib.c: Don't qp-encode multiparts. ugh.

	* sendlib.c: ... message and multipart, not just message.

	* sendlib.c, mutt.h, init.h:
	Add $encode_from: This option causes mutt to trigger
	quoted-printable encoding for any non-multipart attachments which
	have ^From at the beginning of a line.  Note that we don't trigger
	on ^From_ since either procmail or sendmail is >-escaping on ^From,
	and note that this won't help against sites where sendmail has the
	'9' flag set on the local mailer, as these sites will inevitably
	transform to 8bit (sic!).

Thu Feb 18 23:14:36 1999  Thomas Roessler  <roessler@guug.de>

	* pgp.c, mutt.h, init.h:
	Add retainable signatures.  This should work nicely with encrypted
	mailing lists.

	* mx.c, init.h, globals.h, configure.in, acconfig.h, Makefile.am:
	Introduce $dotlock_program: This makes the mutt_dotlock program's
	location a run-time configuration variable.

	* send.c, mutt.h, init.h:
	Introduce $honor_followup_to.  The user will now be asked whether he
	wants to honor mail-followup-to or not.

	* curs_main.c:
	properly handle OP_FLAG_MESSAGE when applied to tagged messages.

	* po/uk.po, po/ru.po, po/pl.po, po/nl.po, po/it.po, po/fr.po, po/es.po, po/de.po, po/cs.po:
	Updated translations.

	* contrib/sample.mailcap: Fix the text/html entry.

	* regex.c, headers.c, copy.h, configure.in:
	copy.h: Some flags were used with multiple meanings. bad.
	configure.in, regex.c: Make regex autoconfiguration work.
	headers.c: expand aliases on the from header.

	* headers.c: Expand aliases on the From header.

Wed Feb 17 15:48:05 1999  Thomas Roessler  <roessler@guug.de>

	* doc/mutt.man.in: Fix the URL.

	* sendlib.c, init.h: User-Agent, not X-Mailer.

	* po/fr.po: update.

	* copy.h:
	Some of the M_CM flags erroneously had been defined to have the same
	value.  _Very_ bad.

	* contrib/sample.mailcap: Correct the netscape text/html entry.

	* po/uk.po, po/ru.po, po/pl.po, po/nl.po, po/it.po, po/fr.po, po/es.po, po/de.po, po/cs.po, po/Makefile.in.in, sendlib.c, send.c, regex.c, pager.c, mutt.h, init.h, configure.in, acconfig.h, Muttrc.in, Makefile.am:
	- Makefile.am: Fix the dist target to include all necessary files.
	- po/fr.po: New French translation.  (-> stable!)
	- Add the new options to Muttrc.in.
	- regex.c, configure.in: include config.h from regex.c, and handle
	  alloca in a more intelligent way than before. (Currently, we just
	  mis-handle it.)
	  Port this to stable and test it!
	- po/cs.po: update cs.po.
	- po/de.po, po/nl.po: updated versions from Roland and Boris.
	- pager.c: Vikas' grok_ansi fix.
	- po/Makefile.in.in: keymap_defs is always in po/..  - from Lars
	  Hecking.

Fri Feb 12 11:23:17 1999  Thomas Roessler  <roessler@guug.de>

	* po/uk.po, po/ru.po, po/pl.po, po/nl.po, po/it.po, po/fr.po, po/es.po, po/de.po, po/cs.po, reldate.h, ChangeLog:
	post-release commit for 0.95.3.

	* po/nl.po, reldate.h, ChangeLog: post-release commit for 0.96.

Thu Feb 11 22:52:03 1999  Thomas Roessler  <roessler@guug.de>

	* imap.c, VERSION: another imap-related fix.

	* pattern.c: another signal fix from liviu.

Thu Feb 11 22:52:03 1999  Thomas Roessler  <roessler@guug.de>

	* imap.c, VERSION: another imap-related fix.

	* pattern.c: another signal fix from liviu.

	* imap.c: Remove a superfluous if statement.

	* imap.c: ups, that one was bad.

	* imap.c:
	The HEADER structure doesn't have a mailcap component any more.

	* imap.c:
	The HEADER structure doesn't have a mailcap component any more.
	Noted by Johan van Selst <johans@stack.nl>.

	* signal.c, sendlib.c, pattern.c, pager.c, mutt.h, menu.c, globals.h, curs_main.c, curs_lib.c:
	patch.mutt-0.95.1i.ld.signals.1-2.gz

	* po/nl.po: new nl translation.

	* pattern.c, curs_main.c: pattern.c: Collapse patch from Vikas.

	* po/nl.po: New nl translation.

	* pattern.c, curs_main.c:
	curs_main.c: Check whether the user pressed a number before putting
	it back onto the stack.  (OP_JUMP)
	pattern.c: Vikas' latest fix.

	* po/uk.po, po/ru.po, po/pl.po, po/nl.po, po/it.po, po/fr.po, po/es.po, po/de.po, po/cs.po:
	Updating the po files.

	* doc/manual.sgml.in, doc/Makefile.in:
	Install README.SECURITY in the doc directory, document
	mailcap_sanitize.

	* reldate.h, prepare, configure.in, VERSION, Makefile.am, Attic/$output.in:
	Preparing for 0.96: $output.in was real fun in the dist target.
	*argh*

	* po/uk.po, po/ru.po, po/pl.po, po/nl.po, po/it.po, po/fr.po, po/es.po, po/de.po, po/cs.po, doc/manual.sgml.in, doc/Makefile.in, reldate.h, VERSION, NEWS, Makefile.am, ChangeLog:
	[stable] post-release commit for 0.95.2.

	* README.SECURITY: Add a note on how to write mailcap files.

	* README.SECURITY: Add a note on how to write mailcaps.

Wed Feb 10 23:12:27 1999  Thomas Roessler  <roessler@guug.de>

	* browser.c: Ups, this one needed a #ifdef USE_IMAP.

	* imap.c, browser.c:
	Some patches Brandon Long posted to comp.mail.mutt.

	* rfc1524.c, protos.h, lib.c, handler.c, attach.c:
	Fix the security fix.

	* rfc1524.c, mutt.h, lib.c, init.h: [stable] $mailcap_sanitize

	* rfc1524.c, mutt.h, lib.c, init.h: [unstable] $mailcap_sanitize.

	* system.c, signal.c, sendlib.c, send.c, protos.h, mutt.h, globals.h, curs_lib.c, compose.c, commands.c, attach.c, TODO:
	patch.mutt-0.95.1i.ld.signals.1: A major redesign of how child
	processes are invoked.  From Liviu.

Tue Feb  9 23:54:03 1999  Thomas Roessler  <roessler@guug.de>

	* sort.c, mx.c, mutt.h, mh.c, mbox.c, curs_main.c, ChangeLog:
	Vikas' latest collapse fix.

	* prepare: Small prepare bug noted by vikas.

	* pgppubring.c, pgpkey.c, pgp.h, main.c, gnupgparse.c, browser.h:
	browser.h: re-insert the "tagged" component.
	pgp support: fix handling of PGP 5 subkeys, algorithm 20.

	* pgppubring.c: [stable] Alg. 16 is encrypt-only, el-gamal.

	* commands.c:
	honor hdr_order when decode-piping a message.  From Vikas.

	* po/cs.po: New czech translation.

	* commands.c: Reorder headers when decode-piping.

	* po/cs.po, doc/manual.sgml.in, socket.c, mx.c, mutt_socket.h, mutt.h, menu.c, init.h, imap.h, imap.c, functions.h, complete.c, browser.h, browser.c, OPS:
	Brandon's IMAP clean-up; new czech translation.

Thu Feb  4 12:00:10 1999  Thomas Roessler  <roessler@guug.de>

	* rfc1524.c, protos.h, pgpinvoke.c, mx.c, lib.c:
	[unstable] Change the way mutt_quote_filename() worked.  It's not
	too reasonable to allocate memory dynamically whenever we quote a
	file name.  (I guess I should add "vim" to pgpinvoke.c's copyright
	notice. :-)

	* mx.c:
	[unstable] Check for write errors when moving messages to $mbox.

	* mx.c: Check for write errors when moving messages to $mbox.

Wed Feb  3 22:14:18 1999  Thomas Roessler  <roessler@guug.de>

	* sendlib.c, recvattach.c, postpone.c, main.c, hash.c, functions.h, compose.c, charset.h, charset.c, OPS:
	[unstable] Produce some reasonable character set support when
	postponing messages.

	Additionally, this patch fixes a nasty pointer leak in
	load_charset() [noted with electric fence], and a completely
	mis-lead attempt to use bsearch().  Apparently, nobody ever tested
	the utf8 decoder for quite some time.

Tue Feb  2 21:57:44 1999  Thomas Roessler  <roessler@guug.de>

	* pattern.c: merge ~v patch into unstable.

	* pattern.c: small nit-fix from vikas to the ~v pattern.

	* pgp.c: Thou shall not use dangling pointers.

	* attach.c:
	[unstable] Fix mutt_decode_save_attachment's handling of character
	set conversions.

	* sendlib.c, send.c, rfc2047.c, recvattach.c, protos.h, pgp.c, pattern.c, mutt.h, init.h, handler.c, globals.h, functions.h, copy.h, copy.c, compose.c, commands.c, charset.h, charset.c, attach.c, OPS:
	Merging the external character set patch into unstable.
	Additionally, this change introduces a M_CHARCONV state flag which
	gives us some more control about when character set conversions are
	actually done.  Current versions of mutt would happily apply
	character set conversions when, e.g., saving a text/plain attachment
	to a file.  (We had at least one corrupt russing translation file
	due to this mis-feature.)

	Additionally, we clean up some of the character set related code in
	handler.c.  Most of that is now done by the decoder functions in
	charset.c.

	* imap.c: Brandon's imap_create patch.

	* pgpkey.c:
	[unstable] clear the message line before letting people select
	public keys.

	* imap.c, copy.c: [unstable] merging Brandon's imap fixes.

	* copy.c, imap.c: A couple of IMAP fixes from Brandon Long.

Sat Jan 30 17:07:30 1999  Thomas Roessler  <roessler@guug.de>

	* pgpkey.c:
	really fix the weak associations problem.  it was worse than i
	thought.

	* pgpkey.c:
	Handle expired keys correclty, even when they are the only and exact
	match when searching for keys by address.

Fri Jan 29 11:15:15 1999  Thomas Roessler  <roessler@guug.de>

	* init.h: [unstable] Change some default formats.

	* remailer.c, pgpkey.c, menu.c, addrbook.c: Add generic menu searching.

	* remailer.h, remailer.c, init.h, globals.h:
	Use a user-definable format for the mixmaster menu.

	* pgpkey.c, pgp.h, init.h: [unstable] add $pgp_entry_format.

Thu Jan 28 09:08:47 1999  Thomas Roessler  <roessler@guug.de>

	* gnupgparse.c:
	gnupg's trust model is currently unusable.  As a work-around, we
	don't present the user with _any_ trust information if he uses
	gnupg.

Wed Jan 27 19:53:46 1999  Thomas Roessler  <roessler@guug.de>

	* doc/manual.sgml.in, pgpkey.c, mutt.h, init.h, gnupgparse.c:
	Add $pgp_show_unusable.

Tue Jan 26 21:24:56 1999  Thomas Roessler  <roessler@guug.de>

	* doc/manual.sgml.in: [unstable] document ~v.

	* doc/manual.sgml.in: [stable] document ~v.

	* thread.c, pattern.c, mutt.h:
	[unstable] Add the ~v pattern.  From Vikas.

	* thread.c, pattern.c, mutt.h: [stable] Add the ~v pattern.

	* doc/manual.sgml.in, ChangeLog:
	ChangeLog, documentation for implicit_autoview.

	* doc/manual.sgml.in: Document $implicit_autoview.

Tue Jan 26 09:51:53 1999  Thomas Roessler  <roessler@guug.de>

	* doc/manual.sgml.in: Document $implicit_autoview.

	* compose.c:
	Fix a segfault when users change attachment content types, and let
	toggle-unlink honor the $resolv variable.

	* compose.c:
	$resolve should be honored when doing toggle-unlink on the compose
	menu.

Mon Jan 25 22:16:46 1999  Thomas Roessler  <roessler@guug.de>

	* compose.c:
	This may fix a core dump under certain circumstances.  Can't check
	this out since I don't get the segfault.

	* pgpkey.c: Fix a redraw problem when the key menu is invoked.

	* po/ru.po, po/cs.po, configure.in: Russian and czech translations.

	* po/cs.po: Adding a czech translation, and fixing the russian.

	* po/cs.po: file cs.po was initially added on branch mutt-1-0-stable.

	* configure.in: Adding a czech translation, and fixing the russian.

	* po/ru.po: ru.po was badly distorted.

Sat Jan 23 17:00:43 1999  Thomas Roessler  <roessler@guug.de>

	* prepare:
	when f is .../Makefile.am, `basename $f .am` is Makefile.  So I
	should just write that. :-)

	* prepare: Add the default predicate.

	* from.c: A slightly optimized version of DE's y2k patch.

	* prepare: Apparently, automake doesn't like our AC_OUTPUT($output)
	construction...

	* gnupgparse.c, from.c:
	DE's patch to work around other software's possible y2k bugs.

	* from.c: Try to avoid other programs' possible y2k bugs.

	* enter.c: Fix the attach-multi patch.

Fri Jan 22 22:12:10 1999  Thomas Roessler  <roessler@guug.de>

	* lib.c: Fix a memory leak, noted by Roland Rosenfeld.

	* lib.c: Fix a memory leak.  Noted by Roland Rosenfeld.

	* recvattach.c, query.c, protos.h, menu.c, enter.c, curs_lib.c, compose.c, browser.c, addrbook.c:
	Enable tagging in the file browser.

	* protos.h, pgppubring.c, pgpkey.c, pgp.h, pgp.c, lib.c, handler.c, gnupgparse.c, compose.c:
	Heavy hacking on mutt's pgp support.  We no longer read the complete
	key ring into memory.  For gpg, performance is heavily improved due
	to the fact that we are passing a couple of key hints to the key
	ring parsing back-end.

Thu Jan 21 05:19:42 1999  Thomas Roessler  <roessler@guug.de>

	* hook.c: Fix _mutt_string_hook.

Wed Jan 20 13:52:59 1999  Thomas Roessler  <roessler@guug.de>

	* po/pl.po: New polish translation.

	* pgppubring.c, pgpkey.c, configure.in:
	Add heavily improved debugging capabilities to the PGP code.
	Anyway, the problem I observed wasn't a bug in mutt, but an expired
	key. *sigh*

	* rfc1524.c: Don't segfault when MailcapPath is unset.

	* rfc1524.c:
	Fix a segmentation fault when no MailcapPath has been defined.

Tue Jan 19 23:38:26 1999  Thomas Roessler  <roessler@guug.de>

	* protos.h, mutt.h, init.h, hook.c, charset.c, Makefile.am:
	Add the charset-hook command.

	* configure.in, charset.c, acconfig.h, Makefile.am, $output.in, INSTALL:
	Properly handle character set definition file installation.

	* mx.c: Remove a confusing error message.

	* mx.c: Remove confusing error message.

	* keymap.c, curs_lib.c: patch-0.95.1.vikas.macro_function.1

	* m4/Makefile.am.in: HP/UX portability patch from Lars Hecking.

Mon Jan 18 09:45:29 1999  Thomas Roessler  <roessler@guug.de>

	* po/ru.po:
	New Russian translation from Michael Sobolev <mss@transas.com>.

	* po/ru.po:
	New russian translation from Michael Sobolev <mss@transas.com>.

Thu Jan 14 13:08:46 1999  Thomas Roessler  <roessler@guug.de>

	* compose.c: Mixmaster user interface beautification.

	* mx.c, curs_lib.c:
	Fix a couple of segfaults related to using curses when it isn't there.

	* mx.c: dotlocking plus curses...

Wed Jan 13 23:56:39 1999  Thomas Roessler  <roessler@guug.de>

	* send.c, mutt.h, mbox.c, handler.c, copy.h, copy.c:
	patch-0.95.1i.tlr.weed.1, patch-0.95.1i.tlr.dotlock.1 - These have
	been tested with unstable so far, seem to work fine.

	* mx.c: Don't use curses when we don't have it.

	* mx.c: Don't try to do mutt_yesorno if we don't have curses.

	* remailer.h:
	Mixmaster has 20 address slots, that makes _19_ remailers.

	* remailer.c: Fix the "append" function.

	* sendlib.c: Don't leak message dates when sending via mixmaster.

	* remailer.c:
	Add search code to the remailer chain selecting menu.  [This is
	pretty generic - should we add that code to menu.c?]

	* postpone.c: Fix postponing of PGP messages.

	* send.c, remailer.c, compose.c:
	Qualify addresses before passing them to mixmaster.

	* send.c, remailer.h, protos.h, mutt.h:
	Clean up dependencies: remailer.h is no longer included by mutt.h,
	and the mix_* prototypes can once again go to remailer.h.

	* sendlib.c, remailer.c, remailer.h, send.c, protos.h, postpone.c, mutt.h, lib.c, keymap.h, keymap.c, init.h, headers.c, globals.h, functions.h, configure.in, compose.c, OPS.MIX, acconfig.h, Makefile.am:
	A first take at adding a mixmaster front-end to mutt.  Don't worry,
	it's optional. ;-)

Tue Jan 12 22:01:11 1999  Thomas Roessler  <roessler@guug.de>

	* mbox.c: Open folders in read-only mode if mutt can't lock them.

Mon Jan 11 18:12:49 1999  Thomas Roessler  <roessler@guug.de>

	* send.c, mutt.h, handler.c, copy.h, copy.c:
	When decode-forwarding messages with message/Rfc822 attachments,
	mutt should weed the attachments' headers according to the setting
	of $forward_weed.

Sun Jan 10 09:11:36 1999  Thomas Roessler  <roessler@guug.de>

	* doc/manual.sgml.in, hdrline.c: Byrial's %D time format patch.

Sat Jan  9 17:53:02 1999  Thomas Roessler  <roessler@guug.de>

	* doc/manual.sgml.in, recvattach.c, protos.h, lib.c:
	Byrial's latest changes to stable.

	* recvattach.c, protos.h, lib.c:
	Ask the user whether to overwrite a file or append to it.  From
	Byrial Jensen.

	* doc/manual.sgml.in: Fix a documentation problem.

Fri Jan  8 23:29:05 1999  Thomas Roessler  <roessler@guug.de>

	* charset.c:
	When doing a binary search, we may as well use bsearch (3).

	* parse.c: Optimized time-zone parsing.

	* parse.c: Optimize time zone parsing.  By Byrial Jensen.

	* history.c:
	Don't clear the history when the user issues a "set history=..."
	command which doesn't change anything.

	* history.c:
	Don't clear the history when "set history=..." doesn't change the
	buffer size.

	* thread.c, curs_main.c: Threading fix from Daniel Eisenbud.

Thu Jan  7 19:01:30 1999  Thomas Roessler  <roessler@guug.de>

	* init.c: Vikas' set_boolean patch.

	* protos.h, handler.c, attach.c:
	Updated implicit autoview handling from stable.

	* protos.h, handler.c, attach.c:
	Only use "implicit" autoviews (implicit_autoview or MM_NOASK) when
	mutt is unable to handle a content type internally.  This saves us
	parsing the mailcap files for every attachment we handle.

	* mx.c, mutt.h, init.h, hdrline.c, commands.c, attach.c:
	Merge in the mailcap patch from stable.

	* thread.c, system.c, strcasecmp.c, status.c, sort.h, sort.c, socket.c, snprintf.c, signal.c, sha_locl.h, sha1dgst.c, sha.h, sendlib.c, send.c, score.c, rfc822.h, rfc822.c, rfc2047.h, rfc2047.c, rfc1524.h, rfc1524.c, resize.c, recvattach.c, query.c, protos.h, postpone.c, pop.c, pgppubring.c, pgpkey.c, pgpinvoke.c, pgp.h, pgp.c, pattern.c, parse.h, parse.c, pager.h, pager.c, mx.h, mx.c, mutt_socket.h, mutt_regex.h, mutt_menu.h, mutt_curses.h, mutt.h, mime.h, mh.c, menu.c, mbox.c, mapping.h, main.c, mailbox.h, lib.c, keymap.h, keymap.c, init.h, init.c, imap.h, imap.c, hook.c, history.h, history.c, help.c, headers.c, hdrline.c, hash.h, hash.c, handler.c, gnupgparse.c, globals.h, getdomain.c, functions.h, from.c, flags.c, filter.c, enter.c, edit.c, dotlock.h, dotlock.c, date.c, curs_main.c, curs_lib.c, copy.h, copy.c, compose.c, complete.c, commands.c, color.c, charset.h, charset.c, buffy.h, buffy.c, browser.c, attach.h, attach.c, alias.c, addrbook.c, acconfig.h:
	Get rid of RCS ids in source files.  They are getting in our way
	when merging changes.

	* mx.c, mutt.h, init.h, hdrline.c, commands.c, attach.c:
	Remove the use_mailcap variable. Instead, we introduce
	implicit_autoview which triggers autoview for every content type
	it's applicable to.

	* thread.c, system.c, strcasecmp.c, status.c, sort.h, sort.c, socket.c, snprintf.c, signal.c, sha_locl.h, sha1dgst.c, sha.h, sendlib.c, send.c, score.c, rfc822.h, rfc822.c, rfc2047.h, rfc2047.c, rfc1524.h, rfc1524.c, resize.c, recvattach.c, query.c, protos.h, postpone.c, pop.c, pgppubring.c, pgpkey.c, pgpinvoke.c, pgp.h, pgp.c, pattern.c, parse.h, parse.c, pager.h, pager.c, mx.h, mx.c, mutt_socket.h, mutt_regex.h, mutt_menu.h, mutt_curses.h, mutt.h, mime.h, mh.c, menu.c, mbox.c, mapping.h, main.c, mailbox.h, lib.c, keymap.h, keymap.c, init.h, init.c, imap.h, imap.c, hook.c, history.h, history.c, help.c, headers.c, hdrline.c, hash.h, hash.c, handler.c, gnupgparse.c, globals.h, getdomain.c, functions.h, from.c, flags.c, filter.c, enter.c, edit.c, dotlock.h, dotlock.c, date.c, curs_main.c, curs_lib.c, copy.h, copy.c, compose.c, complete.c, commands.c, color.c, charset.h, charset.c, buffy.h, buffy.c, browser.c, attach.h, attach.c, alias.c, addrbook.c, acconfig.h:
	Get rid of the rcsid fields.  They are getting in the way whenever I
	merge changes into unstable.

	* po/nl.po, init.h, configure.in: Merging changes from stable.

	* configure.in:
	Don't add regex.c, but regex.o to the LIBOBJS variable when needed.

	* init.h: Fix default settings for use_mailcap and mime_forward.

Wed Jan  6 10:13:32 1999  Thomas Roessler  <roessler@guug.de>

	* po/fr.po, po/de.po, sendlib.c, regex.c, protos.h, parse.c, mutt_regex.h, mbox.c, main.c, hdrline.c, from.c, date.c, configure.in, acconfig.h, _regex.h, Makefile.am, INSTALL:
	[unstable] Merge changes from stable: rx -> regex, Byrial's timezone
	patch, translation updates.

	* sendlib.c, protos.h, parse.c, mbox.c, from.c, date.c:
	Byrial's timezone patch, without the absurd optimizations.

	* regex.c:
	Use gnu regex instead of gnu rx.  This library is said to behave
	better.  Additionally, it supports \<...\> patterns.  The files
	_regex.h and regex.c included with this distribution correspond to
	posix/regex.[ch] from the glibc 2.0.7t source tree.

	* regex.c: file regex.c was initially added on branch mutt-1-0-stable.

	* mutt_regex.h, main.c, configure.in, acconfig.h, _regex.h:
	Use gnu regex instead of gnu rx.  This library is said to behave
	better.  Additionally, it supports \<...\> patterns.  The files
	_regex.h and regex.c included with this distribution correspond to
	posix/regex.[ch] from the glibc 2.0.7t source tree.

	* _regex.h:
	file _regex.h was initially added on branch mutt-1-0-stable.

	* Makefile.am, INSTALL:
	Use gnu regex instead of gnu rx.  This library is said to behave
	better.  Additionally, it supports \<...\> patterns.  The files
	_regex.h and regex.c included with this distribution correspond to
	posix/regex.[ch] from the glibc 2.0.7t source tree.

	* po/nl.po, po/fr.po:
	Various fixes to the NL translation; new French messages.

Tue Jan  5 14:35:18 1999  Thomas Roessler  <roessler@guug.de>

	* sendlib.c, mutt.h, main.c, configure.in, charset.h, charset.c, Makefile.am:
	[unstable] Adding experimental new character set conversion code.

	* po/de.po: Merging from stable.

	* po/de.po: Fix a typo in de.po.

	* po/de.po: [unstable] Merging changes from stable.

	* po/nl.po, hdrline.c, curs_main.c, configure.in:
	[unstable] merging changes from stable.

	* hdrline.c: Conditionally display score and number of lines.

	* po/nl.po:
	[stable] Adding the NL translation; correcting some bugs in the DE
	translation.

	* po/nl.po: file nl.po was initially added on branch mutt-1-0-stable.

	* po/de.po, configure.in:
	[stable] Adding the NL translation; correcting some bugs in the DE
	translation.

Mon Jan  4 19:15:10 1999  Thomas Roessler  <roessler@guug.de>

	* curs_main.c: [unstable] fix next-unread plus collapsing.

	* curs_main.c: [stable] Fix next-unread when collapsing threads.

	* curs_main.c: [unstable] merging changes from stable.

	* curs_main.c: [stable] fix a bogus type cast.

	* reldate.h, curs_main.c: [unstable] merging in changes from stable.

	* curs_main.c:
	[stable] Don't use the index elements of header structures when
	new messages arrived on the index.

	* reldate.h: 0.95.1 should have a proper release date.

	* send.c, pgp.c, handler.c, configure.in:
	Make the experimental branch the main trunk.

	* po/uk.po, po/ru.po, po/pl.po, po/it.po, po/fr.po, po/es.po, po/de.po:
	0.95.1 post-release commit.

	* configure.in: [unstable] Create suitable version strings.

	* VERSION, ChangeLog: [stable] Preparing 0.95.1.

	* send.c: [unstable] commit changes from the stable tree.

	* send.c:
	[stable] When sending a message in batch mode failed, mutt would
	dump core.  Patch from Byrial Jensen.

	* pgp.c, handler.c: [unstable] Add multiple signature support.

Mon Jan  4 12:57:55 1999  Thomas Roessler  <roessler@guug.de>

	* send.c: When sending a message in batch mode failed, mutt
	would dump core.  Patch from Byrial Jensen.

Sat Jan  2 17:23:24 1999  Thomas Roessler  <roessler@guug.de>

	* sendlib.c, ChangeLog: I shouldn't accept patches on New
	Year's day.  Not even new-year related patches.

	* po/it.po: Fixing a typo.

	* protos.h, parse.c, handler.c: mutt_parse_date () shouldn't
	modify its argument.  Problem noted by Byrial Jensen.

	* lib.c: Fix safe_symlink to correctly handle relative paths.

Sat Jan  2 09:35:09 1999  Thomas Roessler  <roessler@guug.de>

	* protos.h, parse.c, handler.c: mutt_parse_date () shouldn't
	  modify its argument.  Problem noted by Byrial Jensen.

	* lib.c: Fix safe_symlink to correctly handle relative paths.

Fri Jan  1 09:43:15 1999  Thomas Roessler  <roessler@guug.de>

	* sendlib.c: New Year's time zone handling patch from Manish
	  Singh <yosh@gimp.org>.

Thu Dec 31 09:45:46 1998  Thomas Roessler  <roessler@guug.de>

	* curs_main.c: The attached patch moves code for sorting the
	  index and restoring the current message from
	  mutt_index_menu() to a new function. It saves code
	  duplication.

Wed Dec 30 07:58:40 1998  Thomas Roessler  <roessler@guug.de>

	* pgp.c, main.c: Localize some more messages.  From Michael Sobolev.

Tue Dec 29 16:29:03 1998  Thomas Roessler  <roessler@guug.de>

	* mbox.c, ChangeLog: Use sizeof instead of strlen for some
	  fixed strings.

	* mh.c: Take setting the index_hint out of the main loop of
	  mh_check_mailbox().

Mon Dec 28 14:59:04 1998  Thomas Roessler  <roessler@guug.de>

	* attach.c: Fix a segmentation fault when viewing
	  message/rfc822 attachments from the compose screen.

Wed Dec 23 15:57:00 1998  Thomas Roessler  <roessler@guug.de>

	* pattern.c: A slightly modified version of Vikas'
	  pattern_match patch.  This changes the semantics of the
	  pattern-something functions so they only apply to
	  _visible_ messages.  (With the exception of limit: In this
	  case, the user can add another pattern if he wants to
	  limit further, or he can give an entirely new pattern.)

Tue Dec 22 18:07:19 1998  Thomas Roessler  <roessler@guug.de>

	* sendlib.c: Fix MIME forwarding.  From Vikas.

Mon Dec 21 12:38:57 1998  Thomas Roessler  <roessler@guug.de>

	* mx.c, mh.c, mbox.c, imap.c, charset.c: Adjust some
	  hash-related parameters.

	* mx.c, mh.c, mbox.c: Mail folder synchronization-related fixes:

	- Another situation under which mutt would lose track of the current
	  message when maildir folders changed has been removed.

	- While synchronizing mbox-type folders, a write error when
	  constructing the draft version of the new mail folder would leave
	  behind a copy ofthe file containing the draft.  This is most
	  annoying if the write error is due to lack of disk space.

	* po/pl.po: Small \n fixes.

	* parse.c, from.c, lib.c: mutt_strlen() optimizations from
	Byrial Jensen.

	* po/pl.po: Add the polish translation.

	* configure.in: Register the polish translation.

	* doc/manual.sgml.in: Fixes to the forwarding chapter.  From
	  O'Shaughnessy Evans <shaug@gstis.net>.

	* m4/README, m4/Makefile.am.in: Here is a small patch to
	  simplify m4/Makefile.am.in. This came out of a suggestion
	  I made to Jim Meyering (maintainer of GNU fileutils, where
	  I snarfed the code from :).  (From: Lars Hecking
	  <lhecking@nmrc.ucc.ie>)

Fri Dec 18 10:22:59 1998  Thomas Roessler  <roessler@guug.de>

	* mh.c: Catch an error condition when synchronizing mh
	  messages.

	* po/de.po: Fix a format which had %s instead of %d.

Thu Dec 17 18:39:48 1998  Thomas Roessler  <roessler@guug.de>

	* INSTALL: I've been told that the FreeBSD shell has been
	  fixed meanwhile. Additionally, add the note from Vikas on
	  patching Solaris to get mutt work properly on that system.

	* mh.c: Fix attachment deletion for maildir/mh folders. This
	  may fix other mh-related problems, too.

	* charsets/Makefile.in: Some installs aren't able to cope
	  with multiple files at once.

	* curs_lib.c: Don't even try to clear the status line when
	  not in curses mode.

Wed Dec 16 13:23:06 1998  Thomas Roessler  <roessler@guug.de>

	* imap.c: Two lines were in reverse order.  Noted by Daniel
	Eisenbud.

	* thread.c: Give Daniel Eisenbud a "lock" on this file.

	* pager.c: Fix "$resolve" behaviour for OP_TAG and
	OP_TOGGLE_NEW from the pager.

	* curs_lib.c: SLang-related fixes to mutt_endwin().

	* compose.c: Permit the user to set the typical MIME
	parameters used with application/pgp messages.

	* color.c: Fix a segfault noted by Stephan Hack.  (Fix noted
	by Vikas.)

	* configure.in: Make the sendmail check compatible with
	newer autoconf versions. Noted by Lars Hecking.

Sun Dec 13 08:10:13 1998  Thomas Roessler  <roessler@guug.de>

	* mx.c, curs_main.c: Don't dump core when closing a NULL
	context.  Fixes the "exit from no-mailbox mode" bug.

Sat Dec 12 10:14:43 1998  Thomas Roessler  <roessler@guug.de>

	* po/uk.po, po/ru.po, po/it.po, po/fr.po, po/es.po, po/de.po:
	Post-release commit.

	* hook.c, curs_main.c: More _PGPPATH and us dist related fixes.

	* mutt.h: Don't define M_PGPHOOK unless _PGPPATH has been defined.

	* pager.c: Another reap.pl-related fix.

	* Makefile.am: The us-dist target was screwed.

	* charsets/parse_i18n.c, charsets/gen_charsets,
	charsets/Makefile.in, thread.c, system.c, strcasecmp.c,
	status.c, stamp-h.in, sort.h, sort.c, socket.c, snprintf.c,
	signal.c, sha_locl.h, sha1dgst.c, sha.h, sendlib.c, send.c,
	score.c, rfc822.h, rfc822.c, rfc2047.h, rfc2047.c,
	rfc1524.h, rfc1524.c, resize.c, reldate.h, recvattach.c,
	reap.pl, query.c, protos.h, prepare, postpone.c, pop.c,
	pgppubring.c, pgpkey.c, pgpinvoke.c, pgp.h, pgp.c,
	pattern.c, parse.h, parse.c, pager.h, pager.c, mx.h, mx.c,
	mutt_socket.h, mutt_regex.h, mutt_menu.h, mutt_curses.h,
	mutt.h, mkinstalldirs, missing, mime.types, mime.h, mh.c,
	menu.c, mbox.c, mapping.h, main.c, mailbox.h, lib.c,
	keymap.h, keymap.c, install-sh, init.h, init.c, imap.h,
	imap.c, hook.c, history.h, history.c, help.c, headers.c,
	hdrline.c, hash.h, hash.c, handler.c, gnupgparse.c,
	globals.h, getdomain.c, gen_defs, functions.h, from.c,
	flags.c, filter.c, enter.c, edit.c, dotlock.h, dotlock.c,
	date.c, curs_main.c, curs_lib.c, copy.h, copy.c,
	configure.in, config.sub, config.guess, compose.c,
	complete.c, commands.c, color.c, charset.h, charset.c,
	buffy.h, buffy.c, browser.c, attach.h, attach.c, alias.c,
	addrbook.c, acconfig.h, VERSION, TODO, README, OPS.PGP, OPS,
	NEWS, Muttrc.in, Makefile.am, INSTALL, GPL, ChangeLog,
	COPYRIGHT, ABOUT-NLS: *** empty log message ***

	* po/uk.po, po/ru.po, po/it.po, po/fr.po, po/es.po,
	po/de.po, reldate.h, VERSION, ChangeLog: Release-commit for
	0.95i.

	* hash.c: Use a better hash function.  Contributed by Stefan Langerman
	<lfalse@paul.rutgers.edu> to mutt-users.

Fri Dec 11 20:48:14 1998  Thomas Roessler  <roessler@guug.de>

	* reldate.h, VERSION, ChangeLog: 0.94.999 pre-release commit.

	* Makefile.am: The distdir target creates hard links for the
	source files.  This has the consequence that the us-dist
	hook will demolish files in the main source tree.  We have
	to un-link the various instances of the source code.

	* INSTALL: Warn about regexp-related problems under Solaris 2.6.

	* po/uk.po, po/ru.po, po/it.po, po/fr.po, po/es.po, po/de.po:
	Various last-minute changes and automatic updates.

	* main.c: Go into no-mailbox mode if the initial folder was
	given explicitly (-f) and can't be opened.

	* mh.c: Undoing the mh_speed patch.

	* po/it.po, po/fr.po: l10n fixes.

	* curs_main.c: Start a new reply and postpone it. Then type
	m (mail), and recall and send the postponed reply. The
	replied message is _not_ flagged replied.

	(From Byrial Jensen.)

	* po/fr.po: Bug-fixed french l10n.

	* parse.c: Multipart parser fixes from Byrial.  Finally.

	* po/it.po: Small fix.

Thu Dec 10 22:48:56 1998  Thomas Roessler  <roessler@guug.de>

	* po/fr.po, configure.in: Add the french l10n.

	* po/uk.po, po/ru.po, po/it.po, po/es.po, po/de.po, reldate.h:
	post-release commit 0.94.99.

	* VERSION, README, ChangeLog: Pre-release commit for 0.94.99.

	* menu.c: Fix tag-prefix.

Thu Dec 10 11:06:25 1998  Thomas Roessler  <roessler@guug.de>

	* menu.c: Fix tag-prefix.

	* compose.c:
	Redraw fix after the content type was changed on the compose menu.

Tue Dec  8 23:09:53 1998  Thomas Roessler  <roessler@guug.de>

	* help.c: Help screen resizing nit.  From Gero Treuner.

	* doc/manual.sgml.in: Typo.

	* sendlib.c:
	Work around sendmail 8.9.1a invalidating PGP/MIME signatures by
	re-ordering MIME headers in the way sendmail does.

	* mh.c:
	Keep track of file name changes for files wandering around between
	the subfolders of a maildir.

	* mh.c:
	More fixes to the maildir resynchronization code.  This should now
	also smoothly handle the case of messages _vanishing_ from maildir's
	new/ subdirectory.

	* init.c: Make the debug file access unbuffered.  Important if we are
	debugging crashes.

Mon Dec  7 21:13:44 1998  Thomas Roessler  <roessler@guug.de>

	* mx.c, mh.c:
	Fix a couple of flag-related bugs in the maildir folder update code.

	* imap.c: Fix a completely ugly comment formatting.

	* mutt.h: Adjust '#' to the first column.

	* rfc2047.c: Don't tag us-ascii headers as $Charset or unknown-8bit.

Thu Dec  3 23:29:37 1998  Thomas Roessler  <roessler@guug.de>

	* po/uk.po, po/ru.po, po/it.po, po/es.po, po/de.po,
	reldate.h, VERSION, ChangeLog: release-commit 0.94.18.

Wed Dec  2 20:12:35 1998  Thomas Roessler  <roessler@guug.de>

	* contrib/Pine.rc, contrib/Mush.rc:
	Bring the sample rc files better in synch with the actual code.

Wed Dec  2 20:12:35 1998  Thomas Roessler  <roessler@guug.de>

	* contrib/Pine.rc, contrib/Mush.rc: Bring the sample rc
	files better in synch with the actual code.

	* recvattach.c: Remove a warning which comes from code
	actually belonging to the send_charset patch.

	* rfc2047.c: Encode- and decode the "val" field when using
	mutt with EXACT_ADDRESS enabled.

	* charsets/Makefile.in, Makefile.am: Small fixes to the
	build process. From Lars Hecking.

	* compose.c: The attached patch fixes yet another redraw
	related bug. When I call OP_SAVE from the Compose menu and
	use the file-browser and 'q' out of the file-browser, the
	screen still shows the browser, but the control is really in
	the Compose menu. A Ctrl-L verifies this. Basically, a
	screen redraw is missing. (From Vikas.)

	* mutt_menu.h, menu.c, compose.c: From the Compose menu,
	invoke attach-message. Tag a whole bunch of messages. Say,
	for example, 100. When you exit the folder, the Compose
	menu's status line has disappeared. (From Vikas.)

	* browser.c: patch-0.94.17.vikas.browser_redraw.1

Mon Nov 23 21:10:12 1998  Thomas Roessler  <roessler@guug.de>

	* protos.h, lib.c:
	Change safe_malloc's size parameter from (unsigned int) to size_t.

	* send.c, protos.h, pattern.c, alias.c: From Byrial:

	I don't think that the match-all pattern modifier works as can be
	expected from a logical point of view.

	The attached patch will make it work as I expect it to work:

	  - It works on all patterns which explicit or implicit use address
	    lists: ~c, ~C, ~e, ~f, ~l, ~L, ~p, ~P, and ~t. (It didn't work
	    with ~l before).

	  - It works such that a modified pattern always match, unless there
	    is at least one address in at least one of the referenced lists
	    that it doesn't match.

	* doc/manual.sgml.in, send.c, mutt.h, mh.c, init.h, Muttrc.in:
	Introduce a new option $reply_self.  From Vikas.

Fri Nov 20 00:27:03 1998  Thomas Roessler  <roessler@guug.de>

	* po/it.po: New it.po from Mario.

	* doc/mutt.man.in: Fix a small typo.

Thu Nov 19 23:57:03 1998  Thomas Roessler  <roessler@guug.de>

	* contrib/Pine.rc: Fix some ancient syntax.

	* po/uk.po, po/ru.po, po/it.po, po/es.po, po/de.po, send.c:
	Hack around problems with multi-valued Reply-To headers.  From
	Roland Rosenfeld.

	* rfc2047.c:
	Properly encode '_' characters in words which are qp-encoded.

	* sendlib.c:
	Use mutt_is_message_type() in the message transformation code.

	* po/Makefile.in.in, doc/Makefile.in, charsets/Makefile.in, Makefile.am:
	Fix all Makefiles.  make DESTDIR=/path/to/something install should
	work now.

Wed Nov 18 23:09:46 1998  Thomas Roessler  <roessler@guug.de>

	* po/uk.po, po/ru.po, po/it.po, po/es.po, po/de.po, reldate.h, VERSION, ChangeLog:
	Release-commit for 0.94.17.

	* sendlib.c, protos.h, pgp.c, parse.c, lib.c, compose.c:
	This patch simplifies the generation of content type parameters
	significantly by introducing a funciton mutt_set_parameter().
	Additionally, we re-use code from parse.c for parsing user-input
	content type headers on the compose screen.

	* compose.c: Remove some uuencode-related debris.

	* recvattach.c:
	Remove some code which crept in from the external character set patch.

	* recvattach.c:
	Make optional formats work while processing $attach_format.

Wed Nov 18 22:57:03 1998  Thomas Roessler  <roessler@guug.de>

	* sendlib.c, protos.h, pgp.c, parse.c, lib.c, compose.c:
	This patch simplifies the generation of content type parameters
	significantly by introducing a funciton mutt_set_parameter().
	Additionally, we re-use code from parse.c for parsing user-input
	content type headers on the compose screen.

	* compose.c: Remove some uuencode-related debris.

	* recvattach.c:
	Remove some code which crept in from the external character set patch.

	* recvattach.c:
	Make optional formats work while processing $attach_format.

	* mh.c: Remove bogus re-sorting code from the maildir check routine.

	* mutt.h:
	Include <unistd.h>, so SEEK_SET is defined on some systems which
	don't do so in <stdlib.h>.

Tue Nov 17 13:23:26 1998  Thomas Roessler  <roessler@guug.de>

	* po/uk.po, po/ru.po, po/it.po, po/es.po:
	Checkpoint commit, containing quite a few fuzzy translations.

	* po/de.po: Update some messages.

	* m4/Makefile.am.in, m4/README, m4/gettext.m4, m4/lcmessage.m4, m4/progtest.m4, prepare, configure.in, Makefile.am:
	Configuration fixes from Lars Hecking, with some more fixes and
	modifications from myself.  With some luck, you don't need a gettext
	installation any more.

	* sendlib.c:
	Fix the base64 encoder.  The current code would produce slightly
	unpredictible output which leads to bad signatures.

	* postpone.c, pgp.c, parse.c, pager.c:
	Fix a search coloring related bug.

Mon Nov 16 11:44:42 1998  Thomas Roessler  <roessler@guug.de>

	* protos.h: Drop ci_attach - it doesn't exist.  Noted by Byrial Jensen.

Sun Nov 15 09:53:23 1998  Thomas Roessler  <roessler@guug.de>

	* parse.c: Stupid typo.

	* protos.h, parse.c, attach.c: My version of Byrial's parse_part patch.

	* recvattach.c, protos.h, mutt.h, copy.c, compose.c:
	I can elaborate a little more on the last paragraph. It is deletion
	of the top level part direct under a message/rfc822 part which
	gives problems because the headers of the message/rfc822 part have
	to be changed in this case. It is hard to tell exactly how many
	bytes and lines will be removed and added in this case.

	If we can refrain from deletion of such parts and thus only allow
	deletion of parts direct under a multipart part, then it is
	relative easy always to make correct Content-Length: and Lines:
	headers in the copy. (The correctness of the Lines count is
	dependent of the correctness of the initial value, though).

	(From: Byrial Jensen)

	* doc/manual.sgml.in:
	Correcting Vikas' E-Mail address in the credits section.

Sat Nov 14 08:24:56 1998  Thomas Roessler  <roessler@guug.de>

	* doc/manual.sgml.in: Update Byrial's e-mail address.

	* copy.c:
	Simplify the new attachment deletion code not to require an extra
	temporary file.  (From: Byrial Jensen <byrial@image.dk>)

	* help.c, handler.c: Type cast nit from Gero Treuner.

Fri Nov 13 18:31:06 1998  Thomas Roessler  <roessler@guug.de>

	* imap.c:
	Currently, Mutt won't use a default folder if just the IMAP server is
	specified.  In fact, if the folder isn't specified, it will core-dump.

	The attached patch will use INBOX as the IMAP folder name if none is
	specified, eliminating the core-dump.

	(From: Aaron Schrab <aaron+mutt@schrab.com>)

Thu Nov 12 21:52:01 1998  Thomas Roessler  <roessler@guug.de>

	* mutt.h, copy.c: Byrial's latest attachment deletion patch.

	* mutt.h, lib.c, handler.c: Introduce a state_printf() function.

Wed Nov 11 21:18:08 1998  Thomas Roessler  <roessler@guug.de>

	* po/it.po: New it.po from Marco.

	* snprintf.c: Don't use the mutt_str* functions in this module.

	* strcasecmp.c:
	the s/str.*cmp/mutt_str.*cmp/ replacement should not have taken
	place here.

Tue Nov 10 22:21:51 1998  Thomas Roessler  <roessler@guug.de>

	* dotlock.c: Don't use mutt_strsomething in the dotlocking code.

	* send.c: Fix the $metoo option's behaviour.

	* thread.c, strcasecmp.c, status.c, sort.c, socket.c,
	snprintf.c, sendlib.c, send.c, score.c, rfc822.c, rfc2047.c,
	rfc1524.c, recvattach.c, query.c, protos.h, postpone.c,
	pop.c, pgppubring.c, pgpkey.c, pgpinvoke.c, pgp.c,
	pattern.c, parse.c, pager.c, mx.c, mh.c, menu.c, mbox.c,
	main.c, lib.c, keymap.c, init.c, imap.c, hook.c, history.c,
	help.c, headers.c, hdrline.c, hash.c, handler.c,
	gnupgparse.c, getdomain.c, from.c, enter.c, edit.c,
	dotlock.c, curs_lib.c, copy.c, compose.c, complete.c,
	commands.c, color.c, charset.c, buffy.c, browser.c,
	attach.c, alias.c, addrbook.c: Introduce or rewrite
	mutt_{str*cmp,strlen} and use them all over the place.  If
	there are still segmentation faults due to missing NONULLs
	over, they are gone now.

	* main.c: Add a "pseudo-credit" to the extended copyright notice.

	* po/uk.po, po/ru.po, po/it.po, po/es.po, po/de.po, reldate.h, VERSION, ChangeLog:
	Releasing 0.94.16.

	* sendlib.c, mx.h, mx.c, mbox.c, init.c, copy.c, commands.c, buffy.c, attach.c:
	Experimental support for the so-called "kendra" mail folder format.
	This seems to be used on OS/2 and is, actually, a slibhtly modified
	version of the MMDF format.

	* parse.c:
	Do some sanity checking when reading attachment.  This fix should
	catch bad attachments.

	* edit.c:
	Fix a possible buffer overflow.  (This seems to be the one noticed
	by Pavel Gulchouck <gul@lucky.net>.)

	* compose.c: Wrong fix from Vikas.  Undo it.  (Noted by Byrial.)

Tue Nov 10 21:02:27 1998  Thomas Roessler  <roessler@guug.de>

	* sendlib.c, mx.h, mx.c, mbox.c, init.c, copy.c, commands.c, buffy.c, attach.c:
	Experimental support for the so-called "kendra" mail folder format.
	This seems to be used on OS/2 and is, actually, a slibhtly modified
	version of the MMDF format.

	* parse.c:
	Do some sanity checking when reading attachment.  This fix should
	catch bad attachments.

	* edit.c:
	Fix a possible buffer overflow.  (This seems to be the one noticed
	by Pavel Gulchouck <gul@lucky.net>.)

	* compose.c: Wrong fix from Vikas.  Undo it.  (Noted by Byrial.)

	* curs_lib.c, compose.c: Fix a multi_choice related bug.  From Vikas.

	* buffy.c:
	Skip empty mailbox parameters.  This fixes a segmentation fault
	noted by Marco d'Itri.

Mon Nov  9 19:28:42 1998  Thomas Roessler  <roessler@guug.de>

	* from.c: Catch possible bad memory access.

	* doc/manual.sgml.in, sendlib.c, protos.h, init.h, globals.h, copy.c, Muttrc.in:
	Rewrite copy_delete_attach().

	* sort.c, score.c, protos.h, curs_main.c, color.c:
	Fix an efficiency problem with the color index features.

	* doc/mutt.man.in: Replace @sharedir@ by @sysconfdir@.

	* doc/manual.sgml.in:
	Make the default_hook documentation match the code.

	* main.c, curs_main.c:
	Avoid duplicate mx_close_mailbox() when OP_QUIT is called.

	* browser.c:
	The attached patch fixes a potential problem in folder_format_str()
	where a fixed buffer might not be null terminated.  From Vikas.

	* init.c:
	The attached patch fixes a bug in :set variable=<TAB> where variables
	of type DT_SORT were not getting expanded (only 4 of them, but a bug
	nevertheless).  From Vikas.

	* browser.c: patch-0.94.15.vikas.browser_sort.3

	* doc/manual.sgml.in:
	Add a forwarding chapter to the manual.  From Gero Treuner.

	* po/de.po: Revert de.po to the traditional German spelling rules.

	* po/de.po, pop.c: L10 fixes from Gero Treuner.

	* parse.c, handler.c:
	A message/external-body handler.  From Byrial Jensen.

	* protos.h, parse.c:
	 - remove the static declaration from parse_date() in parse.c,
	 - rename it to mutt_parse_date()
	 - fix a minor bug: the timezone information in an expires-header
	   was used to set the timezone of the send time.

	(From Byrial Jensen <byrial@post3.tele.dk>.)

	* Muttrc.in: Fix some spelling errors noted by Boris Wesslowski
	<Boris.Wesslowski@StudBox.Uni-Stuttgart.DE>.

	* handler.c:
	Byrial Jensen's alternative_handler patches.  This may lead to
	non-desirable effects with attachment deletion; these effects will
	go when the new attachment deletion code is implemented.

	* parse.c:
	SeokChan LEE <bofh@nuri.net> says KST has a nine hour offset from GMT.

	* pager.c, help.c: Fix the display of DEL in the pager.

	* send.c: Fix a group reply problem.

Fri Oct 30 13:00:10 1998  Thomas Roessler  <roessler@guug.de>

	* po/uk.po, po/ru.po, po/it.po, po/es.po, po/de.po:
	Some recent changes.

Thu Oct 29 09:46:45 1998  Thomas Roessler  <roessler@guug.de>

	* mbox.c:
	Mbox robustness patch from Johnny Tevessen <j.tevessen@gmx.net>.

	* po/de.po: Fixing a typo.

	* imap.c:
	This patch should cause mutt to ask for your IMAP login/password
	again if its wrong.  From Brandon Long.

Wed Oct 28 21:48:36 1998  Thomas Roessler  <roessler@guug.de>

	* doc/manual.sgml.in, reldate.h, VERSION, NEWS, ChangeLog:
	0.94.15 release commit.

	* po/uk.po, po/ru.po, po/it.po, po/es.po, po/de.po:
	pre-release commit, take 1.

	* curs_lib.c:
	Add an IsPrint check to mutt_message() and mutt_curses_error(). This
	will prevent _some_ advert effects from l10ns which don't fit
	together with the terminal's abilities.  There are still quite a few
	raw printw() etc. - we may wish to introduce our own, locale-safe
	versions of these.

	* po/POTFILES.in: reldate contais really _no_ i18n-related data.

	* send.c:
	Don't try to recall a postponed message when we are given a template.

	* copy.c:
	Fix a possible segmentation fault when deleting nested attachments.

Wed Oct 28 21:43:27 1998  Thomas Roessler  <roessler@guug.de>

	* curs_lib.c:
	Add an IsPrint check to mutt_message() and mutt_curses_error(). This
	will prevent _some_ advert effects from l10ns which don't fit
	together with the terminal's abilities.  There are still quite a few
	raw printw() etc. - we may wish to introduce our own, locale-safe
	versions of these.

	* po/POTFILES.in: reldate contais really _no_ i18n-related data.

	* send.c:
	Don't try to recall a postponed message when we are given a template.

	* copy.c:
	Fix a possible segmentation fault when deleting nested attachments.

	* doc/manual.sgml.in, send.c, mutt.h, init.h:
	Add a $forward_weed option which controls header weeding when
	decode-forwarding messages.

	* po/ru.po, po/it.po, po/es.po, po/de.po:
	German translation fixes from Gero plus checkpoint commit.

	* doc/manual.sgml.in, pager.h, pager.c, mutt_menu.h, keymap.c, help.c, curs_main.c, commands.c, attach.c, OPS:
	Gero Treuner's help-wrap patch.

	* po/ru.po, po/it.po, po/es.po, po/de.po:
	Adding a current spanish translation.

	* send.c:
	if reply-to points to the address on the from header, use the from
	header's value for composing a reply's recipient list, not the
	reply-to header.

	* configure.in: add the ukrainian l10n.

Tue Oct 27 19:02:45 1998  Thomas Roessler  <roessler@guug.de>

	* Attic/configure:
	Configure is generated automatically and should thus _not_ be part
	of the CVS repository.

	* configure.in, Attic/configure, README, INSTALL:
	Try to detect Solaris 2.4's broken regcomp().

	* send.c: Move some code around.

	* doc/manual.sgml.in: Some documentation nits.

	* dotlock.c:
	include config.h _before_ checking for HAVE_GETOPT.  Noted by Scott
	Perlman <perlman@linguist.dartmouth.edu>.

	* Muttrc.in: Add a macro for viewing the manual.

	* pgp.c, configure.in, Attic/configure: i18n fixes.

	* po/ru.po, po/es.po, po/it.po, po/de.po:
	A couple of i18n fixes, plus a partial spanish translation from
	Boris Wesslowski <Boris.Wesslowski@StudBox.Uni-Stuttgart.DE>.

	* configure.in, Attic/configure:
	Handle systems which have neither pgp2 nor pgp5, but gpg correctly.

	* compose.c: - snd_entry() is marked static
	- You will only get a full redraw of the screen after invoking
	  pgp_send_menu if you selected "sign as".
	- draw_envelope() and edit_address_list() use the same array of
	  strings for titles/prompts. This saves both string data and code
	  in both functions which have been a lot smaller.

	* sendlib.c, send.c, protos.h, postpone.c, compose.c:
	Preserve FCC headers when postponing.  From Vikas.

	* mx.c, mutt.h, imap.c:
	Prevent mutt from re-reading IMAP folders before quitting.

Thu Oct 22 13:53:47 1998  Thomas Roessler  <roessler@guug.de>

	* send.c: Undo some superfluous changes.  Pointed out by V.A.

	* send.c, protos.h, postpone.c:
	- Preserve certain headers' values when recallling a postponed
	  message.  TBD:  Fcc.

	- Rename mutt_edit_message() to mutt_prepare_edit_message() since
	  that's what that function actually does.

	* mx.h, mx.c, lib.c, flags.c:
	Make _all_ IMAP-related code conditionally defined.  From Byrial
	Jensen.

Wed Oct 21 22:46:16 1998  Thomas Roessler  <roessler@guug.de>

	* protos.h, pattern.c, hdrline.c:
	Fix match-all for the ~p, ~P modifiers.

	* compose.c: Vikas' write_fcc patch.

	* doc/manual.sgml.in: Documentation nits from Byrial.

	* curs_lib.c:
	Also accept numbers as input in mutt_multi_choice().  From Byrial.

	* prepare: Fix the documentation reference in prepare.

	* doc/devel-notes.txt:
	Add a gettext automake macro patch which is needed for proper
	building of mutt.

	* prepare, Attic/config.h.in, Attic/aclocal.m4, README, INSTALL:
	Remove some automatically generated files from the CVS repository,
	and add a script which generates them.

	* Makefile.am: Don't overwrite $(sysconfdir)/Muttrc if present.

	* po/ru.po, po/it.po, po/de.po, protos.h, curs_lib.c, compose.c, commands.c, browser.c:
	Byrial Jensen's mutt_multi_choice() patch plus some German
	translations.

	* pgpinvoke.c, gnupgparse.c:
	Make gpg's output look a little bit cleaner.

	* po/ru.po, po/it.po, po/de.po, reldate.h: Release commit.

	* VERSION, ChangeLog: Preparing 0.94.14.

Tue Oct 20 22:02:58 1998  Thomas Roessler  <roessler@guug.de>

	* po/ru.po, po/it.po, po/de.po: Checkpoint commit.

	* Attic/config.h.in, Makefile.am:
	Include VERSION with the distribution.

	* configure.in, Attic/configure, Attic/config.h.in, VERSION:
	Don't hard-wire the program's version in configure.in, but use the
	VERSION file instead.  Stolen from gnupg.

	* ChangeLog: Checkpoint commit.

	* doc/manual.sgml.in, keymap.c, functions.h, NEWS:
	Another macro-function fix from Vikas.

Tue Oct 20 22:02:58 1998  Thomas Roessler  <roessler@guug.de>

	* po/ru.po, po/it.po, po/de.po: Checkpoint commit.

	* config.h.in, Makefile.am: Include VERSION with the distribution.

	* configure.in, configure, VERSION, config.h.in:
	Don't hard-wire the program's version in configure.in, but use the
	VERSION file instead.  Stolen from gnupg.

	* ChangeLog: Checkpoint commit.

	* socket.c, mutt_socket.h: Fix the multiple connection code.
	From Brandon Long.

Mon Oct 19 20:08:10 1998  Thomas Roessler  <roessler@guug.de>

	* postpone.c: fix a typo.

	* Makefile.am: Fix dotlock's installation when DOTLOCK_GROUP is empty.

	* po/it.po: Ups, this was missing from the repository.

	* po/ru.po, po/de.po: Adding some new and improved German
	translations.

	* init.c: handle domain == "@" properly.

	* postpone.c: Fix the behaviour when recalling postponed
	messages: Content types would not be restored.

Fri Oct 16 12:09:37 1998  Thomas Roessler  <roessler@guug.de>

	* lib.c: Harden mutt_free_header() against NULL pointers.

	* keymap.c, handler.c: Nits from Vikas.

	* send.c: Fix a segmentation fault when OPT_RECALL is ask-something.

	* commands.c: Don't write out bad content-length and lines headers when
	decode-saving a message.

Thu Oct 15 23:09:30 1998  Thomas Roessler  <roessler@guug.de>

	* rx/rxunfa.c, rx/rxsuper.c, rx/rxstr.c, rx/rxspencer.c, rx/rxsimp.c, rx/rxposix.c, rx/rxnode.c, rx/rxnfa.c, rx/rxhash.c, rx/rxgnucomp.c, rx/rxcset.c, rx/rxbitset.c, rx/rxbasic.c, rx/rxanal.c, rx/rx.c, rx/hashrexp.c, intl/textdomain.c, intl/localealias.c, intl/loadmsgcat.c, intl/l10nflist.c, intl/intl-compat.c, intl/gettext.c, intl/finddomain.c, intl/explodename.c, intl/dgettext.c, intl/dcgettext.c, intl/cat-compat.c, intl/bindtextdom.c, charsets/parse_i18n.c, thread.c, system.c, strcasecmp.c, status.c, sort.c, socket.c, snprintf.c, signal.c, sha1dgst.c, sendlib.c, send.c, score.c, rfc822.c, rfc2047.c, rfc1524.c, resize.c, recvattach.c, query.c, postpone.c, pop.c, pgppubring.c, pgpkey.c, pgpinvoke.c, pgp.c, pattern.c, parse.c, pager.c, mx.c, mh.c, menu.c, mbox.c, main.c, lib.c, keymap.c, init.c, imap.c, hook.c, history.c, help.c, headers.c, hdrline.c, hash.c, handler.c, gnupgparse.c, getdomain.c, from.c, flags.c, filter.c, enter.c, edit.c, dotlock.c, date.c, curs_main.c, curs_lib.c, copy.c, config.h.in, compose.c, complete.c, commands.c, color.c, charset.c, buffy.c, browser.c, attach.c, alias.c, addrbook.c, ChangeLog:
	Change "static char rcsid[]" to "static const char rcsid[]" to make
	gcc shut up about this.

	* rx/Makefile.in, po/Attic/stamp-cat-id, po/ru.po, po/Attic/mutt.pot, po/de.po, po/Attic/cat-id-tbl.c, reldate.h, configure.in, configure, config.h.in, Attic/Makefile.in, ChangeLog:
	Random pre-release clean-up.

	* po/Attic/mutt.pot, doc/manual.sgml.in, pattern.c, mutt.h:
	This patch introduces the ~k pattern for messages containing
	pgp key material.

Thu Oct 15 20:15:46 1998  Thomas Roessler  <roessler@guug.de>

	* rx/Makefile.in, po/Attic/stamp-cat-id, po/ru.po,
	po/Attic/mutt.pot, po/de.po, po/Attic/cat-id-tbl.c,
	reldate.h, configure.in, configure, config.h.in,
	Attic/Makefile.in, ChangeLog: Random pre-release clean-up.

	* po/mutt.pot, doc/manual.sgml.in, pattern.c, mutt.h:
	This patch introduces the ~k pattern for messages containing pgp key
	material.

	* doc/manual.sgml.in: Add some missing key definitions.

	* mutt_curses.h:
	There seem to be systems which don't know about KEY_ENTER.

	* po/mutt.pot, po/cat-id-tbl.c: Check-point commit, again.

	* sendlib.c:
	Put #ifdefs around a variable which is only used for generating
	uuencoded messages.

	* ChangeLog: Update.

	* po/ru.po, po/mutt.pot, po/cat-id-tbl.c, sendlib.c,
	compose.c: Don't ever permit the user to generate uuencoded
	messages with mutt.

	* keymap.c: A slightly modified version of Vikas'
	help_unbound patch.

	* po/mutt.pot, sendlib.c, protos.h, postpone.c, parse.h,
	parse.c, mh.c, mbox.c, main.c, imap.c, headers.c, buffy.c:
	Fixing a memory hog which was introduced by the edit-message
	patch.

Wed Oct 14 22:58:04 1998  Thomas Roessler  <roessler@guug.de>

	* po/ru.po, po/mutt.pot, po/de.po, po/cat-id-tbl.c, compose.c:
	Warn the user before sending out uuencoded attachments.

	* handler.c: Fix prefix and utf8 issues in the uudecoder.

	* sendlib.c, parse.c, mime.h, handler.c, globals.h, config.h.in:
	Thinking about this once again, ok folks, here comes x-uuencode
	support.

	* handler.c: typo.

	* handler.c:
	When Charset is utf-8 (not recommended!), don't active utf8
	translation in the various handler routines.

	* Makefile.in, Makefile.am:
	Add -I$(includedir) to the C preprocessor flags.  Per request of
	Clint Olsen.

	* po/ru.po, po/de.po, charsets/parse_i18n.c, charsets/Makefile.in, configure.in, configure, config.h.in, Makefile.in, Makefile.am:
	More build process clean-up.

	* po/mutt.pot, po/Makefile.in.in, charsets/Makefile.in, config.h.in, Makefile.in:
	Removing some instances of gnu-make specific command line parameters.

	* doc/manual.sgml.in: Document the match-all feature.

	* po/mutt.pot, main.c, dotlock.c, configure.in, configure, config.h.in, Makefile.in, Makefile.am:
	Various build fixes.

	* color.c: Adding some necessary ifdefs to color.c, From
	Irving_Wolfe@wolfe.net.

Tue Oct 13 23:37:05 1998  Thomas Roessler  <roessler@guug.de>

	* po/ru.po, po/de.po: Checkpoint commit.  This gets boring.

	* NEWS: Merging Vikas' NEWS file into the distributed one.

	* po/mutt.pot, config.h.in, Makefile.in, ChangeLog: Preparing 0.94.12.

	* po/ru.po, po/mutt.pot, po/de.po, po/cat-id-tbl.c,
	reldate.h, recvattach.c, configure.in, configure,
	config.h.in, commands.c, README, NEWS, Makefile.in,
	Makefile.am, INSTALL: random pre-release clean-up.

	* po/ru.po, po/mutt.pot, po/de.po, po/cat-id-tbl.c,
	po/POTFILES.in, reap.pl, gen_defs, configure.in, configure,
	config.h.in, NEWS, Makefile.in, Makefile.am: Introducing a
	us-dist target to create a USG-friendly version of mutt.
	Additionally, the NEWS file is prepared for 0.95.

	* doc/devel-notes.txt: Add a short note on compiler warnings.

	* po/ru.po, po/de.po, po/POTFILES.in, po/Makefile.in.in,
	charsets/gen_charsets, charsets/Makefile.in, missing,
	mime.types: More $Id$ strings.

	* Add RCS $Id$ strings to (hopefully) all source files.

	* enter.c: Type Ctrl-V Ctrl-G in any input field.

	* curs_main.c:
	Bumping some dprint statements' debug levels.  From Vikas.

	* po/ru.po, po/mutt.pot, po/de.po:
	Including the new ru.po file from "Andrej N. Gritsenko"
	<andrej@lucky.net>; check-point commit.

Mon Oct 12 19:53:49 1998  Thomas Roessler  <roessler@guug.de>

	* recvattach.c, query.c, postpone.c, pgpkey.c, curs_main.c,
	compose.c, browser.c, addrbook.c: The attached patch removes
	some redundant code related to the macro function stuff.
	Since each menu calls km_dokey() to get the 'op' number to
	execute, the 'menu' argument to km_dokey() _is_ the
	CurrentMenu. Hence, there is no need to explicitly
	save/restore the CurrentMenu all over the code. The only
	places it is being captured now is just before
	mutt_enter_comamnd() is called. This is to help the 'exec'
	command completion code so that it knows which menu to try
	and complete the function name from. (From: Vikas Agnihotri
	<VikasA@att.com>)

	* doc/manual.sgml.in, doc/Attic/manual.sgml,
	doc/Makefile.in, sendlib.c, main.c, init.c, configure.in,
	configure, config.h.in, acconfig.h, Makefile.in,
	Makefile.am: Mutt now correctly uses the sysconfdir as
	determined by configure.

	* po/ru.po, po/mutt.pot, po/de.po: Checkpoint commit.

	* po/ru.po, po/mutt.pot, po/de.po, reldate.h, configure.in,
	configure, ChangeLog: Check-point commit before 0.94.11 is
	released.

Sun Oct 11 22:11:00 1998  Thomas Roessler  <roessler@guug.de>

	* doc/Makefile.in, contrib/Makefile.in:
	Makefile clean-up as suggested by Marco d'Itri.

	* doc/dotlock.man.in, doc/Makefile.in:
	Install dotlock's manual page under the correct name.

Sun Oct 11 22:11:00 1998  Thomas Roessler  <roessler@guug.de>

	* doc/Makefile.in, contrib/Makefile.in:
	Makefile clean-up as suggested by Marco d'Itri.

	* doc/dotlock.man.in, doc/Makefile.in:
	Install dotlock's manual page under the correct name.

Thu Oct  8 13:22:16 1998  Thomas Roessler  <roessler@guug.de>

	* README: Reference some of the new doc files.

	* doc/Makefile.in: Some more changes to the installation process.

	* doc/Makefile.in:
	Fix the uninstall target; add some magic to build and install the
	HTML version of the manual if we can.

	* doc/applying-patches.txt, doc/devel-notes.txt,
	doc/PGP-Notes.txt, doc/Makefile.in: Some more documentation;
	install the html version of the manual if it's there.

	* doc/manual.sgml:
	The manual was wrong on the default binding for extract-keys.

Wed Oct  7 22:19:27 1998  Thomas Roessler  <roessler@guug.de>

	* doc/manual.sgml, pop.c, mutt.h, init.h, Muttrc.in:
	POP3 LAST support.  From Jason Lavoie <jason@mint.net> by way of
	Michael Elkins.

	* po/mutt.pot, po/cat-id-tbl.c: Clean-up commit.

	* gnupgparse.c:
	Redirect stdin and stderr to /dev/null when invoking gpgm for
	listing key IDs.

	* socket.c, mutt_socket.h, imap.c:
	First fix of the IMAP expunge handling.  From Brandon Long.

	* keymap.c, curs_lib.c: Fix macro functions for the pager menu.

	* keymap.c:
	The attached patch fixes a minor inconsistency between the display
	of special key-names in the help screen and their actual usage. The
	help screen now shows the special keys exactly as you
	would/could/should use them in the muttrc/command-line. (From: Vikas
	Agnihotri <VikasA@att.com>)

	* keymap.c: Fix the error message for unbound keys.  From Vikas.

	* charsets/Makefile.in: s/make/$(MAKE)/

	* charsets/Makefile.in:
	UnixWare needs our own version of strcasecmp/strncasecmp.

	* browser.c:
	Clean up behind an aborted sort-by prompt on the file browser.  From
	Vikas.

	* hdrline.c:
	The attached patch fixes a minor bug in $index_format's %B and %b
	where they didnt respect the given prefix. In addition, the manual
	says that %B is supposed to fall back to %b if the message is not
	sent to a known mailing list. The code was not doing that.  (From:
	Vikas Agnihotri <VikasA@att.com>, noted on comp.mail.mutt by
	unny@rz114s0.rz.uni-karlsruhe.de (Vladimir Klebanov)).

	* doc/PGP-Notes.txt:
	pgp_language is obsolete.  Noted by Heiko Schlichting.

Tue Oct  6 15:10:53 1998  Thomas Roessler  <roessler@guug.de>

	* keymap.c: Macro function fixes.

	* curs_lib.c: With slang, ERR != -1.

	* po/mutt.pot, po/de.po: Message fix.

	* attach.c: Fix another pipe-related hang in mutt_view_attachment().

Mon Oct  5 21:37:15 1998  Thomas Roessler  <roessler@guug.de>

	* configure, aclocal.m4: Another fix to libintl detection.

	* keymap.c, curs_lib.c: macro_function.2-3, from Vikas.

	* handler.c: File descriptor leak alert.

	* handler.c:
	Avoid a hang due to blocking pipe writes in the auto view code.

	* keymap.c, curs_main.c, curs_lib.c:
	Make exec grok >= 1 parameters; fix double ops problem in
	index_menu().

	* po/ru.po, po/mutt.pot, po/de.po, po/cat-id-tbl.c:
	L10n changes corresponding to the macro-function patch.

	* flags.c, compose.c: Some fixes to the macro-function patch.

	* po/ru.po: Adding the Russian Localization.

	* recvattach.c, query.c, protos.h, postpone.c, pgpkey.c, pager.c, mutt_curses.h, mutt.h, menu.c, keymap.c, init.h, init.c, globals.h, flags.c, enter.c, curs_main.c, curs_lib.c, configure.in, configure, compose.c, commands.c, browser.c, addrbook.c, aclocal.m4:
	Vikas' macro_function patch.

	* charsets/gen_charsets:
	I'm told that some systems don't like "#!/bin/sh" at the beginning
	of a script, but need "#! /bin/sh".

Sun Oct  4 15:02:32 1998  Thomas Roessler  <roessler@guug.de>

	* charsets/gen_charsets, configure.in, configure:
	Fixing some make-related problems noted by Petri Kaukasoina
	<kaukasoi-mutt@elektroni.ee.tut.fi>.

	* po/mutt.pot, send.c: Fix group-reply's behaviour.

	* doc/Attic/style-guide, doc/devel-notes.txt:
	Replace style-guide by some more general notes on mutt development.

	* Makefile.in: Propagate fixes from Makefile.am.

	* ChangeLog: Preparing 0.94.10.

	* rx/Makefile.in: subdir=rx was missing here.

	* po/mutt.pot, po/de.po: Noise.

	* configure.in, configure, Makefile.am:
	More fixes to the build process.  This version was tested to build
	cleanly under SuSE Linux and IRIX.

Sun Oct  4 09:26:36 1998  Thomas Roessler  <roessler@guug.de>

	* rx/Makefile.in: subdir=rx was missing here.

	* po/mutt.pot, po/de.po: Noise.

	* configure.in, configure, Makefile.am:
	More fixes to the build process.  This version was tested to build
	cleanly under SuSE Linux and IRIX.

Sat Oct  3 22:08:09 1998  Thomas Roessler  <roessler@guug.de>

	* doc/Attic/manual.txt:
	manual.txt can be rebuilt when making the dist - no need to keep
	this in the repository.

	* ChangeLog: Preparing ChangeLog for 0.94.10.

	* contrib/Makefile.in: Ups.

	* rx/Makefile.in, po/mutt.pot, po/de.po, po/cat-id-tbl.c, po/Makefile.in.in, doc/Attic/language50.txt, doc/Attic/language.txt, contrib/patch.slang-1.2.2.keypad.1, contrib/sample.mailcap, contrib/sample.muttrc, doc/Makefile.in, contrib/Mush.rc, contrib/Pine.rc, contrib/language.txt, contrib/language50.txt, charsets/gen_charsets, charsets/Makefile.in, Attic/sample.muttrc, Attic/sample.mailcap, Attic/reap.pl, pop.c, Attic/patch.slang-1.2.2.keypad.1, Attic/depend.awk, configure.in, configure, Attic/Pine.rc, Attic/Mush.rc, Makefile.in, Makefile.am, ChangeLog:
	Source tree and make process changes.  make dist and make
	maintainer-clean should now work as they are supposed to.

Sat Oct  3 22:06:19 1998  Thomas Roessler  <roessler@guug.de>

	* contrib/Makefile.in: Ups.  This one was missing from the
	last commit.

	* rx/Makefile.in, po/mutt.pot, po/de.po, po/cat-id-tbl.c,
	po/Makefile.in.in, doc/Attic/language50.txt,
	doc/Attic/language.txt, contrib/patch.slang-1.2.2.keypad.1,
	contrib/sample.mailcap, contrib/sample.muttrc,
	doc/Makefile.in, contrib/Mush.rc, contrib/Pine.rc,
	contrib/language.txt, contrib/language50.txt,
	charsets/gen_charsets, charsets/Makefile.in,
	Attic/sample.muttrc, Attic/sample.mailcap, Attic/reap.pl,
	pop.c, Attic/patch.slang-1.2.2.keypad.1, Attic/depend.awk,
	configure.in, configure, Attic/Pine.rc, Attic/Mush.rc,
	Makefile.in, Makefile.am, ChangeLog: Source tree and make
	process changes.  make dist and make maintainer-clean should
	now work as they are supposed to.

	* help.c: Remove an unprotected gettext() call.

	* missing: *** empty log message ***

	* missing: Persuade CVS to get the file modes right.

	* INSTALL:
	Adding a note on SparcLinux problems when gcc is called with the
	-pedantic flag.

Fri Oct  2 17:39:47 1998  Thomas Roessler  <roessler@guug.de>

	* po/mutt.pot, po/de.po:
	A small fix to get autoview messages properly colored.

	* pattern.c, mutt.h, Makefile.in: patch-0.92.8.sec.match_all.1

	* rx/Attic/Makefile:
	The Makefile here is supposed to be generated by autoconf.

	* rx/Makefile.in, rx/Attic/Makefile, po/mutt.pot, configure.in, configure, Makefile.in, Makefile.am:
	Fixing some build-related problems, and preparing 0.94.9p1.

	* doc/manual.txt, doc/manual.sgml, hdrline.c:
	Roland Rosenfeld's first name patch.

	* mutt.h, compose.c: More () fixes.

	* mutt.h, edit.c, curs_lib.c, browser.c:
	With SLang, addstr() is a macro.  This means we should put
	additional braces around _()-style arguments.

Thu Oct  1 20:16:56 1998  Thomas Roessler  <roessler@guug.de>

	* po/mutt.pot, po/de.po, po/cat-id-tbl.c, po/POTFILES.in, doc/Makefile.in:
	Translate help strings.

	* charsets/Makefile.in, postpone.c, pager.c, help.c, compose.c, Makefile.in:
	Translate help strigns.

	* intl/VERSION, intl/Attic/libintl.h, intl/Attic/libintl.glibc, intl/Attic/intlh.inst.in, intl/Attic/COPYING, intl/Attic/BUGS, intl/Attic/AUTHORS:
	*** empty log message ***

	* po/mutt.pot, po/de.po, po/cat-id-tbl.c, po/POTFILES.in, recvattach.c, query.c, pager.c, curs_main.c, compose.c, browser.c, addrbook.c:
	Translate the various help lines.

	* mutt.h, lib.c, handler.c: Gero Treuner's reply_quote patch.

	* po/mutt.pot, po/de.po, po/cat-id-tbl.c, po/POTFILES.in:
	Add l10n for handler.c.

	* po/mutt.pot, po/de.po, po/cat-id-tbl.c, curs_lib.c:
	Make mutt_yesorno() language sensitive.

	* po/de.po: Various German-language related fixes.

	* reldate.h, configure.in, configure, TODO, Makefile.in, ChangeLog:
	Preparing 0.94.9i.

	* po/de.po: German l10n, first take.

	* intl/Attic/AUTHORS, intl/Attic/BUGS, intl/Attic/COPYING:
	Adding legalese.

	* po/mutt.pot, po/de.po, po/cat-id-tbl.c, main.c: More i18n fixes.

	* po/mutt.pot, po/de.po, po/cat-id-tbl.c:
	Adapting the catalog files to 0.94.8.

	* charsets/Makefile.in, configure.in, configure, Makefile.in, Makefile.am:
	Various automake and installation fixes.

	* po/Makefile.in.in, po/POTFILES.in, po/cat-id-tbl.c, po/de.po, po/mutt.pot, po/stamp-cat-id, intl/Attic/intlh.inst.in, intl/Attic/libintl.glibc, intl/Attic/libintl.h, intl/ChangeLog, intl/Makefile.in, intl/bindtextdom.c, intl/cat-compat.c, intl/dcgettext.c, intl/dgettext.c, intl/explodename.c, intl/finddomain.c, intl/gettext.c, intl/gettext.h, intl/gettextP.h, intl/hash-string.h, intl/intl-compat.c, intl/l10nflist.c, intl/libgettext.h, intl/linux-msg.sed, intl/loadinfo.h, intl/loadmsgcat.c, intl/localealias.c, intl/po2tbl.sed.in, intl/textdomain.c, intl/xopen-msg.sed, doc/Makefile.in, thread.c, stamp-h.in, status.c, sort.c, signal.c, sendlib.c, send.c, score.c, rfc1524.c, recvattach.c, query.c, postpone.c, pop.c, pgppubring.c, pgpkey.c, pgp.c, pattern.c, parse.c, pager.c, mx.c, missing, mutt.h, mh.c, menu.c, mbox.c, main.c, lib.c, keymap.c, init.c, imap.c, hook.c, help.c, headers.c, handler.c, gen_defs, flags.c, edit.c, date.c, curs_main.c, curs_lib.c, copy.c, configure.in, configure, config.h.in, compose.c, commands.c, color.c, buffy.c, browser.c, attach.c, alias.c, aclocal.m4, addrbook.c, acconfig.h, ABOUT-NLS, Makefile.am, Makefile.in:
	Adding gettext support, based on the patch by Marco d'Itri.

	* TODO: add a note about the currently-missing mh_sequences support.

Thu Oct  1 11:22:51 1998  Thomas Roessler  <roessler@guug.de>

	* po/de.po: German l10n, first take.

	* intl/AUTHORS, intl/BUGS, intl/COPYING: Adding legalese.

	* po/mutt.pot, po/de.po, po/cat-id-tbl.c, main.c: More i18n fixes.

	* po/mutt.pot, po/de.po, po/cat-id-tbl.c:
	Adapting the catalog files to 0.94.8.

	* charsets/Makefile.in, configure.in, configure, Makefile.in, Makefile.am:
	Various automake and installation fixes.

	* po/Makefile.in.in, po/POTFILES.in, po/cat-id-tbl.c,
	po/de.po, po/mutt.pot, po/stamp-cat-id, intl/ChangeLog,
	intl/Makefile.in, intl/bindtextdom.c, intl/cat-compat.c,
	intl/dcgettext.c, intl/dgettext.c, intl/explodename.c,
	intl/finddomain.c, intl/gettext.c, intl/gettext.h,
	intl/gettextP.h, intl/hash-string.h, intl/intl-compat.c,
	intl/intlh.inst.in, intl/l10nflist.c, intl/libgettext.h,
	intl/libintl.glibc, intl/libintl.h, intl/linux-msg.sed,
	intl/loadinfo.h, intl/loadmsgcat.c, intl/localealias.c,
	intl/po2tbl.sed.in, intl/textdomain.c, intl/xopen-msg.sed,
	doc/Makefile.in, thread.c, stamp-h.in, status.c, sort.c,
	signal.c, sendlib.c, send.c, score.c, rfc1524.c,
	recvattach.c, query.c, postpone.c, pop.c, pgppubring.c,
	pgpkey.c, pgp.c, pattern.c, parse.c, pager.c, mx.c, missing,
	mutt.h, mh.c, menu.c, mbox.c, main.c, lib.c, keymap.c,
	init.c, imap.c, hook.c, help.c, headers.c, handler.c,
	gen_defs, flags.c, edit.c, date.c, curs_main.c, curs_lib.c,
	copy.c, configure.in, configure, config.h.in, compose.c,
	commands.c, color.c, buffy.c, browser.c, attach.c, alias.c,
	aclocal.m4, addrbook.c, acconfig.h, ABOUT-NLS, Makefile.am,
	Makefile.in: Adding gettext support, based on the patch by
	Marco d'Itri.

	* TODO: add a note about the currently-missing mh_sequences support.

	* send.c:
	Fix the PgpSignMicalg vanishing when recalling postponed messages.
	Bug squashed by Bjrn Fischer.

Wed Sep 30 13:56:24 1998  Thomas Roessler  <roessler@guug.de>

	* doc/manual.txt, doc/manual.sgml: SGML fix.

	* postpone.c, headers.c:
	Don't generate a NULL micalg parameter when getting postponed
	messages.

	* functions.h:
	Removing some superfluous key bindings from functions.h.  (From:
	Gero Treuner <gero@faveve.uni-stuttgart.de>)

	* doc/manual.sgml, init.c:
	Add some more support for version-dependant configuration files.

	* copy.c:
	When forwarding a mail (nomime_forw) and you have forw_quote set,
	mutt inserts a blank line between header and body of the forwarded
	message.

	* compose.c:
	Tell the user how to attach messages when using the attach-message
	feature.

	* doc/manual.sgml, pattern.c, mutt.h:
	Add ~g and ~G patterns for PGP signed and encrypted messages.

	* doc/manual.sgml: Documentation for Vikas' latest features.

Tue Sep 29 15:40:01 1998  Thomas Roessler  <roessler@guug.de>

	* status.c:
	_Really_ fix an unset or too short StChars varialbe.  (From Vikas.)

	* rfc822.c: Fix a segmentation fault occuring with certain badly-formed
	RFC822-like addresses.

	* hdrline.c: Make status characters work again.

	* doc/manual.txt, doc/manual.sgml: Documenting some more variables.

	* Muttrc.in: Add newly added variables to the default system muttrc.

	* status.c: Catch short StChars values.

	* mutt.h, init.c, hdrline.c: Add caching for a message's flags.

	* charsets/parse_i18n.c, charsets/gen_charsets, charsets/Makefile.in, Makefile.in:
	patch-0.94.7i.rr.charsets_fix.1, from Roland Rosenfeld.

	* doc/manual.txt, doc/manual.sgml, configure.in, configure:
	Some nits from Gero Treuner.

Mon Sep 28 17:40:47 1998  Thomas Roessler  <roessler@guug.de>

	* pager.c, curs_main.c: Vikas' pipe-redraw fix.

	* doc/manual.txt, doc/manual.sgml, doc/Makefile.in, GPL, main.c, COPYRIGHT, Attic/COPYING:
	A first take at bringing copyright notices and credits into synch
	with reality.

	* reldate.h, configure.in, configure, TODO, Makefile.in, ChangeLog:
	Preparing 0.94.8i.

Sat Sep 26 10:13:39 1998  Thomas Roessler  <roessler@guug.de>

	* mh.c: Changing the index_hint handling for mh folders once again.

	* mh.c:
	Resort the incoming folder from mh_sync_mailbox() also when new mail
	arrived.

Sat Sep 26 10:13:39 1998  Thomas Roessler  <roessler@guug.de>

	* mh.c: Changing the index_hint handling for mh folders once again.

	* mh.c:
	Resort the incoming folder from mh_sync_mailbox() also when new mail
	arrived.

Fri Sep 25 06:56:35 1998  Thomas Roessler  <roessler@guug.de>

	* pager.c: patch.mutt-0.94.5i.ld.quote_levels.3-4

Thu Sep 24 23:19:50 1998  Thomas Roessler  <roessler@guug.de>

	* pager.c: A new quote_levels patch from liviu.

	* sendlib.c:
	Rewrite the base64-encoder used for messages.  This should be
	unified with the encoder in rfc2047.c at some point.

	* pager.c: Undoing Livius quote-levels patch for now.

	* sendlib.c, mutt.h, charset.h, charset.c:
	[patch-0.94.7i.gt.charset-send.1.gz] With the new charset support in
	mutt there are better chances to say whether a mail to send consists
	of characters of the ASCII set only (the charset should be
	"us-ascii" then) or of other characters from the given charset (this
	charset should be given then): ASCII characters have the unicode
	values from 0 to 127.

	* init.c: Fix a segmentation fault with mismatched backticks.

	* init.c: Vikas' merged completion patch, level 3.

Wed Sep 23 20:01:06 1998  Thomas Roessler  <roessler@guug.de>

	* pager.c, mutt_regex.h, init.h: Liviu Daia's smiley patch.

	* status.c, sendlib.c, recvattach.c, protos.h, pager.h, pager.c, mutt.h, main.c, init.h, curs_main.c, curs_lib.c, compose.c, commands.c:
	Disable recursive invocations of the attach-message function.

	* mh.c: Really fix the index hints.

	* mh.c: Correct the index_hint handling in mh_check_mailbox().

	* sendlib.c: RFC2047-encode the mail-followup-to header.

	* TODO: Remove the maildir/mh resynch entry.

	* pager.c:
	There is a long-standing problem in Mutt, related to coloring the
	various levels of quoting: if the attributions are missing, like
	this:
	        >>> blah blah from A
		>> blah blah from B
		> blah blah from C

	then the "quoted" color object is associated with ">>>", "quoted1"
	with ">>" and "quoted2" with ">" --- which is not what most people
	expect. The reason is Mutt doesn't count the quote characters (since
	there is no way to distinguish between a single quote ">> " and a
	">" followed by a "> "), and it allocates colors as it finds new
	types of quote prefixes. The attached patch fixes this problem still
	without counting the quote characters.

Tue Sep 22 22:54:52 1998  Thomas Roessler  <roessler@guug.de>

	* mx.h, mx.c, mutt.h, mh.c, mbox.c, buffy.c:
	A first take at corrected mh/maildir support.

	* mx.c, mh.c: Some fixes and code clean-ups.

	* mutt.h, mh.c, init.h: Introduce the $mh_purge option.

	* sendlib.c: Produce "undisclosed-recipients:;" instead of
	""undisclosed-recipients:;":;" when the user gives no To-Header.

	* mx.c: When generating new messages in MH folders, the initial number
	should be "1", not "2".  Fix from Gero Treuner.

	* init.c: patch-0.94.7i.vikas.jmy.misc_complete.2

Mon Sep 21 12:49:50 1998  Thomas Roessler  <roessler@guug.de>

	* sendlib.c: Avoid a dangling pointer in mutt_message_to_7bit().

Sun Sep 20 12:05:39 1998  Thomas Roessler  <roessler@guug.de>

	* pager.c: Byrial Jensen's bold-underline patch.

	* charsets/parse_i18n.c: parse_i18n.c doesn't really need snprintf.

Fri Sep 18 05:45:56 1998  Thomas Roessler  <roessler@guug.de>

	* reldate.h, configure.in, configure, ChangeLog: Preparing 0.94.7i.

	* protos.h, init.c, enter.c:
	Applying the third generation of command completion patches.

Fri Sep 18 05:40:24 1998  Thomas Roessler  <roessler@guug.de>

	* protos.h, init.c, enter.c:
	Applying the third generation of command completion patches.

Wed Sep 16 20:08:25 1998  Thomas Roessler  <roessler@guug.de>

	* curs_lib.c:
	Attached is a minor fix to mutt_getch in curs_lib.c - as of 0.93.2i,
	if +'metakey' and 'timeout' were both set, mutt_getch was returning
	an ESC rather than -1, which resulted in 'key not bound' messages
	every 'timeout' seconds.  (From: Tim Walberg <walberg@cig.mot.com>)

	* copy.c:
	[patch-0.94.6i.oe.dprint2.1] Fix a segmentation fault when running
	in -d2 mode.

	* keymap.c: Use <fN> for function keys as well as for other special
	keys.  Additionally, this patch makes it possible to use
	all special keys inside a key _sequence_.

	* sendlib.c, mutt.h, curs_main.c, compose.c:
	Introduce the OPTUSEHEADERDATE pseudo-option to control
	mutt_write_rfc822_header()'s behaviour for the purposes of
	the edit_message feature.

	* init.c: When parsing aliases, don't consider ';' a token
	delimiter.

Tue Sep 15 21:41:51 1998  Thomas Roessler  <roessler@guug.de>

	* init.c: Undoing Vikas' complete patch and applying
	patch-0.94.6i.jmy.cycle_complete.1 instead.

	* handler.c: _Really_ fix CRLF handling.

	* charset.c: Fix the crlf handling.

	* pgppubring.c: UTF8-decode PGP user ID packets.

	* rfc2047.c, mutt.h, lib.c, handler.c, charset.h, charset.c:
	Adding basic UTF-8 support.

	* copy.c: When using mutt_copy_header with CH_TXTPLAIN, generate a
	content-type _with_ a character set parameter.

	* Makefile.in: Correcting a typo in the clean target.

	* charsets/parse_i18n.c, charsets/gen_charsets, charsets/Makefile.in, handler.c, charset.h, charset.c:
	Add charset alias support and fix various errors in the
	character set code.

	* charset.c: Fix mutt_display_char to map '\0' to itself regardless of
	the translation table we use.

	* charsets/Makefile.in, charsets/gen_charsets, charsets/parse_i18n.c, Attic/gen-charset.c, configure.in, configure, charset.h, charset.c, Makefile.in:
	Generate the character set tables from i18n files.

	* imap.c: Finally fix imap_quote_string().

	* compose.c: [patch-0.94.6i.gt.arrow.1] Add M_ARROWCURSOR on the
	compose menu.

Mon Sep 14 21:33:34 1998  Thomas Roessler  <roessler@guug.de>

	* imap.c: Fix IMAP quoting.

	* Muttrc.in: Speling corection for Muttrc.in.

	* init.c: [patch-0.94.6.vikas.complete.1] Fix a completion-related
	buffer overflow.

Sun Sep 13 15:29:54 1998  Thomas Roessler  <roessler@guug.de>

	* reldate.h, configure.in, configure, ChangeLog: Preparing 0.94.6i.

	* sendlib.c, rfc2047.c, recvattach.c, hash.h, Attic/gen-charset.c, handler.c, configure.in, configure, commands.c, charset.h, charset.c, Makefile.in:
	This patch adds on-demand loading of character set tables,
	changes the default location of $SHAREDIR, and fixes some
	compilation problems occuring on machines without PGP
	installed.

Sun Sep 13 15:27:03 1998  Thomas Roessler  <roessler@guug.de>

	* sendlib.c, rfc2047.c, recvattach.c, hash.h,
	gen-charset.c, handler.c, configure.in, configure,
	commands.c, charset.h, charset.c, Makefile.in:
	This patch adds on-demand loading of character set
	tables, changes the default location of $SHAREDIR,
	and fixes some compilation problems occuring on
	machines without PGP installed.

Sat Sep 12 19:58:56 1998  Thomas Roessler  <roessler@guug.de>

	* sendlib.c: Fixing a silly typo in the edit-message code.

	* rfc2047.c, charset.c, charset.h, handler.c, Makefile.in:
	[patch-0.93.2i.ru.mmultiple_charsets.gz] This patch adds
	support for international character sets.  Currently, mutt
	knows about the following character sets and is able to
	convert between them:

	iso-8859-1, ..., iso-8859-9, koi8-r, windows-1251, x-cp866.

	(From: Ruslan Ermilov <ru@ucb.crimea.ua>)

	* recvattach.c, protos.h, pattern.c, mutt.h,
	init.c, history.h, enter.c, commands.c: When
	entering a 'set' command on the command-line,
	pressing TAB after string_var= will insert the
	current value of that variable. Note that this
	works only for variables of type 'string'.

	Also fixes the following buglets in command-completion:

	 1. doesnt work if you started the command-line with
	 whitespace

	 2. Seems to think that 'Set', 'ReSeT', etc are valid
	 commands (since it checks for 'strcasecmp' instead of
	 'strcmp' when completing the variable names Also fixes
	 the following buglets in command-completion:

	(From: Vikas Agnihotri <VikasA@att.com>)

	* enter.c: Use the proper history class when
	entering mutt commands.

	* imap.c: [patch-0.94.5i.jmy.imap_quote.1]

	* sendlib.c, send.c, protos.h, postpone.c,
	parse.c, mutt.h, lib.c, functions.h, curs_main.c,
	compose.c, OPS: Adding the edit-message feature.

	* hdrline.c: [patch-0.94.5.vikas.collapse_format.2] - introduce %M for
	the number of messages which is hidden in a thread.

Tue Sep  8 19:32:57 1998  Thomas Roessler  <roessler@guug.de>

	* TODO: Bogus bug.  Actually, by setting use_mailcap=no, it _is_
	possible to view the header of a single-part message with
	a non-autoview body type.

	* recvattach.c: This patch makes the view attachment menu show all
	message/rfc822 parts as a new level, not only the
	multipart messages. This makes it possible to display a
	message/rfc822 part which includes only a image/jpeg part
	or something else which cant be viewed in the pager.
	(From: Jimmy Mkel <jmy@flashback.net>)

	* recvattach.c, pgp.c, copy.c:
	Change the interface of pgp_decrypt_mime() to enable this
	function to do some sanity checks.

Mon Sep  7 20:47:25 1998  Thomas Roessler  <roessler@guug.de>

	* recvattach.c:
	Don't descend into multipart/encrypted on the recvattach
	menu.

	* sendlib.c, recvattach.c, pgp.h, pgp.c, lib.c, handler.c, commands.c:
	[patch-0.94.5i.tlr.pgp_fixes.1] This patch fixes various
	pgp-related issues.  In particular, mutt won't segfault
	when trying to decrypt-save messages from the index, and
	the presence of a PGP-encrypted body part on the
	attachment menu will no longer confuse the MIME parser.

	* curs_lib.c: Clear the "Exit Mutt" prompt.

	* doc/manual.txt, doc/manual.sgml: SGML typo.

	* rfc822.c: Some testing.

	* enter.c: Yet another fix to the alias and query completion stuff:
	Skip leading white space when constructing the addresses.

	* enter.c: Don't use <space> as an address delimiter when using
	query-complete and alias-complete.

	* rfc1524.c: Quote MIME parameters when doing %{MIME-parameter}
	substitution.

	* sendlib.c, recvattach.c, protos.h, pgp.h, pgp.c, pager.c, mutt.h, init.h, handler.c, functions.h, curs_main.c, copy.h, copy.c, commands.c, OPS.PGP:
	Introducing decrypt-save, decrypt-copy, and
	$forw{ard,}-decrypt.  Based on work by Emil Laurentiu.

	* mbox.c: [patch-0.94.4i.matthewf.writingmessages-fix.1] Fix the
	display when synchronizing mbox mail folders.

	* query.c, protos.h, pattern.c, lib.c, curs_lib.c: Fix simple patterns.

	* protos.h, mx.c, browser.c: Put the S_ISLNK definition into protos.h.

	* pgp.c: Fixing convert_to_7bit().  From Liviu Daia.

Sun Sep  6 11:35:34 1998  Thomas Roessler  <roessler@guug.de>

	* lib.c: Fixing the quoting of shell specials in mutt_expand_fmt().

	* query.c: Change snprintf to mutt_expand_fmt when expanding the
	query command.

	* protos.h, lib.c, attach.c, TODO:
	[patch-0.94.5i.tlr.safe_symlink.1] Introduce
	safe_symlink() for /tmp-safe symlinking in the
	nametemplate code.

	* reldate.h, configure.in, configure, TODO, ChangeLog:
	Preparing 0.94.5i.

Fri Sep  4 15:53:27 1998  Thomas Roessler  <roessler@guug.de>

	* sendlib.c: Catch MIME parameters with p->value == NULL.

	* sendlib.c: Fixing a memory leak in mutt_prepare_envelope().

Fri Sep  4 15:53:27 1998  Thomas Roessler  <roessler@guug.de>

	* sendlib.c: Catch MIME parameters with p->value
	== NULL.

	* sendlib.c: Fixing a memory leak in
	mutt_prepare_envelope().

Tue Sep  1 06:54:53 1998  Thomas Roessler  <roessler@guug.de>

	* imap.c: IMAP fixes from Nathan Neulinger.
	(<19980831170941.A7327@umr.edu> on mutt-dev.)

Mon Aug 31 16:46:29 1998  Thomas Roessler  <roessler@guug.de>

	* send.c: Fix a small problem with Liviu's
	attach_fcc patch.

	* compose.c: Updating to
	patch-0.94.4.vikas.attach_message.3.

	* thread.c, protos.h, mutt.h, init.h, hdrline.c,
	curs_main.c: Updating to
	patch-0.94.4.vikas.collapse.3.

Sat Aug 29 08:27:02 1998  Thomas Roessler  <roessler@guug.de>

	* doc/manual.txt, doc/manual.sgml: Correct an
	editor key binding example.

Fri Aug 28 19:09:24 1998  Thomas Roessler  <roessler@guug.de>

	* send.c, pgp.h, pgp.c: Cleaning up the fcc_attach
	hack.  From Liviu.

	* functions.h, browser.c, OPS:
	[patch-0.94.4i.tlr.display_filename.1] Introduce a
	new function "display-filename" which displays the
	currently selected file's name on the message
	line.

	* attach.c: [patch-0.94.4i.tlr.get_attachment.1-2]
	Get the attachment time stamping business right.

	* protos.h, functions.h, compose.c, attach.c, OPS:
	[patch-0.94.4i.tlr.get_attachment.1] Create a new
	"get-attachment" function on the compose menu
	which will copy an attachment to a temporary file.

	* compose.c: [patch-0.94.4.vikas.attach_message.1]
	Cleaning up some of the attach-message code.

	* thread.c: removing superfluous include
	statements.

Thu Aug 27 23:51:58 1998  Thomas Roessler  <roessler@guug.de>

	* curs_main.c: code cosmetics.

	* thread.c, sort.c, protos.h, pattern.c, mx.c,
	mutt.h, mbox.c, init.h, hdrline.c, functions.h,
	curs_main.c, OPS: [patch-0.94.4.vikas.collapse.2]
	Vikas' collapse-thread patch.

	* recvattach.c, postpone.c, mutt.h, lib.c,
	curs_main.c, browser.c, addrbook.c:
	[patch-0.94.4i.gt.arrowcursor.1] Padding to the
	end of line/right jusitifying does not work in
	menus when $arrow_cursor is set, because the extra
	space needed for the arrow is not taken into
	account. (From Gero Treuner
	<gero@faveve.uni-stuttgart.de>)

	* Attic/testmsg, rfc1524.c:
	[patch-0.94.4i.tlr.shell_quote.1-2] Fix a
	brain-dead segmentation fault when freeing
	non-allocated memory.

	* doc/Attic/mutt.sgml: Mh. This seems to have
	shown up again while cleaning up the CVS branches.

	* sendlib.c, send.c, protos.h, pgp.h, pgp.c: Make
	$fcc_attach work correctly when sending
	PGP-encrypted messages.  Hack by Liviu.

	* doc/manual.txt, doc/manual.sgml: Document
	attach_format. (From: Gero Treuner
	<gero@faveve.uni-stuttgart.de>)

	* rfc1524.c, protos.h, pgpinvoke.c, mx.c, lib.c,
	curs_lib.c: [patch-0.94.4i.tlr.shell_quote.1] Try
	to quote file name arguments and the like for
	shell commands.

	* pgpkey.c: Minor nit: if you enter the wrong key
	ID at Mutt's prompt, Mutt should erase the old
	value --- otherwise people might think it has just
	hung there. (From Liviu Daia.)

Wed Aug 26 21:12:23 1998  Thomas Roessler  <roessler@guug.de>

	* rfc822.c: Another possible memory leak in
	rfc822_parse_adrlist.  The problem and the patch
	are pretty much the same as with the last fix
	applied to this file - it's just ',' instaed of
	';' this time.

	* rfc822.c, TODO:
	[patch-0.94.4i.tlr.rfc822_leak.1] Fixing a memory leak in
	the rfc822_parse_adrlist().

	Some explanations seem to be in order here.  Let's look at
	the code:

	   386	    else if (*s == ';')
	   387	    {
	   388	      if (phraselen)
	   389	      {
	   390		phrase[phraselen] = 0;
	   391		add_addrspec (&top, &last, phrase, comment, &commentlen, sizeof (comment) - 1);
	   392	      }
	   393	      else if (commentlen && !last->personal)
	   394	      {
	   395		comment[commentlen] = 0;
	   396		last->personal = safe_strdup (comment);
	   397	      }
	   398	#ifdef EXACT_ADDRESS
	   399	      if (last && !last->val)

	Line 399 contains the change; previously, it looked like
	this:

	   399'       if (last)

	   400		last->val = mutt_substrdup (begin, s);
	   401	#endif
	   402
	   403	      /* add group terminator */
	   404	      cur = rfc822_new_address ();
	   405	      if (last)
	   406	      {
	   407		last->next = cur;
	   408		last = cur;
	   409	      }
	   410
	   411	      phraselen = 0;
	   412	      commentlen = 0;
	   413	      s++;
	   414	      begin = s;
	   415	      SKIPWS (begin);
	   416	    }

	OK, what happens? There are essentially two situations here:

	-> We have already parsed a complete address specification
	   and know about this fact, but there was no new address
	   information.  This is the case if we are parsing
	   through addresses like

		undisclosed-recipients:;

	   or

		recipients: a, b, c,;

	   (Note the extra ',' before the ';'!)

	   In this case, some of the other code in rfc822.c has
	   already filled in last->val, and we really shouldn't
	   overwrite that with a NULL pointer.

	-> The ';' finishes an address spec, like in

		recipients: a;

	   In this case, last is either set by add_addrspec(), or
	   it has already been set by some of the previous code
	   (comment handling, ...).  Anyway, last->val is still
	   NULL, so it is correct to write the complete addr spec
	   to last->val.

	* imap.c: Error message cosmetics.

Tue Aug 25 22:34:58 1998  Thomas Roessler  <roessler@guug.de>

	* rfc1524.c, attach.c, TODO:
	[patch-0.94.4i.tlr.nametemplate.1] Fix
	nametemplate support: We should not move the
	user's files around just to make them match
	mailcap's idea of their file name. This patch uses
	symbolic links instead.

	* curs_main.c: [patch-0.94.4i.tlr.synch_fault.1]
	Start up two mutts. Delete the last message in
	both of them.  Synchronize the mailbox in both of
	them. Segmentation fault.

	* TODO: adding a few notes.

	* commands.c: If you issue "decode-save" on an
	encrypted message without reading it first, Mutt
	won't prompt you for a passphrase, and it will
	happily write an empty message, deleting the
	original.  (From an unnamed colleague of Liviu
	Daia.)

	* imap.c: [patch-0.94.4i.tlr.imap_newline.2] Use
	cr nl instead of single nl when uploading a
	message to an imap server.

	* sendlib.c, protos.h, postpone.c, compose.c:
	[patch-0.94.4i.tlr.encoding.1] Fix
	content-transfer-encoding updates when renaming
	files from the compose menu and when recalling
	postponed messages.

	* imap.c: s/free/FREE/

Mon Aug 24 19:40:35 1998  Thomas Roessler  <roessler@guug.de>

	* TODO, Attic/BUGS: Compile BUGS and TODO into a
	comprehensive issue list.

	* Attic/BUGS: Clean up the bug list.

	* reldate.h, configure.in, configure, ChangeLog:
	0.94.4i.

	* doc/manual.txt, doc/manual.sgml: Documenting
	$hidden_host.

	* thread.c, curs_main.c: Fix "previous-subthread"
	in reverse-threads mode, allow next-(sub)thread
	and previous-(sub)thread to work in limited mode.
	(From: Liviu Daia)

	* doc/manual.txt, doc/manual.sgml: Documenting $hidden_host.

	* thread.c, curs_main.c: Fix "previous-subthread"
	in reverse-threads mode, allow next-(sub)thread
	and previous-(sub)thread to work in limited mode.
	(From: Liviu Daia)

Sun Aug 23 10:05:41 1998  Thomas Roessler  <roessler@guug.de>

	* sendlib.c, send.c, protos.h, mutt.h, main.c,
	init.h, init.c, configure.in, configure,
	config.h.in, alias.c, acconfig.h, INSTALL:
	[patch-0.94.3i.tlr.hidden_host.1] Replace the
	--enable-hidden-host configure switch by a
	configuration variable $hidden_host which can be
	changed at run-time. This variable will _not_
	affect the generation of message-IDs since we'll
	get into uniqueness problems if we just use the
	domain here.

	Needs to be documented.

	* doc/manual.txt: Committing the latest manual
	changes.

	* Attic/socket.c, imap.c:
	[patch-0.94.3.bl.imap_buffy.1-2] Fixing the
	buffered read stuff.

	* Attic/mutt_socket.h: Ups, this one was missing
	from Brandon's IMAP patch.

Sat Aug 22 14:24:18 1998  Thomas Roessler  <roessler@guug.de>

	* help.c: [patch-0.94.3i.gt.beautify_help.1.gz]
	General help beautification.  From Gero Treuner.

	* doc/manual.sgml, keymap.h, keymap.c, help.c,
	Muttrc.in: [patch-0.94.3i.gt.description.1]
	Introduce macro descriptions.

	* doc/manual.sgml, init.h, init.c, browser.c: Add
	a negation operator "!" to $mask's syntax (as in
	the *-hooks).  From Liviu.

	* recvattach.c: Make Vikas' attach_split and
	Brandon's other_type patches fit together.

	* recvattach.c, mutt.h, init.h, globals.h,
	compose.c: [patch-0.94.3.vikas.attach_split.3]
	Re-introduce attach_split.

	* Attic/socket.c: [patch-0.94.3.bl.imap_buffy.1]
	Adding Brandon's IMAP buffy support.

	* mx.c, mutt.h, mailbox.h, imap.h, imap.c,
	curs_lib.c, configure.in, configure, buffy.c,
	browser.c, Attic/BUGS:
	[patch-0.94.3.bl.imap_buffy.1] Adding Brandon's
	IMAP buffy support.

Fri Aug 21 08:17:09 1998  Thomas Roessler  <roessler@guug.de>

	* browser.c: Enter the file browser, type a mask
	which doesn't match any file in the current
	directory, clean the mask. Segfault.  Fix from
	Liviu Daia.

Thu Aug 20 22:32:46 1998  Thomas Roessler  <roessler@guug.de>

	* sendlib.c, recvattach.c, parse.c, mutt.h,
	mime.h, lib.c, handler.c, globals.h, compose.c,
	commands.c, attach.c, Attic/BUGS:
	[patch-0.94.3.bl.other_types.1] This patch adds
	support for the model MIME type.  Additionally,
	along the lines of "strict in what you generate,
	accepting in what you receive", this patch will
	keep the name of major mime types it doesn't
	recognize (instead of using x-unknown).

	* compose.c, Attic/BUGS:
	[patch-0.94.3i.jmy.attachmessage-fix.1] This patch
	fixes a bug in the allocation of space for new
	pointers to the attachments, it would make mutt
	seg-fault when attaching 5 or more messages at the
	same time. (From: Jimmy Mkel
	<jmy@flashback.net>)

	* handler.c: [SECURITY] mutt_sanitize_filename()
	should be called when creating temporary files for
	autoview.  (From: Liviu Daia.)

	* sendlib.c, send.c, attach.c: Try this: set
	$mime_forward, forward a PGP-encrypted message,
	then in the "compose" menu try to view the
	forwarded message. If you didn't enter a
	passphrase before, Mutt won't ask for it either.
	(From: Liviu Daia)

	* sendlib.c, attach.c: When you forward a message
	with $mime_forward set, or when you attach a
	message with the "attach-message" command from the
	"compose" menu, there is a memory leak.  The real
	reason for this leak is that multipart attachments
	are not supported in the "compose" menu, so you
	need to go through quite a few contortions in
	order to handle message/rfc822 attachments.
	Consequently, the patch below is just an ugly
	hack.  (From: Liviu Daia)

Sun Aug 16 06:22:51 1998  Thomas Roessler  <roessler@guug.de>

	* rfc822.c: Bringing 128-byte strings to "STRING".

	* sendlib.c: Use add_option, not add_arg, for
	strings such as "--".

	* sendlib.c: Pass an "--" argument to sendmail
	before the address arguments, so addresses with a
	leading dash don't lead to problems. (From Liviu.)

	* sendlib.c, rfc822.c, rfc1524.c, parse.c, mx.c,
	main.c, lib.c, keymap.c, hash.c, handler.c,
	edit.c, curs_lib.c, alias.c: Replacing a bunch of
	free() and malloc() calls by safe_free() and
	safe_malloc().  (From Liviu.)

Sat Aug 15 18:27:45 1998  Thomas Roessler  <roessler@guug.de>

	* imap.c: read() can't read buffers larger than
	SSIZE_MAX.

	* hook.c: [patch-0.94.3i.tlr.empty_hook.1] Ignore
	empty hooks instead of segfaulting.

	* protos.h, init.c, Attic/history.h:
	[patch-0.94.3i.tlr.history.1] Adding history class
	support.

	* Attic/history.c: [patch-0.94.3i.tlr.history.1]
	Adding history class support.

	* enter.c, TODO, Makefile.in:
	[patch-0.94.3i.tlr.history.1] Adding history class
	support.

	* sendlib.c:
	[patch-0.94.3i.tlr.attach_msg_fmt.1-2] When
	generating a message/rfc822 type attachment, parse
	its header so that the attachment format routines
	can properly display the default description.

	* init.h: Change attach_format's default to limit
	the attachment description's length.

Thu Aug 13 22:09:16 1998  Thomas Roessler  <roessler@guug.de>

	* pgppubring.c: Fixing another memory leak in the
	pubring parser.

	* recvattach.c, Attic/BUGS:
	[patch-0.94.3i.tlr.attach_msg_fmt.1] When parsing
	the "%d" format option in the attachment format,
	use the message format as a fall-back if no
	explicit description is provided.  This fixes the
	following bug:

	  set mime_forward. Forward any mesage. The
	  compose menu will show the description as
	  "Forwarded message from ...." which is fine.
	  Pressing 'd' to edit the description brings up
	  the above string for editing.

	  Now hit Enter on the message/rfc822 attachment
	  to view it. Quit out of the pager.

	  The description field has now changed to the
	  Subject: of the forwarded message. Pressing 'd'
	  still brings up the 'Forwarded message from....'
	  string.

	(Noted by Vikas.)

	* doc/manual.txt, doc/manual.sgml, sendlib.c,
	mutt.h, init.h: [patch-0.94.3i.tlr.write_bcc.1]
	This patch adds an option $write_bcc which
	controls whether the Bcc header is written out or
	not.  This can be used to work around broken MTA's
	(Exim seems to leave Bcc headers in).

	The problem was noted independently by Peter
	Radcliffe <pir@pir.net> and by Dave Holland
	<dave@zenda.demon.co.uk> (Debian Bug #25687).

	* pgppubring.c: [patch-0.94.3i.tlr.pubring_leak.1]
	Fixing a memory leak. Bug noted by Liviu Daia.

	* reldate.h: 0.94.3i.

	* configure.in, configure, ChangeLog: Preparing
	0.94.3i.

	* compose.c: indentation cosmetics.

	* compose.c: Update menu->data when OP_COMPOSE_EDIT_HDRS is called.
	From Vikas.

	* compose.c: Update the encoding after using ispell from the compose
	menu.  From Vikas.

	* sendlib.c, send.c, protos.h, pgppubring.c,
	pattern.c, lib.c, curs_main.c, compose.c,
	attach.c: Various nits from Liviu; encoding fixes.

	* rfc822.c: Fixing a buffer overflow in rfc822_cat().  tmplen could
	underflow.

Wed Aug 12 11:50:59 1998  Thomas Roessler  <roessler@guug.de>

	* init.c: Yet another memory leak fix from Liviu.

	* rfc2047.c: Fixing a stupid buffer overflow plus some flawed logic.

	* functions.h, compose.c, OPS:
	Adding an update-encoding function to the compose menu.
	This is useful if the user has externally modified an
	attachment and _wants_ to adjust the encoding afterwards.
	Also, this patch fixes some redraw-related problems in the
	compose menu.

	* sendlib.c, mutt.h, compose.c, Attic/BUGS:
	When changing or deleting attachments, the compose menu
	now notices this and complains or asks accordingly.
	Partially from Vikas.

Tue Aug 11 08:14:38 1998  Thomas Roessler  <roessler@guug.de>

	* Attic/BUGS: Yet another outstanding bug.

	* doc/manual.txt: This now contains the latest changes to manual.sgml.

	* sendlib.c, rfc2047.c, rfc1524.c, pgppubring.c, pager.c, hdrline.c:
	Fixing various nits noted by Liviu and his colleagues.

Mon Aug 10 15:30:02 1998  Thomas Roessler  <roessler@guug.de>

	* sendlib.c: This patches makes the message-id persistant when
	postponing messages.  (From: Janos Farkas)

	* doc/manual.sgml, sample.muttrc, lib.c, init.h:
	This patch introduces "unhdr_order" to reset the hdr_order
	command's effect.  (From: Janos Farkas)

	* color.c: Drop the free_rx parameter from muitt_free_color_line(),
	as it's always 1.

	* color.c: Adding mutt_free_color_line() and replacing varous
	"manual" free()s of color lines by calls to this function.

	* bind.c: Removing bind.c.  Pointed out by Gero Treuner
	<gero@faveve.uni-stuttgart.de>.

Sun Aug  9 18:43:45 1998  Thomas Roessler  <roessler@guug.de>

	* color.c: With SLang, init_pair is (void), so we must not check its
	return value.

	* color.c: Restructuring color.c.  This patch fixes the "default"
	problem from 0.94.2i and makes the code more
	comprehensible than that version and more consie than
	0.94.1i.

Sat Aug  8 21:40:12 1998  Thomas Roessler  <roessler@guug.de>

	* rfc2047.c: Fixing the "=?" detection in rfc2047_encode_string().  Bug
	noted by David Jeske <jeske@home.chat.net>.

	* compose.c: If you press t to add a recipient in the compose menu,
	then press tab, q, and aborts with ctrl-g, mutt won't
	redraw the menu.  Noted by Jimmy Mkel
	<jmy@flashback.net>.

	* alias.c: Entering an un-parsable address when creating an alias
	would make mutt segfault.  Noted by brian moore
	<bem@cmc.net>.

	* browser.c: If you press tab in the file-browser to see the inboxes
	and the current row is greater than the inbox-screens
	max-rows then the screen gets garbled.
	(From: Jimmy Mkel <jmy@flashback.net>)

	* doc/manual.txt, doc/manual.sgml: I made the manual more up to date:

	* new version
	* new mailing list and home page addresses
	* made the terminology a bit more consistent regarding
	  'pattern' and 'regular expression'
	* added a note about expanding UNIX environments
	* added a note about <, >, in range patterns like ~m
	* added a note about the urlview program
	* changed tables to not use tabs, because it doesn't work
	  right in my favourite web browsers lynx and netscape

	(From: Gero Treuner <gero@faveve.uni-stuttgart.de>)

	* pattern.c: This patch makes pattern ranges more logical. Before '~m
	<5' would show message 1-5, with this patch it shows 1-4.
	Inclusive ranges is still avaible if you use '~m -5'.
	(From: Jimmy Mkel <jmy@flashback.net>)

	* init.c: Various improvements to the mutt_command_complete
	function.  From Stephen Hack <shack@rsn.hp.com>.

	* browser.c: If you specify 'mailboxes ""' mutt will seg-fault. (From:
	Jimmy Mkel <jmy@flashback.net>)

	* color.c: Fixing a memory leak.  Thanks, Liviu.

	* commands.c: When printing a message, headers are now sorted according
	to hdr_order.  From Liviu.

	* browser.c: Fixing an off-by-one buffer overflow in browser.c.  Noted
	by Liviu.

	* lib.c, attach.c: This patch adds some more "safe" characters to
	mutt_sanitize_filename and fixes its usage in
	mutt_view_attachment().  (From: Liviu Daia
	<daia@stoilow.imar.ro>)

	* status.c, sort.h, sendlib.c, send.c, query.c, protos.h, postpone.c, pager.h, pager.c, mutt_menu.h, menu.c, main.c, init.c, headers.c, functions.h, curs_main.c, curs_lib.c, compose.c, commands.c, browser.c, addrbook.c, OPS:
	Adding the attach message patch.  From Vikas Agnihotri
	<VikasA@att.com>.

	* Makefile.in: There is no "compile" rule for dotlock in the Makefile.
	(From: Dan Nelson <dnelson@emsphone.com>)

	* imap.c: Thispatch to imap.c allows the user to specify a port
	number in the folder name in the general form
	{hostname:portnum}foldername. (From: Andy Sloane
	<andude@guildsoftware.com>)

	* imap.c: imap_close_connection() was being called even though the
	client was using mulitple mailboxes over the same
	connection.  (From: Brandon Long <blong@fiction.net>)


Fri Jul 31 08:17:50 1998  Thomas Roessler  <roessler@guug.de>

	* rfc1524.c: Changing an sprintf to an snprintf (which it was meant to
	be.)

	* protos.h: mutt_sanitize_filename takes char *, not const char *.

	* protos.h, lib.c, attach.c:
	Introducing mutt_sanitize_filename().  The code is similar
	to patch-0.91.1i.tlr.rfc1524_sanitize.1 and to Peter
	Holzer's patch against 0.91.

	* rfc1524.h, rfc1524.c, postpone.c, attach.c:
	Avoid possible buffer overflows in mutt_adv_mktemp().

	* sendlib.c: Interpret sysexits-style exit values from sendmail.

	* configure.in, configure, config.h.in, acconfig.h:
	Check for sysexits.h.

Thu Jul 30 09:30:38 1998  Thomas Roessler  <roessler@guug.de>

	* edit.c: When reading in files, be_snarf_file() wouldn't recognize
	'~' as the user's home directory.

Wed Jul 29 10:54:09 1998  Thomas Roessler  <roessler@guug.de>

	* README, Changes: Finalizing 0.93.2i.

	* configure.in, configure: Bumping to 0.93.2(i).

	* parse.c: Fixing a buffer overflow in parse.c which presented a
	serious security thread.  Noted by Paul Boehm
	<paul@boehm.org>.

Tue Jul 28 08:21:49 1998  Thomas Roessler  <roessler@guug.de>

	* Attic/patch.slang-1.2.2.keypad.1: Adding a patch for a SLang bug.

	* INSTALL: Adding a patch for a SLang bug.

	* mx.c: Doing 'mutt -f NoSuchFile' just flickers the screen and
	silently exits. Earlier (0.92.14 at least), it used to
	spit out the error 'NoSuchFile: no such file or directory
	(errno = 2)'.  (Noted and tracked down by Vikas Agnihotri
	<VikasA@att.com>)

	* color.c: The index cache should be updated even without color
	support.

Mon Jul 27 13:39:39 1998  Thomas Roessler  <roessler@guug.de>

	* Attic/BUGS: Adding a notice about some more nits.

	* main.c: Change the error reporting mail address from
	<mutt-dev@cs.hmc.edu> to <mutt-dev@mutt.org>.

	* protos.h, init.h, color.c:
	This patch fixes index "color" patterns when using a
	non-color capable curses library.  While working on color
	support, I've thrown together the mutt_parse_color() and
	mutt_parse_mono() functions as they are sharing most of
	their code.  Additionally, a new directive called "unmono"
	is introduced.  The implementation consists in adding a
	flag and very few lines of code (plus ifdefs) to
	mutt_parse_uncolor().

	* snprintf.c, rfc1524.h, rfc1524.c, date.c:
	Fixing some minor nits: missing #includes in date.c and
	snprintf.c, and a not-so-nice declaration of
	rfc1524_new_entry().  Noted by Digital cc and gcc.

Fri Jul 24 08:12:46 1998  Thomas Roessler  <roessler@guug.de>

	* copy.c, attach.c:
	Fiddling around with message/rfc822 attachments once again.

Thu Jul 23 20:57:50 1998  Thomas Roessler  <roessler@guug.de>

	* status.c, sendlib.c, send.c, rfc2047.c, pop.c, pager.c, mx.c, mh.c, mbox.c, lib.c, init.c, imap.c, edit.c, curs_lib.c, compose.c, commands.c, color.c, browser.c, attach.c, alias.c:
	Guard lots of global (char *) variable deferences against
	NULL pointers.

	* copy.c, attach.c:
	Yet another patch about saving message/rfc822 attachments.

	* main.c, send.c: Fixing potential NULL pointer deferences.

Wed Jul 22 22:47:57 1998  Thomas Roessler  <roessler@guug.de>

	* recvattach.c: Another fix from Liviu.

	* recvattach.c, from.c, attach.c:
	Another patch from liviu to fix the message/rfc822
	behaviour.

	* recvattach.c, mx.c, attach.c:
	This patch fixes the saving of message/rfc822 attachments
	to mail folders.  Additionally, it fixes an outstanding
	bug with From_ lines being written to MH folders.

	(From: Liviu Daia <daia@stoilow.imar.ro>)

	* menu.c, functions.h, browser.c, OPS:
	1. When I hit 'c' (change dir) in browser, it gives me the
	   directory, but without the final '/', so I have to add
	   '/' to add a subdirectory name. This patch fixes it.

	2. check-new now will recheck mailbox folders for new
	   mail.

	3. added a function toggle-mailboxes which toggles in
	   browser between mailboxes view and directory view.
	   (bound to TAB by default).

	(From: "Michael S. Tsirkin" <mtsirkin@iil.intel.com>)

	* send.c: Correct an error message in send.c.
	(From: Byrial Jensen <byrial@post3.tele.dk>)

	* sendlib.c, recvattach.c, protos.h, postpone.c,
	pager.c, mx.c, mutt.h, lib.c, keymap.c, handler.c,
	compose.c, commands.c, attach.h, attach.c:

	These changes fix some of the bugs which were
	recently reported to mutt-dev.  To be more specific,
	message-type attachments are saved to mail folders
	from the receive attachment menu, some of the
	sending code has been made more robust against
	disappearing attachments, and "tag" is rebound to
	"T" on the compose menu.

	(Some part of this patch comes from Vikas Agnihotri
	<VikasA@att.com>.)

	* send.c: Avoid a potential segmentation fault when
	trying to postpone, but Postponed equals NULL.

	* Attic/BUGS: This file is intended to contain known
	bugs which still have to be fixed.

	* doc/manual.txt:
	Committing the changes previously made to manual.sgml.

	* imap.c: Include Message-ID and Reply-To headers
	when fetching a message's headers from an IMAP
	server. (From: Andy Sloane <andude@incarnate.net>)

Tue Jul 21 07:54:03 1998  Thomas Roessler  <roessler@guug.de>

	* recvattach.c:
	The old behaviour of the %d (for description) specifier is
	recreated by this patch.
	(From: Byrial Jensen <byrial@post3.tele.dk>)

	* protos.h, lib.c, attach.c:
	You should never _ever_ do something like this:

	       [process A]  ---[piped write until EOF]---> [process B]
	       [process A]  <---[piped read until EOF]--- [process B]

	Basically, what happens is something like this: A
	feeds data to B; B processes the data, and feeds it
	to the pipe until the pipe buffer is full; at this
	point, A writes to its pipe until its buffer is full
	too, and if it still has more data to write, that's
	it, it never gets to the read part to flush B's
	buffer --- both processes are blocked on write.

	This patch fixes such a situation in the compose menu.

	(From: Liviu Daia <daia@stoilow.imar.ro>)

Mon Jul 20 21:01:05 1998  Thomas Roessler  <roessler@guug.de>

	* reap.pl: Perl lies in /usr/bin on my machines.

	* pop.c: It seems that if you don't enter any
	password at all when prompted for the POP password,
	Mutt will die with a segmentation fault also. (Bug
	reported by Steve Mayer <smayer@rtd.com> via the
	Debian bug tracking system, fix from Thomas
	Roessler.)

	* postpone.c: When you send a message which have
	been postponed before sending, then all its
	attachments (if there are more than one) will have a
	content-disposition header which includes a
	filename, even if there isn't a real filename but
	only random choosen temporary one. (From: Byrial
	Jensen <byrial@post3.tele.dk>)

Sat Jul 18 09:18:31 1998  Thomas Roessler  <roessler@guug.de>

	* recvattach.c: "Set mime_forward, and forward a
	message --- Mutt will segfault." The obvious fix for
	this is to check for aptr->content->hdr in
	mutt_attach_fmt() before invoking
	_mutt_make_string().  Anyway, I suspect that the
	real fix may involve something like parsing the
	rfc822 attachment in question.

	* sendlib.c: Postponing messages behaves funny when the $postponed
	folder is in Maildir format; I traced this down to the
	fact that postponed messages are saved in "cur" while
	mutt_num_postponed() is looking at "new".
	(From: Liviu Daia <daia@stoilow.imar.ro>)

Fri Jul 17 08:37:02 1998  Thomas Roessler  <roessler@guug.de>

	* compose.c: Removing the old snd_entry() code.

	* doc/manual.sgml, protos.h, pgp.c, mutt.h, init.h, hook.c:
	When sending encrypted messages, it may arrive that Mutt
	can't determine the PGP key of the recipient (presumably
	because her address has changed, but she hasn't updated
	her PGP key yet). In this situation it's convenient to be
	able to associate a keyID with an address automatically.
	The attached patch is an attempt to implement this idea
	using a "pgp-hook". (From: Liviu Daia <daia@stoilow.imar.ro>).

	* recvattach.c: Removing the old attach_entry() code.

	* recvattach.c, protos.h, mutt.h, init.h, globals.h, compose.c:
	This patch adds a string variable $attach_format which
	controls the look of the compose and attach menus.
	Unfortunately, I was not able to make things so that it
	would look exactly the same as the hardcoded versions, so
	the default format is a bit different, but I think it is
	quite usable.  (From Michael Elkins <me@cs.hmc.edu>).

	* functions.h, browser.c, OPS:
	This patch allows you to view files from the browser
	window, useful if you are searching for a file to attach
	to your message. It uses the standard mailcap stuff (and
	the lookup mime types) to use the correct "viewer" for the
	file.  (From Brandon Long <blong@fiction.net>)

	* doc/Attic/dotlock.man.in, doc/Makefile.in, configure.in, configure, Makefile.in:
	Dotlock-related changes: We call it mutt.dotlock to avoid
	conflicts with certain NFS versions' dotlocking utilities
	(pointed out by Liviu Daia).  Additionally, we need to
	compile it as an external utility on systems which don't
	have an fchdir(2) system call.

Thu Jul 16 16:39:53 1998  Thomas Roessler  <roessler@guug.de>

	* mx.c: Fixing a small typographic error.

	* mx.c: Mutt doesn't retry locking if it doesn't succeed at once.
	The code in mx_lock_file is supposed to retry but it
	doesn't work because of a mistake in operator precedence.
	(From: Petri Kaukasoina <kaukasoi@elektroni.ee.tut.fi>)

	* Attic/dotlock.c:
	The dotlock.c file tries to include <posix1_lim.h> if
	_POSIX_PATH_MAX isn't defined but it doesn't include
	<limits.h>, where this symbol should be defined.  (From
	Marc.Baudoin@solsoft.com)

	* send.c: When several messages are tagged and the user applies
	reply, group-reply, or list-reply to these messages, the
	reply's references and in-reply-to headers are constructed
	from the tagged message which comes last in the current
	index.  This patch constructs the references header from
	_all_ messages' message-id and references headers. (tlr)

	* reldate.h, configure.in, configure, Changes, ChangeLog:
	Preparing mutt 0.94.

	* imap.c: "My two remaining issues are the speed at which it
	downloads the headers, and support of PREAUTH. I'm
	enclosing a patch (to stock mutt-0.92.13i) which addresses
	these issues." (From Brian Marcotte
	<marcotte@panix7.panix.com>)

	* color.c: This patch fixes two problems reported on mutt-users.

	(1) the error message about "default colors not supported"
	when not using a color xterm should not be printed.  The
	existing code did not check the value of has_colors() in
	conjunction with use_default_colors()

	(2) mutt would crash when sending mail in batch mode
	because use_default_colors() could be used without doing
	an initscr()

	(From Michael Elkins.)

Wed Jul 15 17:15:46 1998  Thomas Roessler  <roessler@guug.de>

	* mx.h, mx.c, main.c, Attic/dotlock.h,
	Attic/dotlock.c, configure.in, configure,
	Makefile.in: Finalizing the external dotlock
	support: If group mail privileges are needed, the
	dotlock is compiled as a separate program.  If
	there is no need for privileges, it remains a
	module which is compiled into mutt. Also, there is
	no more need for the SLang buffer overflow
	work-around in main().  We drop it, but let mutt
	bail out instead if it's installed setgid
	something.

	* doc/Attic/dotlock.man.in, Attic/dotlock.c:
	Fix the race condition in dotlock.c.

	* doc/Attic/mutt.man.in:
	Putting the manual page under autoconf control.

	* doc/Attic/mutt.man.in:
	file mutt.man.in was initially added on branch mutt-0-94.

	* doc/mutt.man: Putting the manual page under autoconf control.

	* doc/Attic/dotlock.man.in:
	Adding external dotlocking.  For bugs, see the manual page
	and the comments in dotlock.c.

	* doc/Attic/dotlock.man.in:
	file dotlock.man.in was initially added on branch mutt-0-94.

	* doc/Makefile.in, protos.h, mx.c, mbox.c, main.c, globals.h, Attic/dotlock.h:
	Adding external dotlocking.  For bugs, see the manual page
	and the comments in dotlock.c.

	* Attic/dotlock.h:
	file dotlock.h was initially added on branch mutt-0-94.

	* Attic/dotlock.c:
	Adding external dotlocking.  For bugs, see the manual page
	and the comments in dotlock.c.

	* Attic/dotlock.c:
	file dotlock.c was initially added on branch mutt-0-94.

	* configure.in, configure, Makefile.in:
	Adding external dotlocking.  For bugs, see the manual page
	and the comments in dotlock.c.

	* doc/mutt.man: More roff fixes.

	* doc/mutt.man: More groff fixes.

Tue Jul 14 16:01:07 1998  Thomas Roessler  <roessler@guug.de>

	* reldate.h, configure.in, configure, Changes, ChangeLog:
	Preparing mutt 0.93.1i.

	* rfc2047.c, mime.h, handler.c: More unsigned fixes.

	* pattern.c, parse.c:
	Changing (int) casts in is* arguments to (unsigned char).

	* rfc2047.c: Removing a superfluous (unsigned char) cast in an IsPrint
	argument.

Mon Jul 13 10:50:39 1998  Thomas Roessler  <roessler@guug.de>

	* doc/mutt.sgml, doc/mutt.man, doc/Makefile.in:
	Since manual page generation seems to be broken in the
	SGML-tools package, we remove the SGML version of mutt.man
	and make the troff source the master copy.  Suggested by
	Roland Rosenfeld <roland@luv.rhein.de> who also provided
	the corrected mutt.man file.

Sun Jul 12 13:15:31 1998  Thomas Roessler  <roessler@guug.de>

	* protos.h: Replace calloc by safe_calloc in new_pattern.

Sat Jul 11 05:10:29 1998  Thomas Roessler  <roessler@guug.de>

	* doc/manual.txt, doc/manual.sgml: Key bindings documentation.

Fri Jul 10 17:58:26 1998  Thomas Roessler  <roessler@guug.de>

	* NEWS: s/fwd_decode/forward_decode/ (Noted by Lars Hecking)

	* pop.c: tmp[] wasn't initialized when asking for the POP password.

	* buffy.c: On SunOS 4.1, one must include unistd.h in order to
	declare SEEK_END.  (Fabrice Noilhan)

	* mutt.h: include <posix1_lim.h> if limits.h doesn't defile
	_POSIX_PATH_MAX.

	* Changes, ChangeLog: *** empty log message ***

	* doc/PGP-Notes.txt: Adding a notice about core dumps.

	* reldate.h, README, INSTALL: Preparing 0.93i.

	* handler.c: Fix text/enriched decoding: if there's a tag mismatch in
	the last paragraph in the attachment, the whole paragraph
	wouldn't be displayed.

Thu Jul  9 19:51:36 1998  Thomas Roessler  <roessler@guug.de>

	* configure.in, configure, Attic/config.sub:
	Use CC -Ae -D_HPUX_SOURCE on HP/UX.

	* Attic/config.sub:
	file config.sub was initially added on branch mutt-0-93.

	* Attic/config.guess: Use CC -Ae -D_HPUX_SOURCE on HP/UX.

	* Attic/config.guess:
	file config.guess was initially added on branch mutt-0-93.

	* INSTALL: Use CC -Ae -D_HPUX_SOURCE on HP/UX.

Wed Jul  8 21:59:43 1998  Thomas Roessler  <roessler@guug.de>

	* snprintf.c, pattern.c, parse.c, mx.c, mh.c, lib.c, keymap.c, init.c, from.c, edit.c, curs_main.c:
	Changing (int) casts in is* arguments to (unsigned char)
	casts to avoid mis-casting of signed chars.  (From Michael
	Elkins.)

Tue Jul  7 09:22:40 1998  Thomas Roessler  <roessler@guug.de>

	* rfc822.c: Change one int to size_t in rfc822.c.

	* rfc822.c: Fix the parsing of route addresses a la RFC 822.  Patch
	from Michael Elkins.

	* snprintf.c, sendlib.c, pattern.c, parse.c, mx.c, mh.c, lib.c, keymap.c, init.c, from.c, edit.c, curs_main.c:
	Cast the arguments of the is* functions to int.  Patch
	from Michael Elkins.

Thu Jul  2 21:15:18 1998  Thomas Roessler  <roessler@guug.de>

	* hdrline.c:
	Using the correct version of O'Shaughnessy Evans' %O patch.

	* configure.in, configure, Changes, ChangeLog: Preparig 0.92.14i

	* doc/manual.txt, doc/manual.sgml: s/&setmn;/&bsol;/

	* hdrline.c: Adding the %O expansion.

	* doc/manual.sgml: Applying the various manual_nits patches.

Wed Jul  1 17:01:50 1998  Thomas Roessler  <roessler@guug.de>

	* curs_main.c: Fixing a reverse-threading problem.

	* imap.c: Fixing an imap-related segmentation fault.

Tue Jun 30 06:38:02 1998  Thomas Roessler  <roessler@guug.de>

	* reldate.h, Changes, ChangeLog:
	These are the last tiny bits of preparing 0.92.13i.

	* configure.in, configure, TODO, README, NEWS:
	Updating some of the documentation for 0.93.

	* doc/Attic/NEWS: *** empty log message ***

	* doc/Attic/NEWS: file NEWS was initially added on branch mutt-0-93.

	* doc/manual.txt: Incorporate the recent changes to manual.sgml.

	* main.c: Work around a buffer overflow in SLang.  (This is the same
	bug which is fixed by 0.91.2i.)

Fri Jun 26 10:31:28 1998  Thomas Roessler  <roessler@guug.de>

	* doc/manual.sgml, send.c, init.h, globals.h, Muttrc.in:
	Removing $empty_to.

Thu Jun 25 22:31:46 1998  Thomas Roessler  <roessler@guug.de>

	* hdrline.c: Moved a break statement where it belongs.

	* mx.c: Fix an imap-related typo.

	* handler.c: Don't generate non-terminated last lines when quoting
	8bit-"encoded" text-plain body parts.

	* Makefile.in: Don't use GNU make specific features.

Sun Jun 21 07:13:03 1998  Thomas Roessler  <roessler@guug.de>

	* doc/mutt.man, doc/Makefile.in, reldate.h, configure.in, configure, Changes, ChangeLog:
	Bumping the release to 0.92.12i.

Sat Jun 20 06:12:38 1998  Thomas Roessler  <roessler@guug.de>

	* doc/manual.txt: *** empty log message ***

	* handler.c: Fixing the quoted-printable decoder.

	* handler.c, copy.c: Make mutt handle messages containing null bytes.

	* doc/manual.sgml: documenting alias-path

Fri Jun 19 12:52:16 1998  Thomas Roessler  <roessler@guug.de>

	* sendlib.c, send.c, protos.h, postpone.c, pattern.c, menu.c, main.c, headers.c, functions.h, curs_main.c, compose.c, OPS:
	Removing the Attach-Menu feature for the next release
	version.

Thu Jun 18 20:37:59 1998  Thomas Roessler  <roessler@guug.de>

	* protos.h, lib.c, alias.c:
	Bradon long's alias_path patch, for the sake of Elm
	compatibility.

Tue Jun 16 20:59:20 1998  Thomas Roessler  <roessler@guug.de>

	* mx.c: Avoid pointless error messages from mx_get_magic() when
	called from an mx_open_mailbox_append() on a non-existing
	mailbox.

	* doc/manual.txt, doc/Makefile.in, configure.in, configure, Makefile.in:
	Have "make install" install manual.txt as well.

	* doc/Attic/makefile, doc/Makefile.in:
	Putting Makefile under autoconf control.

	* main.c: Switch the error reporting address from mutt-users to
	mutt-dev.

	* reldate.h, configure.in, configure, Changes, ChangeLog:
	Bump the version to 0.92.11i.

	* imap.h: Check in a proper version of imap.h.

	* color.c: Fix the "unknown color" bug reported by Vikas.

	* mx.c: Remove a spurious #include "imap.h" from mx.c.

	* doc/style-guide: Add a note about the global Muttrc to style-guide.

	* configure.in, Muttrc.in, configure, Attic/Muttrc, Makefile.in:
	The global Muttrc contains a list of default settings
	which can be used as a starting-point for the user's own
	configuration.

	* pgppubring.c, pgp.h, gnupgparse.c:
	Removing some duplicate code from gnupgparse.c and
	pgppubring.c.

	* pgpinvoke.c, gnupgparse.c:
	Include part of Werner Koch's latest GPG patches.

	* Changes: *** empty log message ***

	* configure.in, configure, Changes, ChangeLog: Preparing 0.92.10i.

	* doc/PGP-Notes.txt: Including Roland's new procmail recipe.

	* protos.h, pattern.c, menu.c, curs_main.c, compose.c, addrbook.c:
	Including Vikas' search code for the "attach message" menu.

Mon Jun 15 15:19:49 1998  Thomas Roessler  <roessler@guug.de>

	* mx.c, main.c, mailbox.h, imap.c, commands.c: Brandon's IMAP patch.

