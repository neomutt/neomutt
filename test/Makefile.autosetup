ACCOUNT_OBJS	= test/account/account_free.o \
		  test/account/account_mailbox_add.o \
		  test/account/account_mailbox_remove.o \
		  test/account/account_new.o

ADDRESS_OBJS	= test/address/config_type.o \
		  test/address/mutt_addrlist_append.o \
		  test/address/mutt_addrlist_clear.o \
		  test/address/mutt_addrlist_copy.o \
		  test/address/mutt_addrlist_count_recips.o \
		  test/address/mutt_addrlist_dedupe.o \
		  test/address/mutt_addrlist_equal.o \
		  test/address/mutt_addrlist_parse.o \
		  test/address/mutt_addrlist_parse2.o \
		  test/address/mutt_addrlist_prepend.o \
		  test/address/mutt_addrlist_qualify.o \
		  test/address/mutt_addrlist_remove.o \
		  test/address/mutt_addrlist_remove_xrefs.o \
		  test/address/mutt_addrlist_search.o \
		  test/address/mutt_addrlist_to_intl.o \
		  test/address/mutt_addrlist_to_local.o \
		  test/address/mutt_addrlist_write.o \
		  test/address/mutt_addrlist_write_list.o \
		  test/address/mutt_addrlist_write_wrap.o \
		  test/address/mutt_addr_cat.o \
		  test/address/mutt_addr_cmp.o \
		  test/address/mutt_addr_copy.o \
		  test/address/mutt_addr_create.o \
		  test/address/mutt_addr_for_display.o \
		  test/address/mutt_addr_free.o \
		  test/address/mutt_addr_new.o \
		  test/address/mutt_addr_to_intl.o \
		  test/address/mutt_addr_to_local.o \
		  test/address/mutt_addr_valid_msgid.o \
		  test/address/mutt_addr_write.o

ARRAY_OBJS	= test/array/mutt_array_api.o

ATOI_OBJS	= test/atoi/mutt_str_atoi.o \
		  test/atoi/mutt_str_atol.o \
		  test/atoi/mutt_str_atos.o \
		  test/atoi/mutt_str_atoui.o \
		  test/atoi/mutt_str_atoul.o \
		  test/atoi/mutt_str_atoull.o \
		  test/atoi/mutt_str_atous.o

ATTACH_OBJS	= test/attach/mutt_actx_add_attach.o \
		  test/attach/mutt_actx_add_body.o \
		  test/attach/mutt_actx_add_fp.o \
		  test/attach/mutt_actx_entries_free.o \
		  test/attach/mutt_actx_free.o \
		  test/attach/mutt_actx_new.o

BASE64_OBJS	= test/base64/mutt_b64_buffer_decode.o \
		  test/base64/mutt_b64_buffer_encode.o \
		  test/base64/mutt_b64_decode.o \
		  test/base64/mutt_b64_encode.o

BODY_OBJS	= test/body/mutt_body_cmp_strict.o \
		  test/body/mutt_body_free.o \
		  test/body/mutt_body_new.o

BUFFER_OBJS	= test/buffer/buf_add_printf.o \
		  test/buffer/buf_addch.o \
		  test/buffer/buf_addstr.o \
		  test/buffer/buf_addstr_n.o \
		  test/buffer/buf_alloc.o \
		  test/buffer/buf_at.o \
		  test/buffer/buf_coll.o \
		  test/buffer/buf_concatn_path.o \
		  test/buffer/buf_concat_path.o \
		  test/buffer/buf_copy.o \
		  test/buffer/buf_dealloc.o \
		  test/buffer/buf_dequote_comment.o \
		  test/buffer/buf_dup.o \
		  test/buffer/buf_find_char.o \
		  test/buffer/buf_find_string.o \
		  test/buffer/buf_fix_dptr.o \
		  test/buffer/buf_free.o \
		  test/buffer/buf_init.o \
		  test/buffer/buf_inline_replace.o \
		  test/buffer/buf_insert.o \
		  test/buffer/buf_istr_equal.o \
		  test/buffer/buf_is_empty.o \
		  test/buffer/buf_join_str.o \
		  test/buffer/buf_len.o \
		  test/buffer/buf_lower.o \
		  test/buffer/buf_new.o \
		  test/buffer/buf_printf.o \
		  test/buffer/buf_reset.o \
		  test/buffer/buf_rfind.o \
		  test/buffer/buf_seek.o \
		  test/buffer/buf_startswith.o \
		  test/buffer/buf_strcpy.o \
		  test/buffer/buf_strcpy_n.o \
		  test/buffer/buf_strdup.o \
		  test/buffer/buf_str_equal.o \
		  test/buffer/buf_substrcpy.o

CHARSET_OBJS	= test/charset/mutt_ch_canonical_charset.o \
		  test/charset/mutt_ch_charset_lookup.o \
		  test/charset/mutt_ch_check.o \
		  test/charset/mutt_ch_check_charset.o \
		  test/charset/mutt_ch_choose.o \
		  test/charset/mutt_ch_chscmp.o \
		  test/charset/mutt_ch_convert_nonmime_string.o \
		  test/charset/mutt_ch_convert_string.o \
		  test/charset/mutt_ch_fgetconv.o \
		  test/charset/mutt_ch_fgetconvs.o \
		  test/charset/mutt_ch_fgetconv_close.o \
		  test/charset/mutt_ch_fgetconv_open.o \
		  test/charset/mutt_ch_get_default_charset.o \
		  test/charset/mutt_ch_get_langinfo_charset.o \
		  test/charset/mutt_ch_iconv.o \
		  test/charset/mutt_ch_iconv_lookup.o \
		  test/charset/mutt_ch_iconv_open.o \
		  test/charset/mutt_ch_lookup_add.o \
		  test/charset/mutt_ch_lookup_remove.o \
		  test/charset/mutt_ch_set_charset.o

CLI_OBJS	= test/cli/cli_parse.o

COLOR_OBJS	= test/color/ansi.o \
		  test/color/ansi_color_parse_single.o \
		  test/color/attr.o \
		  test/color/color_dump.o \
		  test/color/curses.o \
		  test/color/merged.o \
		  test/color/notify.o \
		  test/color/parse_attr_spec.o \
		  test/color/quoted.o \
		  test/color/simple.o \
		  test/color/parse_color_colornnn.o \
		  test/color/parse_color_name.o \
		  test/color/parse_color_namedcolor.o \
		  test/color/parse_color_pair.o \
		  test/color/parse_color_prefix.o \
		  test/color/parse_color_rrggbb.o

@if USE_LZ4 || USE_ZLIB || USE_ZSTD
COMPRESS_OBJS	+= test/compress/common.o
@endif
@if USE_LZ4
COMPRESS_OBJS	+= test/compress/lz4.o
@endif
@if USE_ZLIB
COMPRESS_OBJS	+= test/compress/zlib.o
@endif
@if USE_ZSTD
COMPRESS_OBJS	+= test/compress/zstd.o
@endif

CONFIG_OBJS	= test/config/account.o \
		  test/config/bool.o \
		  test/config/common.o \
		  test/config/dump.o \
		  test/config/enum.o \
		  test/config/helpers.o \
		  test/config/initial.o \
		  test/config/long.o \
		  test/config/mbtable.o \
		  test/config/myvar.o \
		  test/config/number.o \
		  test/config/path.o \
		  test/config/quad.o \
		  test/config/regex.o \
		  test/config/set.o \
		  test/config/slist.o \
		  test/config/sort.o \
		  test/config/string.o \
		  test/config/subset.o \
		  test/config/synonym.o \
		  test/config/variable.o

CONVERT_OBJS	= test/convert/mutt_update_content_info.o \
		  test/convert/mutt_convert_file_from_to.o \
		  test/convert/mutt_convert_file_to.o \
		  test/convert/mutt_get_content_info.o

CORE_OBJS	= test/core/buf_mktemp_full.o \
		  test/core/config_cache.o \
		  test/core/dispatcher_get_retval_name.o \
		  test/core/mutt_file_mkstemp_full.o

DATE_OBJS	= test/date/mutt_date_add_timeout.o \
		  test/date/mutt_date_check_month.o \
		  test/date/mutt_date_gmtime.o \
		  test/date/mutt_date_localtime.o \
		  test/date/mutt_date_localtime_format.o \
		  test/date/mutt_date_localtime_format_locale.o \
		  test/date/mutt_date_local_tz.o \
		  test/date/mutt_date_make_date.o \
		  test/date/mutt_date_make_imap.o \
		  test/date/mutt_date_make_time.o \
		  test/date/mutt_date_make_tls.o \
		  test/date/mutt_date_normalize_time.o \
		  test/date/mutt_date_now.o \
		  test/date/mutt_date_now_ms.o \
		  test/date/mutt_date_parse_date.o \
		  test/date/mutt_date_parse_imap.o \
		  test/date/mutt_date_sleep_ms.o

EDITOR_OBJS	= test/editor/common.o \
		  test/editor/editor_backspace.o \
		  test/editor/editor_backward_char.o \
		  test/editor/editor_backward_word.o \
		  test/editor/editor_bol.o \
		  test/editor/editor_buffer_is_empty.o \
		  test/editor/editor_case_word.o \
		  test/editor/editor_delete_char.o \
		  test/editor/editor_eol.o \
		  test/editor/editor_forward_char.o \
		  test/editor/editor_forward_word.o \
		  test/editor/editor_kill_eol.o \
		  test/editor/editor_kill_eow.o \
		  test/editor/editor_kill_line.o \
		  test/editor/editor_kill_whole_line.o \
		  test/editor/editor_kill_word.o \
		  test/editor/editor_transpose_chars.o \
		  test/editor/state.o

EMAIL_OBJS	= test/email/common.o \
		  test/email/email_cmp_strict.o \
		  test/email/email_free.o \
		  test/email/email_get_size.o \
		  test/email/email_header_add.o \
		  test/email/email_header_find.o \
		  test/email/email_header_free.o \
		  test/email/email_header_set.o \
		  test/email/email_header_update.o \
		  test/email/email_new.o \
		  test/email/mutt_autocrypthdr_free.o \
		  test/email/mutt_autocrypthdr_new.o \
		  test/email/mutt_auto_subscribe.o \
		  test/email/mutt_check_encoding.o \
		  test/email/mutt_check_mime_type.o \
		  test/email/mutt_extract_message_id.o \
		  test/email/mutt_is_message_type.o \
		  test/email/mutt_matches_ignore.o \
		  test/email/mutt_parse_content_type.o \
		  test/email/mutt_parse_mailto.o \
		  test/email/mutt_parse_multipart.o \
		  test/email/mutt_parse_part.o \
		  test/email/mutt_read_mime_header.o \
		  test/email/mutt_rfc822_parse_line.o \
		  test/email/mutt_rfc822_parse_message.o \
		  test/email/mutt_rfc822_read_header.o \
		  test/email/mutt_rfc822_read_line.o

ENVELOPE_OBJS	= test/envelope/mutt_env_cmp_strict.o \
		  test/envelope/mutt_env_free.o \
		  test/envelope/mutt_env_merge.o \
		  test/envelope/mutt_env_new.o \
		  test/envelope/mutt_env_to_intl.o \
		  test/envelope/mutt_env_to_local.o

ENVLIST_OBJS	= test/envlist/envlist_free.o \
		  test/envlist/envlist_init.o \
		  test/envlist/envlist_set.o \
		  test/envlist/envlist_unset.o

EQI_OBJS	= test/eqi/eqi.o

EXPANDO_OBJS	= test/expando/colors_render.o \
		  test/expando/common.o \
		  test/expando/complex_if_else.o \
		  test/expando/conditional_date.o \
		  test/expando/conditional_date_render.o \
		  test/expando/conditional_date_render2.o \
		  test/expando/config.o \
		  test/expando/date_render.o \
		  test/expando/emoji_text.o \
		  test/expando/empty_if_else.o \
		  test/expando/empty_if_else_render.o \
		  test/expando/expando.o \
		  test/expando/filter.o \
		  test/expando/format.o \
		  test/expando/format_number.o \
		  test/expando/formatted_expando.o \
		  test/expando/helpers.o \
		  test/expando/if_else_false_render.o \
		  test/expando/if_else_true_render.o \
		  test/expando/justify.o \
		  test/expando/nested_if_else.o \
		  test/expando/nested_if_else_render.o \
		  test/expando/new_if_else.o \
		  test/expando/node.o \
		  test/expando/node_condbool.o \
		  test/expando/node_conddate.o \
		  test/expando/node_condition_parse.o \
		  test/expando/node_container.o \
		  test/expando/node_expando.o \
		  test/expando/node_padding.o \
		  test/expando/node_text_parse.o \
		  test/expando/old_if_else.o \
		  test/expando/padding.o \
		  test/expando/padding_render.o \
		  test/expando/parse.o \
		  test/expando/parse_short_name.o \
		  test/expando/percent_sign_text.o \
		  test/expando/serial.o \
		  test/expando/simple_expando.o \
		  test/expando/simple_expando_render.o \
		  test/expando/simple_text.o \
		  test/expando/two_char_expando.o \
		  test/expando/two_char_expando_render.o \
		  test/expando/unicode_padding.o  \
		  test/expando/validation.o

FILE_OBJS	= test/file/common.o \
		  test/file/buf_file_expand_fmt_quote.o \
		  test/file/buf_quote_filename.o \
		  test/file/mutt_file_check_empty.o \
		  test/file/mutt_file_chmod_add.o \
		  test/file/mutt_file_chmod_add_stat.o \
		  test/file/mutt_file_chmod_rm_stat.o \
		  test/file/mutt_file_copy_bytes.o \
		  test/file/mutt_file_copy_stream.o \
		  test/file/mutt_file_decrease_mtime.o \
		  test/file/mutt_file_expand_fmt.o \
		  test/file/mutt_file_fclose.o \
		  test/file/mutt_file_fopen.o \
		  test/file/mutt_file_fsync_close.o \
		  test/file/mutt_file_get_size.o \
		  test/file/mutt_file_get_stat_timespec.o \
		  test/file/mutt_file_iter_line.o \
		  test/file/mutt_file_lock.o \
		  test/file/mutt_file_map_lines.o \
		  test/file/mutt_file_mkdir.o \
		  test/file/mutt_file_open.o \
		  test/file/mutt_file_read_keyword.o \
		  test/file/mutt_file_read_line.o \
		  test/file/mutt_file_rename.o \
		  test/file/mutt_file_resolve_symlink.o \
		  test/file/mutt_file_rmtree.o \
		  test/file/mutt_file_safe_rename.o \
		  test/file/mutt_file_sanitize_filename.o \
		  test/file/mutt_file_sanitize_regex.o \
		  test/file/mutt_file_set_mtime.o \
		  test/file/mutt_file_stat_compare.o \
		  test/file/mutt_file_stat_timespec_compare.o \
		  test/file/mutt_file_symlink.o \
		  test/file/mutt_file_timespec_compare.o \
		  test/file/mutt_file_touch_atime.o \
		  test/file/mutt_file_unlink.o \
		  test/file/mutt_file_unlink_empty.o \
		  test/file/mutt_file_unlock.o

FILTER_OBJS	= test/filter/filter_create.o \
		  test/filter/filter_create_fd.o \
		  test/filter/filter_wait.o

FROM_OBJS	= test/from/is_from.o

GROUP_OBJS	= test/group/mutt_group_match.o \
		  test/group/mutt_grouplist_add.o \
		  test/group/mutt_grouplist_add_addrlist.o \
		  test/group/mutt_grouplist_add_regex.o \
		  test/group/mutt_grouplist_cleanup.o \
		  test/group/mutt_grouplist_clear.o \
		  test/group/mutt_grouplist_destroy.o \
		  test/group/mutt_grouplist_init.o \
		  test/group/mutt_grouplist_remove_addrlist.o \
		  test/group/mutt_grouplist_remove_regex.o \
		  test/group/mutt_pattern_group.o

GUI_OBJS	= test/gui/mutt_str_expand_tabs.o \
		  test/gui/reflow.o \
		  test/gui/swap.o \
		  test/gui/visible.o

HASH_OBJS	= test/hash/mutt_hash_delete.o \
		  test/hash/mutt_hash_find.o \
		  test/hash/mutt_hash_find_bucket.o \
		  test/hash/mutt_hash_find_elem.o \
		  test/hash/mutt_hash_free.o \
		  test/hash/mutt_hash_insert.o \
		  test/hash/mutt_hash_int_delete.o \
		  test/hash/mutt_hash_int_find.o \
		  test/hash/mutt_hash_int_insert.o \
		  test/hash/mutt_hash_int_new.o \
		  test/hash/mutt_hash_new.o \
		  test/hash/mutt_hash_set_destructor.o \
		  test/hash/mutt_hash_typed_insert.o \
		  test/hash/mutt_hash_walk.o

HISTORY_OBJS	= test/history/mutt_hist_add.o \
		  test/history/mutt_hist_at_scratch.o \
		  test/history/mutt_hist_cleanup.o \
		  test/history/mutt_hist_init.o \
		  test/history/mutt_hist_next.o \
		  test/history/mutt_hist_prev.o \
		  test/history/mutt_hist_read_file.o \
		  test/history/mutt_hist_reset_state.o \
		  test/history/mutt_hist_save_scratch.o \
		  test/history/mutt_hist_search.o

IDNA_OBJS	= test/idna/mutt_idna_intl_to_local.o \
		  test/idna/mutt_idna_local_to_intl.o \
		  test/idna/mutt_idna_print_version.o \
		  test/idna/mutt_idna_to_ascii_lz.o

IMAP_OBJS	= test/imap/msg_set.o

LIST_OBJS	= test/list/common.o \
		  test/list/mutt_list_clear.o \
		  test/list/mutt_list_copy_tail.o \
		  test/list/mutt_list_equal.o \
		  test/list/mutt_list_find.o \
		  test/list/mutt_list_free.o \
		  test/list/mutt_list_free_type.o \
		  test/list/mutt_list_insert_after.o \
		  test/list/mutt_list_insert_head.o \
		  test/list/mutt_list_insert_tail.o \
		  test/list/mutt_list_match.o \
		  test/list/mutt_list_str_split.o \
		  test/list/mutt_list_write.o

LOGGING_OBJS	= test/logging/log_disp_file.o \
		  test/logging/log_disp_queue.o \
		  test/logging/log_disp_terminal.o \
		  test/logging/log_file_close.o \
		  test/logging/log_file_open.o \
		  test/logging/log_file_running.o \
		  test/logging/log_file_set_filename.o \
		  test/logging/log_file_set_level.o \
		  test/logging/log_file_set_version.o \
		  test/logging/log_queue_add.o \
		  test/logging/log_queue_empty.o \
		  test/logging/log_queue_flush.o \
		  test/logging/log_queue_get.o \
		  test/logging/log_queue_set_max_size.o

MAILBOX_OBJS	= test/mailbox/mailbox_changed.o \
		  test/mailbox/mailbox_find.o \
		  test/mailbox/mailbox_find_name.o \
		  test/mailbox/mailbox_free.o \
		  test/mailbox/mailbox_new.o \
		  test/mailbox/mailbox_set_subset.o \
		  test/mailbox/mailbox_size_add.o \
		  test/mailbox/mailbox_size_sub.o \
		  test/mailbox/mailbox_update.o

MAPPING_OBJS	= test/mapping/mutt_map_get_name.o \
		  test/mapping/mutt_map_get_value.o \
		  test/mapping/mutt_map_get_value_n.o

MBYTE_OBJS	= test/mbyte/buf_mb_wcstombs.o \
		  test/mbyte/mutt_mb_charlen.o \
		  test/mbyte/mutt_mb_filter_unprintable.o \
		  test/mbyte/mutt_mb_get_initials.o \
		  test/mbyte/mutt_mb_is_display_corrupting_utf8.o \
		  test/mbyte/mutt_mb_is_lower.o \
		  test/mbyte/mutt_mb_is_shell_char.o \
		  test/mbyte/mutt_mb_mbstowcs.o \
		  test/mbyte/mutt_mb_wcswidth.o \
		  test/mbyte/mutt_mb_wcwidth.o \
		  test/mbyte/mutt_mb_width.o \
		  test/mbyte/mutt_mb_width_ceiling.o

MD5_OBJS	= test/md5/common.o \
		  test/md5/mutt_md5.o \
		  test/md5/mutt_md5_bytes.o \
		  test/md5/mutt_md5_finish_ctx.o \
		  test/md5/mutt_md5_init_ctx.o \
		  test/md5/mutt_md5_process.o \
		  test/md5/mutt_md5_process_bytes.o \
		  test/md5/mutt_md5_toascii.o

MEMORY_OBJS	= test/memory/mutt_mem_calloc.o \
		  test/memory/mutt_mem_free.o \
		  test/memory/mutt_mem_malloc.o \
		  test/memory/mutt_mem_realloc.o

NEOMUTT_OBJS	= test/neo/neomutt_account_add.o \
		  test/neo/neomutt_account_remove.o \
		  test/neo/neomutt_free.o \
		  test/neo/neomutt_mailboxlist_clear.o \
		  test/neo/neomutt_mailboxlist_get_all.o \
		  test/neo/neomutt_new.o

NOTIFY_OBJS	= test/notify/notify_free.o \
		  test/notify/notify_new.o \
		  test/notify/notify_observer_add.o \
		  test/notify/notify_observer_remove.o \
		  test/notify/notify_send.o \
		  test/notify/notify_set_parent.o

@if USE_NOTMUCH
NOTMUCH_OBJS	= test/notmuch/query_type.o \
		  test/notmuch/tag.o \
		  test/notmuch/window_query.o
@endif

PARAMETER_OBJS	= test/parameter/mutt_param_cmp_strict.o \
		  test/parameter/mutt_param_delete.o \
		  test/parameter/mutt_param_free.o \
		  test/parameter/mutt_param_free_one.o \
		  test/parameter/mutt_param_get.o \
		  test/parameter/mutt_param_new.o \
		  test/parameter/mutt_param_set.o

PARSE_OBJS	= test/parse/common.o \
		  test/parse/parse_extract_token.o \
		  test/parse/parse_rc.o \
		  test/parse/parse_rc_line.o \
		  test/parse/parse_set.o

PATH_OBJS	= test/path/mutt_path_abbr_folder.o \
		  test/path/mutt_path_basename.o \
		  test/path/mutt_path_canon.o \
		  test/path/mutt_path_dirname.o \
		  test/path/mutt_path_escape.o \
		  test/path/mutt_path_getcwd.o \
		  test/path/mutt_path_realpath.o \
		  test/path/mutt_path_tidy.o \
		  test/path/mutt_path_tidy_dotdot.o \
		  test/path/mutt_path_tidy_slash.o \
		  test/path/mutt_path_tilde.o \
		  test/path/mutt_path_to_absolute.o

PATTERN_OBJS	= pattern/pattern.o \
		  test/pattern/comp.o \
		  test/pattern/dummy.o \
		  test/pattern/leak.o

POOL_OBJS	= test/pool/buf_pool_cleanup.o \
		  test/pool/buf_pool_get.o \
		  test/pool/buf_pool_release.o

PREX_OBJS	= test/prex/mutt_prex_capture.o \
		  test/prex/mutt_prex_cleanup.o

RANDOM_OBJS	= test/random/random.o

REGEX_OBJS	= test/regex/mutt_regexlist_add.o \
		  test/regex/mutt_regexlist_free.o \
		  test/regex/mutt_regexlist_match.o \
		  test/regex/mutt_regexlist_new.o \
		  test/regex/mutt_regexlist_remove.o \
		  test/regex/mutt_regex_capture.o \
		  test/regex/mutt_regex_compile.o \
		  test/regex/mutt_regex_free.o \
		  test/regex/mutt_regex_match.o \
		  test/regex/mutt_regex_new.o \
		  test/regex/mutt_replacelist_add.o \
		  test/regex/mutt_replacelist_apply.o \
		  test/regex/mutt_replacelist_free.o \
		  test/regex/mutt_replacelist_match.o \
		  test/regex/mutt_replacelist_new.o \
		  test/regex/mutt_replacelist_remove.o

RFC2047_OBJS	= test/rfc2047/common.o \
		  test/rfc2047/rfc2047_decode.o \
		  test/rfc2047/rfc2047_decode_addrlist.o \
		  test/rfc2047/rfc2047_decode_envelope.o \
		  test/rfc2047/rfc2047_encode.o \
		  test/rfc2047/rfc2047_encode_addrlist.o \
		  test/rfc2047/rfc2047_encode_envelope.o

RFC2231_OBJS	= test/rfc2231/rfc2231_decode_parameters.o \
		  test/rfc2231/rfc2231_encode_string.o

SIGNAL_OBJS	= test/signal/mutt_sig_allow_interrupt.o \
		  test/signal/mutt_sig_block.o \
		  test/signal/mutt_sig_block_system.o \
		  test/signal/mutt_sig_empty_handler.o \
		  test/signal/mutt_sig_exit_handler.o \
		  test/signal/mutt_sig_init.o \
		  test/signal/mutt_sig_unblock.o \
		  test/signal/mutt_sig_unblock_system.o

SLIST_OBJS	= test/slist/slist_add_string.o \
		  test/slist/slist_dup.o \
		  test/slist/slist_equal.o \
		  test/slist/slist_free.o \
		  test/slist/slist_is_empty.o \
		  test/slist/slist_is_member.o \
		  test/slist/slist_parse.o \
		  test/slist/slist_remove_string.o \
		  test/slist/slist_to_buffer.o

SORT_OBJS	= test/sort/mutt_qsort_r.o

@if HAVE_BDB || HAVE_GDBM || HAVE_KC || HAVE_LMDB || HAVE_QDBM || HAVE_ROCKSDB || HAVE_TDB || HAVE_TC
STORE_OBJS	+= test/store/common.o test/store/store.o
@endif
@if HAVE_BDB
STORE_OBJS	+= test/store/bdb.o
@endif
@if HAVE_GDBM
STORE_OBJS	+= test/store/gdbm.o
@endif
@if HAVE_KC
STORE_OBJS	+= test/store/kc.o
@endif
@if HAVE_LMDB
STORE_OBJS	+= test/store/lmdb.o
@endif
@if HAVE_QDBM
STORE_OBJS	+= test/store/qdbm.o
@endif
@if HAVE_ROCKSDB
STORE_OBJS	+= test/store/rocksdb.o
@endif
@if HAVE_TDB
STORE_OBJS	+= test/store/tdb.o
@endif
@if HAVE_TC
STORE_OBJS	+= test/store/tc.o
@endif

STRING_OBJS	= test/string/mutt_istrn_cmp.o \
		  test/string/mutt_istrn_equal.o \
		  test/string/mutt_istrn_rfind.o \
		  test/string/mutt_istr_equal.o \
		  test/string/mutt_istr_find.o \
		  test/string/mutt_istr_remall.o \
		  test/string/mutt_strn_copy.o \
		  test/string/mutt_strn_dup.o \
		  test/string/mutt_strn_equal.o \
		  test/string/mutt_str_adjust.o \
		  test/string/mutt_str_asprintf.o \
		  test/string/mutt_str_coll.o \
		  test/string/mutt_str_copy.o \
		  test/string/mutt_str_dup.o \
		  test/string/mutt_str_equal.o \
		  test/string/mutt_str_find_word.o \
		  test/string/mutt_str_getenv.o \
		  test/string/mutt_str_hyphenate.o \
		  test/string/mutt_str_inbox_cmp.o \
		  test/string/mutt_str_is_ascii.o \
		  test/string/mutt_str_is_email_wsp.o \
		  test/string/mutt_str_len.o \
		  test/string/mutt_str_lower.o \
		  test/string/mutt_str_lws_len.o \
		  test/string/mutt_str_remove_trailing_ws.o \
		  test/string/mutt_str_replace.o \
		  test/string/mutt_str_sep.o \
		  test/string/mutt_str_skip_email_wsp.o \
		  test/string/mutt_str_skip_whitespace.o \
		  test/string/mutt_str_startswith.o \
		  test/string/mutt_str_sysexit.o \
		  test/string/mutt_str_upper.o

TAGS_OBJS	= test/tags/driver_tags_free.o \
		  test/tags/driver_tags_get.o \
		  test/tags/driver_tags_get_transformed.o \
		  test/tags/driver_tags_get_transformed_for.o \
		  test/tags/driver_tags_get_with_hidden.o \
		  test/tags/driver_tags_replace.o

THREAD_OBJS	= test/thread/clean_references.o \
		  test/thread/find_virtual.o \
		  test/thread/insert_message.o \
		  test/thread/is_descendant.o \
		  test/thread/mutt_break_thread.o \
		  test/thread/unlink_message.o

URL_OBJS	= test/url/url_check_scheme.o \
		  test/url/url_free.o \
		  test/url/url_parse.o \
		  test/url/url_pct_decode.o \
		  test/url/url_pct_encode.o \
		  test/url/url_tobuffer.o \
		  test/url/url_tostring.o

BUILD_DIRS	= $(PWD)/test/account $(PWD)/test/address $(PWD)/test/array \
		  $(PWD)/test/atoi $(PWD)/test/attach $(PWD)/test/base64 \
		  $(PWD)/test/body $(PWD)/test/buffer $(PWD)/test/charset \
		  $(PWD)/test/cli $(PWD)/test/color $(PWD)/test/compress \
		  $(PWD)/test/config $(PWD)/test/convert $(PWD)/test/core \
		  $(PWD)/test/date $(PWD)/test/editor $(PWD)/test/email \
		  $(PWD)/test/envelope $(PWD)/test/envlist $(PWD)/test/eqi \
		  $(PWD)/test/expando $(PWD)/test/file $(PWD)/test/filter \
		  $(PWD)/test/from $(PWD)/test/group $(PWD)/test/gui \
		  $(PWD)/test/hash $(PWD)/test/history $(PWD)/test/idna \
		  $(PWD)/test/imap $(PWD)/test/list $(PWD)/test/logging \
		  $(PWD)/test/mailbox $(PWD)/test/mapping $(PWD)/test/mbyte \
		  $(PWD)/test/md5 $(PWD)/test/memory $(PWD)/test/neo \
		  $(PWD)/test/notify $(PWD)/test/notmuch \
		  $(PWD)/test/parameter $(PWD)/test/parse $(PWD)/test/path \
		  $(PWD)/test/pattern $(PWD)/test/pool $(PWD)/test/prex \
		  $(PWD)/test/random $(PWD)/test/regex $(PWD)/test/rfc2047 \
		  $(PWD)/test/rfc2231 $(PWD)/test/signal $(PWD)/test/slist \
		  $(PWD)/test/sort $(PWD)/test/store $(PWD)/test/string \
		  $(PWD)/test/tags $(PWD)/test/thread $(PWD)/test/url

TEST_OBJS	= test/common.o test/main.o \
		  $(ACCOUNT_OBJS) \
		  $(ADDRESS_OBJS) \
		  $(ARRAY_OBJS) \
		  $(ATOI_OBJS) \
		  $(ATTACH_OBJS) \
		  $(BASE64_OBJS) \
		  $(BODY_OBJS) \
		  $(BUFFER_OBJS) \
		  $(CHARSET_OBJS) \
		  $(CLI_OBJS) \
		  $(COLOR_OBJS) \
		  $(COMPRESS_OBJS) \
		  $(CONFIG_OBJS) \
		  $(CONVERT_OBJS) \
		  $(CORE_OBJS) \
		  $(DATE_OBJS) \
		  $(EDITOR_OBJS) \
		  $(EMAIL_OBJS) \
		  $(ENVELOPE_OBJS) \
		  $(ENVLIST_OBJS) \
		  $(EQI_OBJS) \
		  $(EXPANDO_OBJS) \
		  $(FILE_OBJS) \
		  $(FILTER_OBJS) \
		  $(FROM_OBJS) \
		  $(GROUP_OBJS) \
		  $(GUI_OBJS) \
		  $(HASH_OBJS) \
		  $(HISTORY_OBJS) \
		  $(IDNA_OBJS) \
		  $(IMAP_OBJS) \
		  $(LIST_OBJS) \
		  $(LOGGING_OBJS) \
		  $(MAILBOX_OBJS) \
		  $(MAPPING_OBJS) \
		  $(MBYTE_OBJS) \
		  $(MD5_OBJS) \
		  $(MEMORY_OBJS) \
		  $(NEOMUTT_OBJS) \
		  $(NOTIFY_OBJS) \
		  $(NOTMUCH_OBJS) \
		  $(PARAMETER_OBJS) \
		  $(PARSE_OBJS) \
		  $(PATH_OBJS) \
		  $(PATTERN_OBJS) \
		  $(POOL_OBJS) \
		  $(PREX_OBJS) \
		  $(RANDOM_OBJS) \
		  $(REGEX_OBJS) \
		  $(RFC2047_OBJS) \
		  $(RFC2231_OBJS) \
		  $(SIGNAL_OBJS) \
		  $(SLIST_OBJS) \
		  $(SORT_OBJS) \
		  $(STORE_OBJS) \
		  $(STRING_OBJS) \
		  $(TAGS_OBJS) \
		  $(THREAD_OBJS) \
		  $(URL_OBJS)

CFLAGS	+= -I$(SRCDIR)/test

TEST_BINARY = test/neomutt-test$(EXEEXT)

.PHONY: test
test: $(TEST_BINARY)
	$(TEST_BINARY)

$(BUILD_DIRS):
	$(MKDIR_P) $@

$(TEST_BINARY): $(BUILD_DIRS) $(MUTTLIBS) $(TEST_OBJS)
	$(CC) -o $@ $(TEST_OBJS) $(MUTTLIBS) $(LDFLAGS) $(LIBS)

all-test:

clean-test:
	$(RM) $(TEST_BINARY) $(TEST_OBJS) $(TEST_OBJS:.o=.Po)

install-test:
uninstall-test:

TEST_DEPFILES = $(TEST_OBJS:.o=.Po)
-include $(TEST_DEPFILES)

# vim: set ts=8 noexpandtab:
